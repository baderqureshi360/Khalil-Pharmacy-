var hj=Object.defineProperty;var gg=t=>{throw TypeError(t)};var pj=(t,e,r)=>e in t?hj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var $d=(t,e,r)=>pj(t,typeof e!="symbol"?e+"":e,r),Ld=(t,e,r)=>e.has(t)||gg("Cannot "+r);var z=(t,e,r)=>(Ld(t,e,"read from private field"),r?r.call(t):e.get(t)),Ce=(t,e,r)=>e.has(t)?gg("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),xe=(t,e,r,n)=>(Ld(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),vt=(t,e,r)=>(Ld(t,e,"access private method"),r);var Ll=(t,e,r,n)=>({set _(s){xe(t,e,s,r)},get _(){return z(t,e,n)}});function mj(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function Ox(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ix={exports:{}},$u={},Dx={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bl=Symbol.for("react.element"),gj=Symbol.for("react.portal"),vj=Symbol.for("react.fragment"),yj=Symbol.for("react.strict_mode"),xj=Symbol.for("react.profiler"),wj=Symbol.for("react.provider"),bj=Symbol.for("react.context"),_j=Symbol.for("react.forward_ref"),kj=Symbol.for("react.suspense"),Sj=Symbol.for("react.memo"),jj=Symbol.for("react.lazy"),vg=Symbol.iterator;function Ej(t){return t===null||typeof t!="object"?null:(t=vg&&t[vg]||t["@@iterator"],typeof t=="function"?t:null)}var Mx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$x=Object.assign,Lx={};function Ra(t,e,r){this.props=t,this.context=e,this.refs=Lx,this.updater=r||Mx}Ra.prototype.isReactComponent={};Ra.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ra.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Fx(){}Fx.prototype=Ra.prototype;function _p(t,e,r){this.props=t,this.context=e,this.refs=Lx,this.updater=r||Mx}var kp=_p.prototype=new Fx;kp.constructor=_p;$x(kp,Ra.prototype);kp.isPureReactComponent=!0;var yg=Array.isArray,Ux=Object.prototype.hasOwnProperty,Sp={current:null},Bx={key:!0,ref:!0,__self:!0,__source:!0};function zx(t,e,r){var n,s={},i=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)Ux.call(e,n)&&!Bx.hasOwnProperty(n)&&(s[n]=e[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:bl,type:t,key:i,ref:a,props:s,_owner:Sp.current}}function Nj(t,e){return{$$typeof:bl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function jp(t){return typeof t=="object"&&t!==null&&t.$$typeof===bl}function Cj(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var xg=/\/+/g;function Fd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Cj(""+t.key):e.toString(36)}function xc(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case bl:case gj:a=!0}}if(a)return a=t,s=s(a),t=n===""?"."+Fd(a,0):n,yg(s)?(r="",t!=null&&(r=t.replace(xg,"$&/")+"/"),xc(s,e,r,"",function(u){return u})):s!=null&&(jp(s)&&(s=Nj(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(xg,"$&/")+"/")+t)),e.push(s)),1;if(a=0,n=n===""?".":n+":",yg(t))for(var l=0;l<t.length;l++){i=t[l];var c=n+Fd(i,l);a+=xc(i,e,r,c,s)}else if(c=Ej(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=n+Fd(i,l++),a+=xc(i,e,r,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Fl(t,e,r){if(t==null)return t;var n=[],s=0;return xc(t,n,"","",function(i){return e.call(r,i,s++)}),n}function Tj(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Pt={current:null},wc={transition:null},Pj={ReactCurrentDispatcher:Pt,ReactCurrentBatchConfig:wc,ReactCurrentOwner:Sp};function Vx(){throw Error("act(...) is not supported in production builds of React.")}Se.Children={map:Fl,forEach:function(t,e,r){Fl(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Fl(t,function(){e++}),e},toArray:function(t){return Fl(t,function(e){return e})||[]},only:function(t){if(!jp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Se.Component=Ra;Se.Fragment=vj;Se.Profiler=xj;Se.PureComponent=_p;Se.StrictMode=yj;Se.Suspense=kj;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pj;Se.act=Vx;Se.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=$x({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=Sp.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)Ux.call(e,c)&&!Bx.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:bl,type:t.type,key:s,ref:i,props:n,_owner:a}};Se.createContext=function(t){return t={$$typeof:bj,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:wj,_context:t},t.Consumer=t};Se.createElement=zx;Se.createFactory=function(t){var e=zx.bind(null,t);return e.type=t,e};Se.createRef=function(){return{current:null}};Se.forwardRef=function(t){return{$$typeof:_j,render:t}};Se.isValidElement=jp;Se.lazy=function(t){return{$$typeof:jj,_payload:{_status:-1,_result:t},_init:Tj}};Se.memo=function(t,e){return{$$typeof:Sj,type:t,compare:e===void 0?null:e}};Se.startTransition=function(t){var e=wc.transition;wc.transition={};try{t()}finally{wc.transition=e}};Se.unstable_act=Vx;Se.useCallback=function(t,e){return Pt.current.useCallback(t,e)};Se.useContext=function(t){return Pt.current.useContext(t)};Se.useDebugValue=function(){};Se.useDeferredValue=function(t){return Pt.current.useDeferredValue(t)};Se.useEffect=function(t,e){return Pt.current.useEffect(t,e)};Se.useId=function(){return Pt.current.useId()};Se.useImperativeHandle=function(t,e,r){return Pt.current.useImperativeHandle(t,e,r)};Se.useInsertionEffect=function(t,e){return Pt.current.useInsertionEffect(t,e)};Se.useLayoutEffect=function(t,e){return Pt.current.useLayoutEffect(t,e)};Se.useMemo=function(t,e){return Pt.current.useMemo(t,e)};Se.useReducer=function(t,e,r){return Pt.current.useReducer(t,e,r)};Se.useRef=function(t){return Pt.current.useRef(t)};Se.useState=function(t){return Pt.current.useState(t)};Se.useSyncExternalStore=function(t,e,r){return Pt.current.useSyncExternalStore(t,e,r)};Se.useTransition=function(){return Pt.current.useTransition()};Se.version="18.3.1";Dx.exports=Se;var h=Dx.exports;const K=Ox(h),Ep=mj({__proto__:null,default:K},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rj=h,Aj=Symbol.for("react.element"),Oj=Symbol.for("react.fragment"),Ij=Object.prototype.hasOwnProperty,Dj=Rj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Mj={key:!0,ref:!0,__self:!0,__source:!0};function Wx(t,e,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)Ij.call(e,n)&&!Mj.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:Aj,type:t,key:i,ref:a,props:s,_owner:Dj.current}}$u.Fragment=Oj;$u.jsx=Wx;$u.jsxs=Wx;Ix.exports=$u;var o=Ix.exports,qx={exports:{}},Gt={},Hx={exports:{}},Kx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(C,j){var L=C.length;C.push(j);e:for(;0<L;){var q=L-1>>>1,T=C[q];if(0<s(T,j))C[q]=j,C[L]=T,L=q;else break e}}function r(C){return C.length===0?null:C[0]}function n(C){if(C.length===0)return null;var j=C[0],L=C.pop();if(L!==j){C[0]=L;e:for(var q=0,T=C.length,B=T>>>1;q<B;){var F=2*(q+1)-1,P=C[F],U=F+1,M=C[U];if(0>s(P,L))U<T&&0>s(M,P)?(C[q]=M,C[U]=L,q=U):(C[q]=P,C[F]=L,q=F);else if(U<T&&0>s(M,L))C[q]=M,C[U]=L,q=U;else break e}}return j}function s(C,j){var L=C.sortIndex-j.sortIndex;return L!==0?L:C.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,f=null,g=3,p=!1,x=!1,m=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(C){for(var j=r(u);j!==null;){if(j.callback===null)n(u);else if(j.startTime<=C)n(u),j.sortIndex=j.expirationTime,e(c,j);else break;j=r(u)}}function _(C){if(m=!1,w(C),!x)if(r(c)!==null)x=!0,V(k);else{var j=r(u);j!==null&&Q(_,j.startTime-C)}}function k(C,j){x=!1,m&&(m=!1,y(R),R=-1),p=!0;var L=g;try{for(w(j),f=r(c);f!==null&&(!(f.expirationTime>j)||C&&!N());){var q=f.callback;if(typeof q=="function"){f.callback=null,g=f.priorityLevel;var T=q(f.expirationTime<=j);j=t.unstable_now(),typeof T=="function"?f.callback=T:f===r(c)&&n(c),w(j)}else n(c);f=r(c)}if(f!==null)var B=!0;else{var F=r(u);F!==null&&Q(_,F.startTime-j),B=!1}return B}finally{f=null,g=L,p=!1}}var E=!1,S=null,R=-1,$=5,O=-1;function N(){return!(t.unstable_now()-O<$)}function A(){if(S!==null){var C=t.unstable_now();O=C;var j=!0;try{j=S(!0,C)}finally{j?I():(E=!1,S=null)}}else E=!1}var I;if(typeof v=="function")I=function(){v(A)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,W=D.port2;D.port1.onmessage=A,I=function(){W.postMessage(null)}}else I=function(){b(A,0)};function V(C){S=C,E||(E=!0,I())}function Q(C,j){R=b(function(){C(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_continueExecution=function(){x||p||(x=!0,V(k))},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(C){switch(g){case 1:case 2:case 3:var j=3;break;default:j=g}var L=g;g=j;try{return C()}finally{g=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(C,j){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var L=g;g=C;try{return j()}finally{g=L}},t.unstable_scheduleCallback=function(C,j,L){var q=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?q+L:q):L=q,C){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=L+T,C={id:d++,callback:j,priorityLevel:C,startTime:L,expirationTime:T,sortIndex:-1},L>q?(C.sortIndex=L,e(u,C),r(c)===null&&C===r(u)&&(m?(y(R),R=-1):m=!0,Q(_,L-q))):(C.sortIndex=T,e(c,C),x||p||(x=!0,V(k))),C},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(C){var j=g;return function(){var L=g;g=j;try{return C.apply(this,arguments)}finally{g=L}}}})(Kx);Hx.exports=Kx;var $j=Hx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lj=h,Ht=$j;function G(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Gx=new Set,Do={};function oi(t,e){ha(t,e),ha(t+"Capture",e)}function ha(t,e){for(Do[t]=e,t=0;t<e.length;t++)Gx.add(e[t])}var on=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vf=Object.prototype.hasOwnProperty,Fj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wg={},bg={};function Uj(t){return Vf.call(bg,t)?!0:Vf.call(wg,t)?!1:Fj.test(t)?bg[t]=!0:(wg[t]=!0,!1)}function Bj(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function zj(t,e,r,n){if(e===null||typeof e>"u"||Bj(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Rt(t,e,r,n,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){mt[t]=new Rt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];mt[e]=new Rt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){mt[t]=new Rt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){mt[t]=new Rt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){mt[t]=new Rt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){mt[t]=new Rt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){mt[t]=new Rt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){mt[t]=new Rt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){mt[t]=new Rt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Np=/[\-:]([a-z])/g;function Cp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Np,Cp);mt[e]=new Rt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Np,Cp);mt[e]=new Rt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Np,Cp);mt[e]=new Rt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){mt[t]=new Rt(t,1,!1,t.toLowerCase(),null,!1,!1)});mt.xlinkHref=new Rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){mt[t]=new Rt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Tp(t,e,r,n){var s=mt.hasOwnProperty(e)?mt[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(zj(e,r,s,n)&&(r=null),n||s===null?Uj(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var hn=Lj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ul=Symbol.for("react.element"),Ii=Symbol.for("react.portal"),Di=Symbol.for("react.fragment"),Pp=Symbol.for("react.strict_mode"),Wf=Symbol.for("react.profiler"),Yx=Symbol.for("react.provider"),Qx=Symbol.for("react.context"),Rp=Symbol.for("react.forward_ref"),qf=Symbol.for("react.suspense"),Hf=Symbol.for("react.suspense_list"),Ap=Symbol.for("react.memo"),En=Symbol.for("react.lazy"),Zx=Symbol.for("react.offscreen"),_g=Symbol.iterator;function Qa(t){return t===null||typeof t!="object"?null:(t=_g&&t[_g]||t["@@iterator"],typeof t=="function"?t:null)}var Ye=Object.assign,Ud;function ho(t){if(Ud===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Ud=e&&e[1]||""}return`
`+Ud+t}var Bd=!1;function zd(t,e){if(!t||Bd)return"";Bd=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{Bd=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?ho(t):""}function Vj(t){switch(t.tag){case 5:return ho(t.type);case 16:return ho("Lazy");case 13:return ho("Suspense");case 19:return ho("SuspenseList");case 0:case 2:case 15:return t=zd(t.type,!1),t;case 11:return t=zd(t.type.render,!1),t;case 1:return t=zd(t.type,!0),t;default:return""}}function Kf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Di:return"Fragment";case Ii:return"Portal";case Wf:return"Profiler";case Pp:return"StrictMode";case qf:return"Suspense";case Hf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Qx:return(t.displayName||"Context")+".Consumer";case Yx:return(t._context.displayName||"Context")+".Provider";case Rp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ap:return e=t.displayName||null,e!==null?e:Kf(t.type)||"Memo";case En:e=t._payload,t=t._init;try{return Kf(t(e))}catch{}}return null}function Wj(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kf(e);case 8:return e===Pp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function is(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Jx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function qj(t){var e=Jx(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Bl(t){t._valueTracker||(t._valueTracker=qj(t))}function Xx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Jx(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Lc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Gf(t,e){var r=e.checked;return Ye({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function kg(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=is(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ew(t,e){e=e.checked,e!=null&&Tp(t,"checked",e,!1)}function Yf(t,e){ew(t,e);var r=is(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Qf(t,e.type,r):e.hasOwnProperty("defaultValue")&&Qf(t,e.type,is(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Sg(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Qf(t,e,r){(e!=="number"||Lc(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var po=Array.isArray;function Ki(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+is(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Zf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(G(91));return Ye({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function jg(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(G(92));if(po(r)){if(1<r.length)throw Error(G(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:is(r)}}function tw(t,e){var r=is(e.value),n=is(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Eg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function rw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?rw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var zl,nw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(zl=zl||document.createElement("div"),zl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=zl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Mo(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var wo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hj=["Webkit","ms","Moz","O"];Object.keys(wo).forEach(function(t){Hj.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),wo[e]=wo[t]})});function sw(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||wo.hasOwnProperty(t)&&wo[t]?(""+e).trim():e+"px"}function iw(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=sw(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var Kj=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xf(t,e){if(e){if(Kj[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(G(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(G(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(G(61))}if(e.style!=null&&typeof e.style!="object")throw Error(G(62))}}function eh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var th=null;function Op(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var rh=null,Gi=null,Yi=null;function Ng(t){if(t=Sl(t)){if(typeof rh!="function")throw Error(G(280));var e=t.stateNode;e&&(e=zu(e),rh(t.stateNode,t.type,e))}}function aw(t){Gi?Yi?Yi.push(t):Yi=[t]:Gi=t}function ow(){if(Gi){var t=Gi,e=Yi;if(Yi=Gi=null,Ng(t),e)for(t=0;t<e.length;t++)Ng(e[t])}}function lw(t,e){return t(e)}function cw(){}var Vd=!1;function uw(t,e,r){if(Vd)return t(e,r);Vd=!0;try{return lw(t,e,r)}finally{Vd=!1,(Gi!==null||Yi!==null)&&(cw(),ow())}}function $o(t,e){var r=t.stateNode;if(r===null)return null;var n=zu(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(G(231,e,typeof r));return r}var nh=!1;if(on)try{var Za={};Object.defineProperty(Za,"passive",{get:function(){nh=!0}}),window.addEventListener("test",Za,Za),window.removeEventListener("test",Za,Za)}catch{nh=!1}function Gj(t,e,r,n,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var bo=!1,Fc=null,Uc=!1,sh=null,Yj={onError:function(t){bo=!0,Fc=t}};function Qj(t,e,r,n,s,i,a,l,c){bo=!1,Fc=null,Gj.apply(Yj,arguments)}function Zj(t,e,r,n,s,i,a,l,c){if(Qj.apply(this,arguments),bo){if(bo){var u=Fc;bo=!1,Fc=null}else throw Error(G(198));Uc||(Uc=!0,sh=u)}}function li(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function dw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Cg(t){if(li(t)!==t)throw Error(G(188))}function Jj(t){var e=t.alternate;if(!e){if(e=li(t),e===null)throw Error(G(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Cg(s),t;if(i===n)return Cg(s),e;i=i.sibling}throw Error(G(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a)throw Error(G(189))}}if(r.alternate!==n)throw Error(G(190))}if(r.tag!==3)throw Error(G(188));return r.stateNode.current===r?t:e}function fw(t){return t=Jj(t),t!==null?hw(t):null}function hw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=hw(t);if(e!==null)return e;t=t.sibling}return null}var pw=Ht.unstable_scheduleCallback,Tg=Ht.unstable_cancelCallback,Xj=Ht.unstable_shouldYield,eE=Ht.unstable_requestPaint,tt=Ht.unstable_now,tE=Ht.unstable_getCurrentPriorityLevel,Ip=Ht.unstable_ImmediatePriority,mw=Ht.unstable_UserBlockingPriority,Bc=Ht.unstable_NormalPriority,rE=Ht.unstable_LowPriority,gw=Ht.unstable_IdlePriority,Lu=null,Vr=null;function nE(t){if(Vr&&typeof Vr.onCommitFiberRoot=="function")try{Vr.onCommitFiberRoot(Lu,t,void 0,(t.current.flags&128)===128)}catch{}}var Nr=Math.clz32?Math.clz32:aE,sE=Math.log,iE=Math.LN2;function aE(t){return t>>>=0,t===0?32:31-(sE(t)/iE|0)|0}var Vl=64,Wl=4194304;function mo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function zc(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=mo(l):(i&=a,i!==0&&(n=mo(i)))}else a=r&~s,a!==0?n=mo(a):i!==0&&(n=mo(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Nr(e),s=1<<r,n|=t[r],e&=~s;return n}function oE(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lE(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-Nr(i),l=1<<a,c=s[a];c===-1?(!(l&r)||l&n)&&(s[a]=oE(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function ih(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function vw(){var t=Vl;return Vl<<=1,!(Vl&4194240)&&(Vl=64),t}function Wd(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function _l(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Nr(e),t[e]=r}function cE(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Nr(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function Dp(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Nr(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var De=0;function yw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var xw,Mp,ww,bw,_w,ah=!1,ql=[],Vn=null,Wn=null,qn=null,Lo=new Map,Fo=new Map,Pn=[],uE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pg(t,e){switch(t){case"focusin":case"focusout":Vn=null;break;case"dragenter":case"dragleave":Wn=null;break;case"mouseover":case"mouseout":qn=null;break;case"pointerover":case"pointerout":Lo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fo.delete(e.pointerId)}}function Ja(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Sl(e),e!==null&&Mp(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function dE(t,e,r,n,s){switch(e){case"focusin":return Vn=Ja(Vn,t,e,r,n,s),!0;case"dragenter":return Wn=Ja(Wn,t,e,r,n,s),!0;case"mouseover":return qn=Ja(qn,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return Lo.set(i,Ja(Lo.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Fo.set(i,Ja(Fo.get(i)||null,t,e,r,n,s)),!0}return!1}function kw(t){var e=Is(t.target);if(e!==null){var r=li(e);if(r!==null){if(e=r.tag,e===13){if(e=dw(r),e!==null){t.blockedOn=e,_w(t.priority,function(){ww(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=oh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);th=n,r.target.dispatchEvent(n),th=null}else return e=Sl(r),e!==null&&Mp(e),t.blockedOn=r,!1;e.shift()}return!0}function Rg(t,e,r){bc(t)&&r.delete(e)}function fE(){ah=!1,Vn!==null&&bc(Vn)&&(Vn=null),Wn!==null&&bc(Wn)&&(Wn=null),qn!==null&&bc(qn)&&(qn=null),Lo.forEach(Rg),Fo.forEach(Rg)}function Xa(t,e){t.blockedOn===e&&(t.blockedOn=null,ah||(ah=!0,Ht.unstable_scheduleCallback(Ht.unstable_NormalPriority,fE)))}function Uo(t){function e(s){return Xa(s,t)}if(0<ql.length){Xa(ql[0],t);for(var r=1;r<ql.length;r++){var n=ql[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Vn!==null&&Xa(Vn,t),Wn!==null&&Xa(Wn,t),qn!==null&&Xa(qn,t),Lo.forEach(e),Fo.forEach(e),r=0;r<Pn.length;r++)n=Pn[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Pn.length&&(r=Pn[0],r.blockedOn===null);)kw(r),r.blockedOn===null&&Pn.shift()}var Qi=hn.ReactCurrentBatchConfig,Vc=!0;function hE(t,e,r,n){var s=De,i=Qi.transition;Qi.transition=null;try{De=1,$p(t,e,r,n)}finally{De=s,Qi.transition=i}}function pE(t,e,r,n){var s=De,i=Qi.transition;Qi.transition=null;try{De=4,$p(t,e,r,n)}finally{De=s,Qi.transition=i}}function $p(t,e,r,n){if(Vc){var s=oh(t,e,r,n);if(s===null)ef(t,e,n,Wc,r),Pg(t,n);else if(dE(s,t,e,r,n))n.stopPropagation();else if(Pg(t,n),e&4&&-1<uE.indexOf(t)){for(;s!==null;){var i=Sl(s);if(i!==null&&xw(i),i=oh(t,e,r,n),i===null&&ef(t,e,n,Wc,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else ef(t,e,n,null,r)}}var Wc=null;function oh(t,e,r,n){if(Wc=null,t=Op(n),t=Is(t),t!==null)if(e=li(t),e===null)t=null;else if(r=e.tag,r===13){if(t=dw(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Wc=t,null}function Sw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tE()){case Ip:return 1;case mw:return 4;case Bc:case rE:return 16;case gw:return 536870912;default:return 16}default:return 16}}var Ln=null,Lp=null,_c=null;function jw(){if(_c)return _c;var t,e=Lp,r=e.length,n,s="value"in Ln?Ln.value:Ln.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===s[i-n];n++);return _c=s.slice(t,1<n?1-n:void 0)}function kc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Hl(){return!0}function Ag(){return!1}function Yt(t){function e(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Hl:Ag,this.isPropagationStopped=Ag,this}return Ye(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Hl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Hl)},persist:function(){},isPersistent:Hl}),e}var Aa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fp=Yt(Aa),kl=Ye({},Aa,{view:0,detail:0}),mE=Yt(kl),qd,Hd,eo,Fu=Ye({},kl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Up,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==eo&&(eo&&t.type==="mousemove"?(qd=t.screenX-eo.screenX,Hd=t.screenY-eo.screenY):Hd=qd=0,eo=t),qd)},movementY:function(t){return"movementY"in t?t.movementY:Hd}}),Og=Yt(Fu),gE=Ye({},Fu,{dataTransfer:0}),vE=Yt(gE),yE=Ye({},kl,{relatedTarget:0}),Kd=Yt(yE),xE=Ye({},Aa,{animationName:0,elapsedTime:0,pseudoElement:0}),wE=Yt(xE),bE=Ye({},Aa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_E=Yt(bE),kE=Ye({},Aa,{data:0}),Ig=Yt(kE),SE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},EE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NE(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=EE[t])?!!e[t]:!1}function Up(){return NE}var CE=Ye({},kl,{key:function(t){if(t.key){var e=SE[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=kc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?jE[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Up,charCode:function(t){return t.type==="keypress"?kc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?kc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),TE=Yt(CE),PE=Ye({},Fu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dg=Yt(PE),RE=Ye({},kl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Up}),AE=Yt(RE),OE=Ye({},Aa,{propertyName:0,elapsedTime:0,pseudoElement:0}),IE=Yt(OE),DE=Ye({},Fu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ME=Yt(DE),$E=[9,13,27,32],Bp=on&&"CompositionEvent"in window,_o=null;on&&"documentMode"in document&&(_o=document.documentMode);var LE=on&&"TextEvent"in window&&!_o,Ew=on&&(!Bp||_o&&8<_o&&11>=_o),Mg=" ",$g=!1;function Nw(t,e){switch(t){case"keyup":return $E.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Mi=!1;function FE(t,e){switch(t){case"compositionend":return Cw(e);case"keypress":return e.which!==32?null:($g=!0,Mg);case"textInput":return t=e.data,t===Mg&&$g?null:t;default:return null}}function UE(t,e){if(Mi)return t==="compositionend"||!Bp&&Nw(t,e)?(t=jw(),_c=Lp=Ln=null,Mi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ew&&e.locale!=="ko"?null:e.data;default:return null}}var BE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!BE[t.type]:e==="textarea"}function Tw(t,e,r,n){aw(n),e=qc(e,"onChange"),0<e.length&&(r=new Fp("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var ko=null,Bo=null;function zE(t){Uw(t,0)}function Uu(t){var e=Fi(t);if(Xx(e))return t}function VE(t,e){if(t==="change")return e}var Pw=!1;if(on){var Gd;if(on){var Yd="oninput"in document;if(!Yd){var Fg=document.createElement("div");Fg.setAttribute("oninput","return;"),Yd=typeof Fg.oninput=="function"}Gd=Yd}else Gd=!1;Pw=Gd&&(!document.documentMode||9<document.documentMode)}function Ug(){ko&&(ko.detachEvent("onpropertychange",Rw),Bo=ko=null)}function Rw(t){if(t.propertyName==="value"&&Uu(Bo)){var e=[];Tw(e,Bo,t,Op(t)),uw(zE,e)}}function WE(t,e,r){t==="focusin"?(Ug(),ko=e,Bo=r,ko.attachEvent("onpropertychange",Rw)):t==="focusout"&&Ug()}function qE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Uu(Bo)}function HE(t,e){if(t==="click")return Uu(e)}function KE(t,e){if(t==="input"||t==="change")return Uu(e)}function GE(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Tr=typeof Object.is=="function"?Object.is:GE;function zo(t,e){if(Tr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Vf.call(e,s)||!Tr(t[s],e[s]))return!1}return!0}function Bg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zg(t,e){var r=Bg(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Bg(r)}}function Aw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Aw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ow(){for(var t=window,e=Lc();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Lc(t.document)}return e}function zp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function YE(t){var e=Ow(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Aw(r.ownerDocument.documentElement,r)){if(n!==null&&zp(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=zg(r,i);var a=zg(r,n);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var QE=on&&"documentMode"in document&&11>=document.documentMode,$i=null,lh=null,So=null,ch=!1;function Vg(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ch||$i==null||$i!==Lc(n)||(n=$i,"selectionStart"in n&&zp(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),So&&zo(So,n)||(So=n,n=qc(lh,"onSelect"),0<n.length&&(e=new Fp("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=$i)))}function Kl(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Li={animationend:Kl("Animation","AnimationEnd"),animationiteration:Kl("Animation","AnimationIteration"),animationstart:Kl("Animation","AnimationStart"),transitionend:Kl("Transition","TransitionEnd")},Qd={},Iw={};on&&(Iw=document.createElement("div").style,"AnimationEvent"in window||(delete Li.animationend.animation,delete Li.animationiteration.animation,delete Li.animationstart.animation),"TransitionEvent"in window||delete Li.transitionend.transition);function Bu(t){if(Qd[t])return Qd[t];if(!Li[t])return t;var e=Li[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Iw)return Qd[t]=e[r];return t}var Dw=Bu("animationend"),Mw=Bu("animationiteration"),$w=Bu("animationstart"),Lw=Bu("transitionend"),Fw=new Map,Wg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hs(t,e){Fw.set(t,e),oi(e,[t])}for(var Zd=0;Zd<Wg.length;Zd++){var Jd=Wg[Zd],ZE=Jd.toLowerCase(),JE=Jd[0].toUpperCase()+Jd.slice(1);hs(ZE,"on"+JE)}hs(Dw,"onAnimationEnd");hs(Mw,"onAnimationIteration");hs($w,"onAnimationStart");hs("dblclick","onDoubleClick");hs("focusin","onFocus");hs("focusout","onBlur");hs(Lw,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));oi("onBeforeInput",["compositionend","keypress","textInput","paste"]);oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var go="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XE=new Set("cancel close invalid load scroll toggle".split(" ").concat(go));function qg(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Zj(n,e,void 0,t),t.currentTarget=null}function Uw(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;qg(s,l,u),i=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;qg(s,l,u),i=c}}}if(Uc)throw t=sh,Uc=!1,sh=null,t}function ze(t,e){var r=e[ph];r===void 0&&(r=e[ph]=new Set);var n=t+"__bubble";r.has(n)||(Bw(e,t,2,!1),r.add(n))}function Xd(t,e,r){var n=0;e&&(n|=4),Bw(r,t,n,e)}var Gl="_reactListening"+Math.random().toString(36).slice(2);function Vo(t){if(!t[Gl]){t[Gl]=!0,Gx.forEach(function(r){r!=="selectionchange"&&(XE.has(r)||Xd(r,!1,t),Xd(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Gl]||(e[Gl]=!0,Xd("selectionchange",!1,e))}}function Bw(t,e,r,n){switch(Sw(e)){case 1:var s=hE;break;case 4:s=pE;break;default:s=$p}r=s.bind(null,e,r,t),s=void 0,!nh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function ef(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Is(l),a===null)return;if(c=a.tag,c===5||c===6){n=i=a;continue e}l=l.parentNode}}n=n.return}uw(function(){var u=i,d=Op(r),f=[];e:{var g=Fw.get(t);if(g!==void 0){var p=Fp,x=t;switch(t){case"keypress":if(kc(r)===0)break e;case"keydown":case"keyup":p=TE;break;case"focusin":x="focus",p=Kd;break;case"focusout":x="blur",p=Kd;break;case"beforeblur":case"afterblur":p=Kd;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Og;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=vE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=AE;break;case Dw:case Mw:case $w:p=wE;break;case Lw:p=IE;break;case"scroll":p=mE;break;case"wheel":p=ME;break;case"copy":case"cut":case"paste":p=_E;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Dg}var m=(e&4)!==0,b=!m&&t==="scroll",y=m?g!==null?g+"Capture":null:g;m=[];for(var v=u,w;v!==null;){w=v;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,y!==null&&(_=$o(v,y),_!=null&&m.push(Wo(v,_,w)))),b)break;v=v.return}0<m.length&&(g=new p(g,x,null,r,d),f.push({event:g,listeners:m}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",g&&r!==th&&(x=r.relatedTarget||r.fromElement)&&(Is(x)||x[ln]))break e;if((p||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,p?(x=r.relatedTarget||r.toElement,p=u,x=x?Is(x):null,x!==null&&(b=li(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=u),p!==x)){if(m=Og,_="onMouseLeave",y="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(m=Dg,_="onPointerLeave",y="onPointerEnter",v="pointer"),b=p==null?g:Fi(p),w=x==null?g:Fi(x),g=new m(_,v+"leave",p,r,d),g.target=b,g.relatedTarget=w,_=null,Is(d)===u&&(m=new m(y,v+"enter",x,r,d),m.target=w,m.relatedTarget=b,_=m),b=_,p&&x)t:{for(m=p,y=x,v=0,w=m;w;w=vi(w))v++;for(w=0,_=y;_;_=vi(_))w++;for(;0<v-w;)m=vi(m),v--;for(;0<w-v;)y=vi(y),w--;for(;v--;){if(m===y||y!==null&&m===y.alternate)break t;m=vi(m),y=vi(y)}m=null}else m=null;p!==null&&Hg(f,g,p,m,!1),x!==null&&b!==null&&Hg(f,b,x,m,!0)}}e:{if(g=u?Fi(u):window,p=g.nodeName&&g.nodeName.toLowerCase(),p==="select"||p==="input"&&g.type==="file")var k=VE;else if(Lg(g))if(Pw)k=KE;else{k=qE;var E=WE}else(p=g.nodeName)&&p.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(k=HE);if(k&&(k=k(t,u))){Tw(f,k,r,d);break e}E&&E(t,g,u),t==="focusout"&&(E=g._wrapperState)&&E.controlled&&g.type==="number"&&Qf(g,"number",g.value)}switch(E=u?Fi(u):window,t){case"focusin":(Lg(E)||E.contentEditable==="true")&&($i=E,lh=u,So=null);break;case"focusout":So=lh=$i=null;break;case"mousedown":ch=!0;break;case"contextmenu":case"mouseup":case"dragend":ch=!1,Vg(f,r,d);break;case"selectionchange":if(QE)break;case"keydown":case"keyup":Vg(f,r,d)}var S;if(Bp)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Mi?Nw(t,r)&&(R="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(R="onCompositionStart");R&&(Ew&&r.locale!=="ko"&&(Mi||R!=="onCompositionStart"?R==="onCompositionEnd"&&Mi&&(S=jw()):(Ln=d,Lp="value"in Ln?Ln.value:Ln.textContent,Mi=!0)),E=qc(u,R),0<E.length&&(R=new Ig(R,t,null,r,d),f.push({event:R,listeners:E}),S?R.data=S:(S=Cw(r),S!==null&&(R.data=S)))),(S=LE?FE(t,r):UE(t,r))&&(u=qc(u,"onBeforeInput"),0<u.length&&(d=new Ig("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=S))}Uw(f,e)})}function Wo(t,e,r){return{instance:t,listener:e,currentTarget:r}}function qc(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=$o(t,r),i!=null&&n.unshift(Wo(t,i,s)),i=$o(t,e),i!=null&&n.push(Wo(t,i,s))),t=t.return}return n}function vi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Hg(t,e,r,n,s){for(var i=e._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=$o(r,i),c!=null&&a.unshift(Wo(r,c,l))):s||(c=$o(r,i),c!=null&&a.push(Wo(r,c,l)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var eN=/\r\n?/g,tN=/\u0000|\uFFFD/g;function Kg(t){return(typeof t=="string"?t:""+t).replace(eN,`
`).replace(tN,"")}function Yl(t,e,r){if(e=Kg(e),Kg(t)!==e&&r)throw Error(G(425))}function Hc(){}var uh=null,dh=null;function fh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hh=typeof setTimeout=="function"?setTimeout:void 0,rN=typeof clearTimeout=="function"?clearTimeout:void 0,Gg=typeof Promise=="function"?Promise:void 0,nN=typeof queueMicrotask=="function"?queueMicrotask:typeof Gg<"u"?function(t){return Gg.resolve(null).then(t).catch(sN)}:hh;function sN(t){setTimeout(function(){throw t})}function tf(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Uo(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Uo(e)}function Hn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Yg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Oa=Math.random().toString(36).slice(2),Ur="__reactFiber$"+Oa,qo="__reactProps$"+Oa,ln="__reactContainer$"+Oa,ph="__reactEvents$"+Oa,iN="__reactListeners$"+Oa,aN="__reactHandles$"+Oa;function Is(t){var e=t[Ur];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ln]||r[Ur]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Yg(t);t!==null;){if(r=t[Ur])return r;t=Yg(t)}return e}t=r,r=t.parentNode}return null}function Sl(t){return t=t[Ur]||t[ln],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Fi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(G(33))}function zu(t){return t[qo]||null}var mh=[],Ui=-1;function ps(t){return{current:t}}function Ve(t){0>Ui||(t.current=mh[Ui],mh[Ui]=null,Ui--)}function Fe(t,e){Ui++,mh[Ui]=t.current,t.current=e}var as={},St=ps(as),Dt=ps(!1),Ks=as;function pa(t,e){var r=t.type.contextTypes;if(!r)return as;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Mt(t){return t=t.childContextTypes,t!=null}function Kc(){Ve(Dt),Ve(St)}function Qg(t,e,r){if(St.current!==as)throw Error(G(168));Fe(St,e),Fe(Dt,r)}function zw(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(G(108,Wj(t)||"Unknown",s));return Ye({},r,n)}function Gc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||as,Ks=St.current,Fe(St,t),Fe(Dt,Dt.current),!0}function Zg(t,e,r){var n=t.stateNode;if(!n)throw Error(G(169));r?(t=zw(t,e,Ks),n.__reactInternalMemoizedMergedChildContext=t,Ve(Dt),Ve(St),Fe(St,t)):Ve(Dt),Fe(Dt,r)}var tn=null,Vu=!1,rf=!1;function Vw(t){tn===null?tn=[t]:tn.push(t)}function oN(t){Vu=!0,Vw(t)}function ms(){if(!rf&&tn!==null){rf=!0;var t=0,e=De;try{var r=tn;for(De=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}tn=null,Vu=!1}catch(s){throw tn!==null&&(tn=tn.slice(t+1)),pw(Ip,ms),s}finally{De=e,rf=!1}}return null}var Bi=[],zi=0,Yc=null,Qc=0,Jt=[],Xt=0,Gs=null,nn=1,sn="";function Cs(t,e){Bi[zi++]=Qc,Bi[zi++]=Yc,Yc=t,Qc=e}function Ww(t,e,r){Jt[Xt++]=nn,Jt[Xt++]=sn,Jt[Xt++]=Gs,Gs=t;var n=nn;t=sn;var s=32-Nr(n)-1;n&=~(1<<s),r+=1;var i=32-Nr(e)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,nn=1<<32-Nr(e)+s|r<<s|n,sn=i+t}else nn=1<<i|r<<s|n,sn=t}function Vp(t){t.return!==null&&(Cs(t,1),Ww(t,1,0))}function Wp(t){for(;t===Yc;)Yc=Bi[--zi],Bi[zi]=null,Qc=Bi[--zi],Bi[zi]=null;for(;t===Gs;)Gs=Jt[--Xt],Jt[Xt]=null,sn=Jt[--Xt],Jt[Xt]=null,nn=Jt[--Xt],Jt[Xt]=null}var Wt=null,Vt=null,He=!1,Er=null;function qw(t,e){var r=er(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Jg(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Wt=t,Vt=Hn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Wt=t,Vt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Gs!==null?{id:nn,overflow:sn}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=er(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Wt=t,Vt=null,!0):!1;default:return!1}}function gh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function vh(t){if(He){var e=Vt;if(e){var r=e;if(!Jg(t,e)){if(gh(t))throw Error(G(418));e=Hn(r.nextSibling);var n=Wt;e&&Jg(t,e)?qw(n,r):(t.flags=t.flags&-4097|2,He=!1,Wt=t)}}else{if(gh(t))throw Error(G(418));t.flags=t.flags&-4097|2,He=!1,Wt=t}}}function Xg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Wt=t}function Ql(t){if(t!==Wt)return!1;if(!He)return Xg(t),He=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!fh(t.type,t.memoizedProps)),e&&(e=Vt)){if(gh(t))throw Hw(),Error(G(418));for(;e;)qw(t,e),e=Hn(e.nextSibling)}if(Xg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(G(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Vt=Hn(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Vt=null}}else Vt=Wt?Hn(t.stateNode.nextSibling):null;return!0}function Hw(){for(var t=Vt;t;)t=Hn(t.nextSibling)}function ma(){Vt=Wt=null,He=!1}function qp(t){Er===null?Er=[t]:Er.push(t)}var lN=hn.ReactCurrentBatchConfig;function to(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(G(309));var n=r.stateNode}if(!n)throw Error(G(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(G(284));if(!r._owner)throw Error(G(290,t))}return t}function Zl(t,e){throw t=Object.prototype.toString.call(e),Error(G(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ev(t){var e=t._init;return e(t._payload)}function Kw(t){function e(y,v){if(t){var w=y.deletions;w===null?(y.deletions=[v],y.flags|=16):w.push(v)}}function r(y,v){if(!t)return null;for(;v!==null;)e(y,v),v=v.sibling;return null}function n(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function s(y,v){return y=Qn(y,v),y.index=0,y.sibling=null,y}function i(y,v,w){return y.index=w,t?(w=y.alternate,w!==null?(w=w.index,w<v?(y.flags|=2,v):w):(y.flags|=2,v)):(y.flags|=1048576,v)}function a(y){return t&&y.alternate===null&&(y.flags|=2),y}function l(y,v,w,_){return v===null||v.tag!==6?(v=uf(w,y.mode,_),v.return=y,v):(v=s(v,w),v.return=y,v)}function c(y,v,w,_){var k=w.type;return k===Di?d(y,v,w.props.children,_,w.key):v!==null&&(v.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===En&&ev(k)===v.type)?(_=s(v,w.props),_.ref=to(y,v,w),_.return=y,_):(_=Pc(w.type,w.key,w.props,null,y.mode,_),_.ref=to(y,v,w),_.return=y,_)}function u(y,v,w,_){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=df(w,y.mode,_),v.return=y,v):(v=s(v,w.children||[]),v.return=y,v)}function d(y,v,w,_,k){return v===null||v.tag!==7?(v=qs(w,y.mode,_,k),v.return=y,v):(v=s(v,w),v.return=y,v)}function f(y,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=uf(""+v,y.mode,w),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ul:return w=Pc(v.type,v.key,v.props,null,y.mode,w),w.ref=to(y,null,v),w.return=y,w;case Ii:return v=df(v,y.mode,w),v.return=y,v;case En:var _=v._init;return f(y,_(v._payload),w)}if(po(v)||Qa(v))return v=qs(v,y.mode,w,null),v.return=y,v;Zl(y,v)}return null}function g(y,v,w,_){var k=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return k!==null?null:l(y,v,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ul:return w.key===k?c(y,v,w,_):null;case Ii:return w.key===k?u(y,v,w,_):null;case En:return k=w._init,g(y,v,k(w._payload),_)}if(po(w)||Qa(w))return k!==null?null:d(y,v,w,_,null);Zl(y,w)}return null}function p(y,v,w,_,k){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(w)||null,l(v,y,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ul:return y=y.get(_.key===null?w:_.key)||null,c(v,y,_,k);case Ii:return y=y.get(_.key===null?w:_.key)||null,u(v,y,_,k);case En:var E=_._init;return p(y,v,w,E(_._payload),k)}if(po(_)||Qa(_))return y=y.get(w)||null,d(v,y,_,k,null);Zl(v,_)}return null}function x(y,v,w,_){for(var k=null,E=null,S=v,R=v=0,$=null;S!==null&&R<w.length;R++){S.index>R?($=S,S=null):$=S.sibling;var O=g(y,S,w[R],_);if(O===null){S===null&&(S=$);break}t&&S&&O.alternate===null&&e(y,S),v=i(O,v,R),E===null?k=O:E.sibling=O,E=O,S=$}if(R===w.length)return r(y,S),He&&Cs(y,R),k;if(S===null){for(;R<w.length;R++)S=f(y,w[R],_),S!==null&&(v=i(S,v,R),E===null?k=S:E.sibling=S,E=S);return He&&Cs(y,R),k}for(S=n(y,S);R<w.length;R++)$=p(S,y,R,w[R],_),$!==null&&(t&&$.alternate!==null&&S.delete($.key===null?R:$.key),v=i($,v,R),E===null?k=$:E.sibling=$,E=$);return t&&S.forEach(function(N){return e(y,N)}),He&&Cs(y,R),k}function m(y,v,w,_){var k=Qa(w);if(typeof k!="function")throw Error(G(150));if(w=k.call(w),w==null)throw Error(G(151));for(var E=k=null,S=v,R=v=0,$=null,O=w.next();S!==null&&!O.done;R++,O=w.next()){S.index>R?($=S,S=null):$=S.sibling;var N=g(y,S,O.value,_);if(N===null){S===null&&(S=$);break}t&&S&&N.alternate===null&&e(y,S),v=i(N,v,R),E===null?k=N:E.sibling=N,E=N,S=$}if(O.done)return r(y,S),He&&Cs(y,R),k;if(S===null){for(;!O.done;R++,O=w.next())O=f(y,O.value,_),O!==null&&(v=i(O,v,R),E===null?k=O:E.sibling=O,E=O);return He&&Cs(y,R),k}for(S=n(y,S);!O.done;R++,O=w.next())O=p(S,y,R,O.value,_),O!==null&&(t&&O.alternate!==null&&S.delete(O.key===null?R:O.key),v=i(O,v,R),E===null?k=O:E.sibling=O,E=O);return t&&S.forEach(function(A){return e(y,A)}),He&&Cs(y,R),k}function b(y,v,w,_){if(typeof w=="object"&&w!==null&&w.type===Di&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Ul:e:{for(var k=w.key,E=v;E!==null;){if(E.key===k){if(k=w.type,k===Di){if(E.tag===7){r(y,E.sibling),v=s(E,w.props.children),v.return=y,y=v;break e}}else if(E.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===En&&ev(k)===E.type){r(y,E.sibling),v=s(E,w.props),v.ref=to(y,E,w),v.return=y,y=v;break e}r(y,E);break}else e(y,E);E=E.sibling}w.type===Di?(v=qs(w.props.children,y.mode,_,w.key),v.return=y,y=v):(_=Pc(w.type,w.key,w.props,null,y.mode,_),_.ref=to(y,v,w),_.return=y,y=_)}return a(y);case Ii:e:{for(E=w.key;v!==null;){if(v.key===E)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){r(y,v.sibling),v=s(v,w.children||[]),v.return=y,y=v;break e}else{r(y,v);break}else e(y,v);v=v.sibling}v=df(w,y.mode,_),v.return=y,y=v}return a(y);case En:return E=w._init,b(y,v,E(w._payload),_)}if(po(w))return x(y,v,w,_);if(Qa(w))return m(y,v,w,_);Zl(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(r(y,v.sibling),v=s(v,w),v.return=y,y=v):(r(y,v),v=uf(w,y.mode,_),v.return=y,y=v),a(y)):r(y,v)}return b}var ga=Kw(!0),Gw=Kw(!1),Zc=ps(null),Jc=null,Vi=null,Hp=null;function Kp(){Hp=Vi=Jc=null}function Gp(t){var e=Zc.current;Ve(Zc),t._currentValue=e}function yh(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Zi(t,e){Jc=t,Hp=Vi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(It=!0),t.firstContext=null)}function or(t){var e=t._currentValue;if(Hp!==t)if(t={context:t,memoizedValue:e,next:null},Vi===null){if(Jc===null)throw Error(G(308));Vi=t,Jc.dependencies={lanes:0,firstContext:t}}else Vi=Vi.next=t;return e}var Ds=null;function Yp(t){Ds===null?Ds=[t]:Ds.push(t)}function Yw(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Yp(e)):(r.next=s.next,s.next=r),e.interleaved=r,cn(t,n)}function cn(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Nn=!1;function Qp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function an(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Kn(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ee&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,cn(t,r)}return s=n.interleaved,s===null?(e.next=e,Yp(n)):(e.next=s.next,s.next=e),n.interleaved=e,cn(t,r)}function Sc(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Dp(t,r)}}function tv(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Xc(t,e,r,n){var s=t.updateQueue;Nn=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;a=0,d=u=c=null,l=i;do{var g=l.lane,p=l.eventTime;if((n&g)===g){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=t,m=l;switch(g=e,p=r,m.tag){case 1:if(x=m.payload,typeof x=="function"){f=x.call(p,f,g);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=m.payload,g=typeof x=="function"?x.call(p,f,g):x,g==null)break e;f=Ye({},f,g);break e;case 2:Nn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,g=s.effects,g===null?s.effects=[l]:g.push(l))}else p={eventTime:p,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,a|=g;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;g=l,l=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Qs|=a,t.lanes=a,t.memoizedState=f}}function rv(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(G(191,s));s.call(n)}}}var jl={},Wr=ps(jl),Ho=ps(jl),Ko=ps(jl);function Ms(t){if(t===jl)throw Error(G(174));return t}function Zp(t,e){switch(Fe(Ko,e),Fe(Ho,t),Fe(Wr,jl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Jf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Jf(e,t)}Ve(Wr),Fe(Wr,e)}function va(){Ve(Wr),Ve(Ho),Ve(Ko)}function Zw(t){Ms(Ko.current);var e=Ms(Wr.current),r=Jf(e,t.type);e!==r&&(Fe(Ho,t),Fe(Wr,r))}function Jp(t){Ho.current===t&&(Ve(Wr),Ve(Ho))}var Ke=ps(0);function eu(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var nf=[];function Xp(){for(var t=0;t<nf.length;t++)nf[t]._workInProgressVersionPrimary=null;nf.length=0}var jc=hn.ReactCurrentDispatcher,sf=hn.ReactCurrentBatchConfig,Ys=0,Ge=null,ot=null,ct=null,tu=!1,jo=!1,Go=0,cN=0;function yt(){throw Error(G(321))}function em(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Tr(t[r],e[r]))return!1;return!0}function tm(t,e,r,n,s,i){if(Ys=i,Ge=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,jc.current=t===null||t.memoizedState===null?hN:pN,t=r(n,s),jo){i=0;do{if(jo=!1,Go=0,25<=i)throw Error(G(301));i+=1,ct=ot=null,e.updateQueue=null,jc.current=mN,t=r(n,s)}while(jo)}if(jc.current=ru,e=ot!==null&&ot.next!==null,Ys=0,ct=ot=Ge=null,tu=!1,e)throw Error(G(300));return t}function rm(){var t=Go!==0;return Go=0,t}function Dr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Ge.memoizedState=ct=t:ct=ct.next=t,ct}function lr(){if(ot===null){var t=Ge.alternate;t=t!==null?t.memoizedState:null}else t=ot.next;var e=ct===null?Ge.memoizedState:ct.next;if(e!==null)ct=e,ot=t;else{if(t===null)throw Error(G(310));ot=t,t={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},ct===null?Ge.memoizedState=ct=t:ct=ct.next=t}return ct}function Yo(t,e){return typeof e=="function"?e(t):e}function af(t){var e=lr(),r=e.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=t;var n=ot,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=a=null,c=null,u=i;do{var d=u.lane;if((Ys&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=n):c=c.next=f,Ge.lanes|=d,Qs|=d}u=u.next}while(u!==null&&u!==i);c===null?a=n:c.next=l,Tr(n,e.memoizedState)||(It=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,Ge.lanes|=i,Qs|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function of(t){var e=lr(),r=e.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);Tr(i,e.memoizedState)||(It=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function Jw(){}function Xw(t,e){var r=Ge,n=lr(),s=e(),i=!Tr(n.memoizedState,s);if(i&&(n.memoizedState=s,It=!0),n=n.queue,nm(r0.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||ct!==null&&ct.memoizedState.tag&1){if(r.flags|=2048,Qo(9,t0.bind(null,r,n,s,e),void 0,null),ut===null)throw Error(G(349));Ys&30||e0(r,e,s)}return s}function e0(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Ge.updateQueue,e===null?(e={lastEffect:null,stores:null},Ge.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function t0(t,e,r,n){e.value=r,e.getSnapshot=n,n0(e)&&s0(t)}function r0(t,e,r){return r(function(){n0(e)&&s0(t)})}function n0(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Tr(t,r)}catch{return!0}}function s0(t){var e=cn(t,1);e!==null&&Cr(e,t,1,-1)}function nv(t){var e=Dr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yo,lastRenderedState:t},e.queue=t,t=t.dispatch=fN.bind(null,Ge,t),[e.memoizedState,t]}function Qo(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Ge.updateQueue,e===null?(e={lastEffect:null,stores:null},Ge.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function i0(){return lr().memoizedState}function Ec(t,e,r,n){var s=Dr();Ge.flags|=t,s.memoizedState=Qo(1|e,r,void 0,n===void 0?null:n)}function Wu(t,e,r,n){var s=lr();n=n===void 0?null:n;var i=void 0;if(ot!==null){var a=ot.memoizedState;if(i=a.destroy,n!==null&&em(n,a.deps)){s.memoizedState=Qo(e,r,i,n);return}}Ge.flags|=t,s.memoizedState=Qo(1|e,r,i,n)}function sv(t,e){return Ec(8390656,8,t,e)}function nm(t,e){return Wu(2048,8,t,e)}function a0(t,e){return Wu(4,2,t,e)}function o0(t,e){return Wu(4,4,t,e)}function l0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function c0(t,e,r){return r=r!=null?r.concat([t]):null,Wu(4,4,l0.bind(null,e,t),r)}function sm(){}function u0(t,e){var r=lr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&em(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function d0(t,e){var r=lr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&em(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function f0(t,e,r){return Ys&21?(Tr(r,e)||(r=vw(),Ge.lanes|=r,Qs|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,It=!0),t.memoizedState=r)}function uN(t,e){var r=De;De=r!==0&&4>r?r:4,t(!0);var n=sf.transition;sf.transition={};try{t(!1),e()}finally{De=r,sf.transition=n}}function h0(){return lr().memoizedState}function dN(t,e,r){var n=Yn(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},p0(t))m0(e,r);else if(r=Yw(t,e,r,n),r!==null){var s=Ct();Cr(r,t,n,s),g0(r,e,n)}}function fN(t,e,r){var n=Yn(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(p0(t))m0(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,r);if(s.hasEagerState=!0,s.eagerState=l,Tr(l,a)){var c=e.interleaved;c===null?(s.next=s,Yp(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}r=Yw(t,e,s,n),r!==null&&(s=Ct(),Cr(r,t,n,s),g0(r,e,n))}}function p0(t){var e=t.alternate;return t===Ge||e!==null&&e===Ge}function m0(t,e){jo=tu=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function g0(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Dp(t,r)}}var ru={readContext:or,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useInsertionEffect:yt,useLayoutEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useMutableSource:yt,useSyncExternalStore:yt,useId:yt,unstable_isNewReconciler:!1},hN={readContext:or,useCallback:function(t,e){return Dr().memoizedState=[t,e===void 0?null:e],t},useContext:or,useEffect:sv,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Ec(4194308,4,l0.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Ec(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ec(4,2,t,e)},useMemo:function(t,e){var r=Dr();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Dr();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=dN.bind(null,Ge,t),[n.memoizedState,t]},useRef:function(t){var e=Dr();return t={current:t},e.memoizedState=t},useState:nv,useDebugValue:sm,useDeferredValue:function(t){return Dr().memoizedState=t},useTransition:function(){var t=nv(!1),e=t[0];return t=uN.bind(null,t[1]),Dr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Ge,s=Dr();if(He){if(r===void 0)throw Error(G(407));r=r()}else{if(r=e(),ut===null)throw Error(G(349));Ys&30||e0(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,sv(r0.bind(null,n,i,t),[t]),n.flags|=2048,Qo(9,t0.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=Dr(),e=ut.identifierPrefix;if(He){var r=sn,n=nn;r=(n&~(1<<32-Nr(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Go++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=cN++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},pN={readContext:or,useCallback:u0,useContext:or,useEffect:nm,useImperativeHandle:c0,useInsertionEffect:a0,useLayoutEffect:o0,useMemo:d0,useReducer:af,useRef:i0,useState:function(){return af(Yo)},useDebugValue:sm,useDeferredValue:function(t){var e=lr();return f0(e,ot.memoizedState,t)},useTransition:function(){var t=af(Yo)[0],e=lr().memoizedState;return[t,e]},useMutableSource:Jw,useSyncExternalStore:Xw,useId:h0,unstable_isNewReconciler:!1},mN={readContext:or,useCallback:u0,useContext:or,useEffect:nm,useImperativeHandle:c0,useInsertionEffect:a0,useLayoutEffect:o0,useMemo:d0,useReducer:of,useRef:i0,useState:function(){return of(Yo)},useDebugValue:sm,useDeferredValue:function(t){var e=lr();return ot===null?e.memoizedState=t:f0(e,ot.memoizedState,t)},useTransition:function(){var t=of(Yo)[0],e=lr().memoizedState;return[t,e]},useMutableSource:Jw,useSyncExternalStore:Xw,useId:h0,unstable_isNewReconciler:!1};function xr(t,e){if(t&&t.defaultProps){e=Ye({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function xh(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Ye({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var qu={isMounted:function(t){return(t=t._reactInternals)?li(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Ct(),s=Yn(t),i=an(n,s);i.payload=e,r!=null&&(i.callback=r),e=Kn(t,i,s),e!==null&&(Cr(e,t,s,n),Sc(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Ct(),s=Yn(t),i=an(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Kn(t,i,s),e!==null&&(Cr(e,t,s,n),Sc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Ct(),n=Yn(t),s=an(r,n);s.tag=2,e!=null&&(s.callback=e),e=Kn(t,s,n),e!==null&&(Cr(e,t,n,r),Sc(e,t,n))}};function iv(t,e,r,n,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,a):e.prototype&&e.prototype.isPureReactComponent?!zo(r,n)||!zo(s,i):!0}function v0(t,e,r){var n=!1,s=as,i=e.contextType;return typeof i=="object"&&i!==null?i=or(i):(s=Mt(e)?Ks:St.current,n=e.contextTypes,i=(n=n!=null)?pa(t,s):as),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=qu,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function av(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&qu.enqueueReplaceState(e,e.state,null)}function wh(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Qp(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=or(i):(i=Mt(e)?Ks:St.current,s.context=pa(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(xh(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&qu.enqueueReplaceState(s,s.state,null),Xc(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ya(t,e){try{var r="",n=e;do r+=Vj(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function lf(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function bh(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var gN=typeof WeakMap=="function"?WeakMap:Map;function y0(t,e,r){r=an(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){su||(su=!0,Rh=n),bh(t,e)},r}function x0(t,e,r){r=an(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){bh(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){bh(t,e),typeof n!="function"&&(Gn===null?Gn=new Set([this]):Gn.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function ov(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new gN;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=PN.bind(null,t,e,r),e.then(t,t))}function lv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function cv(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=an(-1,1),e.tag=2,Kn(r,e,1))),r.lanes|=1),t)}var vN=hn.ReactCurrentOwner,It=!1;function Et(t,e,r,n){e.child=t===null?Gw(e,null,r,n):ga(e,t.child,r,n)}function uv(t,e,r,n,s){r=r.render;var i=e.ref;return Zi(e,s),n=tm(t,e,r,n,i,s),r=rm(),t!==null&&!It?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,un(t,e,s)):(He&&r&&Vp(e),e.flags|=1,Et(t,e,n,s),e.child)}function dv(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!fm(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,w0(t,e,i,n,s)):(t=Pc(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:zo,r(a,n)&&t.ref===e.ref)return un(t,e,s)}return e.flags|=1,t=Qn(i,n),t.ref=e.ref,t.return=e,e.child=t}function w0(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(zo(i,n)&&t.ref===e.ref)if(It=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(It=!0);else return e.lanes=t.lanes,un(t,e,s)}return _h(t,e,r,n,s)}function b0(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(qi,Ut),Ut|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Fe(qi,Ut),Ut|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Fe(qi,Ut),Ut|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,Fe(qi,Ut),Ut|=n;return Et(t,e,s,r),e.child}function _0(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function _h(t,e,r,n,s){var i=Mt(r)?Ks:St.current;return i=pa(e,i),Zi(e,s),r=tm(t,e,r,n,i,s),n=rm(),t!==null&&!It?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,un(t,e,s)):(He&&n&&Vp(e),e.flags|=1,Et(t,e,r,s),e.child)}function fv(t,e,r,n,s){if(Mt(r)){var i=!0;Gc(e)}else i=!1;if(Zi(e,s),e.stateNode===null)Nc(t,e),v0(e,r,n),wh(e,r,n,s),n=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=or(u):(u=Mt(r)?Ks:St.current,u=pa(e,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==u)&&av(e,a,n,u),Nn=!1;var g=e.memoizedState;a.state=g,Xc(e,n,a,s),c=e.memoizedState,l!==n||g!==c||Dt.current||Nn?(typeof d=="function"&&(xh(e,r,d,n),c=e.memoizedState),(l=Nn||iv(e,r,l,n,g,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),a.props=n,a.state=c,a.context=u,n=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,Qw(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:xr(e.type,l),a.props=u,f=e.pendingProps,g=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=or(c):(c=Mt(r)?Ks:St.current,c=pa(e,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||g!==c)&&av(e,a,n,c),Nn=!1,g=e.memoizedState,a.state=g,Xc(e,n,a,s);var x=e.memoizedState;l!==f||g!==x||Dt.current||Nn?(typeof p=="function"&&(xh(e,r,p,n),x=e.memoizedState),(u=Nn||iv(e,r,u,n,g,x,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,x,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,x,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=x),a.props=n,a.state=x,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),n=!1)}return kh(t,e,r,n,i,s)}function kh(t,e,r,n,s,i){_0(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return s&&Zg(e,r,!1),un(t,e,i);n=e.stateNode,vN.current=e;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=ga(e,t.child,null,i),e.child=ga(e,null,l,i)):Et(t,e,l,i),e.memoizedState=n.state,s&&Zg(e,r,!0),e.child}function k0(t){var e=t.stateNode;e.pendingContext?Qg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Qg(t,e.context,!1),Zp(t,e.containerInfo)}function hv(t,e,r,n,s){return ma(),qp(s),e.flags|=256,Et(t,e,r,n),e.child}var Sh={dehydrated:null,treeContext:null,retryLane:0};function jh(t){return{baseLanes:t,cachePool:null,transitions:null}}function S0(t,e,r){var n=e.pendingProps,s=Ke.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Fe(Ke,s&1),t===null)return vh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,i?(n=e.mode,i=e.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Gu(a,n,0,null),t=qs(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=jh(r),e.memoizedState=Sh,t):im(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return yN(t,e,a,n,l,s,r);if(i){i=n.fallback,a=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Qn(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Qn(l,i):(i=qs(i,a,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,a=t.child.memoizedState,a=a===null?jh(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~r,e.memoizedState=Sh,n}return i=t.child,t=i.sibling,n=Qn(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function im(t,e){return e=Gu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Jl(t,e,r,n){return n!==null&&qp(n),ga(e,t.child,null,r),t=im(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function yN(t,e,r,n,s,i,a){if(r)return e.flags&256?(e.flags&=-257,n=lf(Error(G(422))),Jl(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=Gu({mode:"visible",children:n.children},s,0,null),i=qs(i,s,a,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&ga(e,t.child,null,a),e.child.memoizedState=jh(a),e.memoizedState=Sh,i);if(!(e.mode&1))return Jl(t,e,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(G(419)),n=lf(i,n,void 0),Jl(t,e,a,n)}if(l=(a&t.childLanes)!==0,It||l){if(n=ut,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,cn(t,s),Cr(n,t,s,-1))}return dm(),n=lf(Error(G(421))),Jl(t,e,a,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=RN.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Vt=Hn(s.nextSibling),Wt=e,He=!0,Er=null,t!==null&&(Jt[Xt++]=nn,Jt[Xt++]=sn,Jt[Xt++]=Gs,nn=t.id,sn=t.overflow,Gs=e),e=im(e,n.children),e.flags|=4096,e)}function pv(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),yh(t.return,e,r)}function cf(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function j0(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(Et(t,e,n.children,r),n=Ke.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&pv(t,r,e);else if(t.tag===19)pv(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Fe(Ke,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&eu(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),cf(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&eu(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}cf(e,!0,r,null,i);break;case"together":cf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Nc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function un(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Qs|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(G(153));if(e.child!==null){for(t=e.child,r=Qn(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Qn(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function xN(t,e,r){switch(e.tag){case 3:k0(e),ma();break;case 5:Zw(e);break;case 1:Mt(e.type)&&Gc(e);break;case 4:Zp(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;Fe(Zc,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Fe(Ke,Ke.current&1),e.flags|=128,null):r&e.child.childLanes?S0(t,e,r):(Fe(Ke,Ke.current&1),t=un(t,e,r),t!==null?t.sibling:null);Fe(Ke,Ke.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return j0(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Fe(Ke,Ke.current),n)break;return null;case 22:case 23:return e.lanes=0,b0(t,e,r)}return un(t,e,r)}var E0,Eh,N0,C0;E0=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Eh=function(){};N0=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,Ms(Wr.current);var i=null;switch(r){case"input":s=Gf(t,s),n=Gf(t,n),i=[];break;case"select":s=Ye({},s,{value:void 0}),n=Ye({},n,{value:void 0}),i=[];break;case"textarea":s=Zf(t,s),n=Zf(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Hc)}Xf(r,n);var a;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Do.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Do.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ze("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};C0=function(t,e,r,n){r!==n&&(e.flags|=4)};function ro(t,e){if(!He)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function xt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function wN(t,e,r){var n=e.pendingProps;switch(Wp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(e),null;case 1:return Mt(e.type)&&Kc(),xt(e),null;case 3:return n=e.stateNode,va(),Ve(Dt),Ve(St),Xp(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ql(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Er!==null&&(Ih(Er),Er=null))),Eh(t,e),xt(e),null;case 5:Jp(e);var s=Ms(Ko.current);if(r=e.type,t!==null&&e.stateNode!=null)N0(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(G(166));return xt(e),null}if(t=Ms(Wr.current),Ql(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[Ur]=e,n[qo]=i,t=(e.mode&1)!==0,r){case"dialog":ze("cancel",n),ze("close",n);break;case"iframe":case"object":case"embed":ze("load",n);break;case"video":case"audio":for(s=0;s<go.length;s++)ze(go[s],n);break;case"source":ze("error",n);break;case"img":case"image":case"link":ze("error",n),ze("load",n);break;case"details":ze("toggle",n);break;case"input":kg(n,i),ze("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ze("invalid",n);break;case"textarea":jg(n,i),ze("invalid",n)}Xf(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Yl(n.textContent,l,t),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Yl(n.textContent,l,t),s=["children",""+l]):Do.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&ze("scroll",n)}switch(r){case"input":Bl(n),Sg(n,i,!0);break;case"textarea":Bl(n),Eg(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Hc)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=rw(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Ur]=e,t[qo]=n,E0(t,e,!1,!1),e.stateNode=t;e:{switch(a=eh(r,n),r){case"dialog":ze("cancel",t),ze("close",t),s=n;break;case"iframe":case"object":case"embed":ze("load",t),s=n;break;case"video":case"audio":for(s=0;s<go.length;s++)ze(go[s],t);s=n;break;case"source":ze("error",t),s=n;break;case"img":case"image":case"link":ze("error",t),ze("load",t),s=n;break;case"details":ze("toggle",t),s=n;break;case"input":kg(t,n),s=Gf(t,n),ze("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=Ye({},n,{value:void 0}),ze("invalid",t);break;case"textarea":jg(t,n),s=Zf(t,n),ze("invalid",t);break;default:s=n}Xf(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?iw(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&nw(t,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Mo(t,c):typeof c=="number"&&Mo(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Do.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ze("scroll",t):c!=null&&Tp(t,i,c,a))}switch(r){case"input":Bl(t),Sg(t,n,!1);break;case"textarea":Bl(t),Eg(t);break;case"option":n.value!=null&&t.setAttribute("value",""+is(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Ki(t,!!n.multiple,i,!1):n.defaultValue!=null&&Ki(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Hc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return xt(e),null;case 6:if(t&&e.stateNode!=null)C0(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(G(166));if(r=Ms(Ko.current),Ms(Wr.current),Ql(e)){if(n=e.stateNode,r=e.memoizedProps,n[Ur]=e,(i=n.nodeValue!==r)&&(t=Wt,t!==null))switch(t.tag){case 3:Yl(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Yl(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ur]=e,e.stateNode=n}return xt(e),null;case 13:if(Ve(Ke),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(He&&Vt!==null&&e.mode&1&&!(e.flags&128))Hw(),ma(),e.flags|=98560,i=!1;else if(i=Ql(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(G(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(G(317));i[Ur]=e}else ma(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;xt(e),i=!1}else Er!==null&&(Ih(Er),Er=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Ke.current&1?lt===0&&(lt=3):dm())),e.updateQueue!==null&&(e.flags|=4),xt(e),null);case 4:return va(),Eh(t,e),t===null&&Vo(e.stateNode.containerInfo),xt(e),null;case 10:return Gp(e.type._context),xt(e),null;case 17:return Mt(e.type)&&Kc(),xt(e),null;case 19:if(Ve(Ke),i=e.memoizedState,i===null)return xt(e),null;if(n=(e.flags&128)!==0,a=i.rendering,a===null)if(n)ro(i,!1);else{if(lt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=eu(t),a!==null){for(e.flags|=128,ro(i,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Fe(Ke,Ke.current&1|2),e.child}t=t.sibling}i.tail!==null&&tt()>xa&&(e.flags|=128,n=!0,ro(i,!1),e.lanes=4194304)}else{if(!n)if(t=eu(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),ro(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!He)return xt(e),null}else 2*tt()-i.renderingStartTime>xa&&r!==1073741824&&(e.flags|=128,n=!0,ro(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(r=i.last,r!==null?r.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=tt(),e.sibling=null,r=Ke.current,Fe(Ke,n?r&1|2:r&1),e):(xt(e),null);case 22:case 23:return um(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Ut&1073741824&&(xt(e),e.subtreeFlags&6&&(e.flags|=8192)):xt(e),null;case 24:return null;case 25:return null}throw Error(G(156,e.tag))}function bN(t,e){switch(Wp(e),e.tag){case 1:return Mt(e.type)&&Kc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return va(),Ve(Dt),Ve(St),Xp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Jp(e),null;case 13:if(Ve(Ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(G(340));ma()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ve(Ke),null;case 4:return va(),null;case 10:return Gp(e.type._context),null;case 22:case 23:return um(),null;case 24:return null;default:return null}}var Xl=!1,bt=!1,_N=typeof WeakSet=="function"?WeakSet:Set,ee=null;function Wi(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){et(t,e,n)}else r.current=null}function Nh(t,e,r){try{r()}catch(n){et(t,e,n)}}var mv=!1;function kN(t,e){if(uh=Vc,t=Ow(),zp(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,d=0,f=t,g=null;t:for(;;){for(var p;f!==r||s!==0&&f.nodeType!==3||(l=a+s),f!==i||n!==0&&f.nodeType!==3||(c=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)g=f,f=p;for(;;){if(f===t)break t;if(g===r&&++u===s&&(l=a),g===i&&++d===n&&(c=a),(p=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(dh={focusedElem:t,selectionRange:r},Vc=!1,ee=e;ee!==null;)if(e=ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ee=t;else for(;ee!==null;){e=ee;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var m=x.memoizedProps,b=x.memoizedState,y=e.stateNode,v=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:xr(e.type,m),b);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(_){et(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,ee=t;break}ee=e.return}return x=mv,mv=!1,x}function Eo(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Nh(e,r,i)}s=s.next}while(s!==n)}}function Hu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Ch(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function T0(t){var e=t.alternate;e!==null&&(t.alternate=null,T0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ur],delete e[qo],delete e[ph],delete e[iN],delete e[aN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function P0(t){return t.tag===5||t.tag===3||t.tag===4}function gv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||P0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Th(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Hc));else if(n!==4&&(t=t.child,t!==null))for(Th(t,e,r),t=t.sibling;t!==null;)Th(t,e,r),t=t.sibling}function Ph(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Ph(t,e,r),t=t.sibling;t!==null;)Ph(t,e,r),t=t.sibling}var ht=null,Sr=!1;function xn(t,e,r){for(r=r.child;r!==null;)R0(t,e,r),r=r.sibling}function R0(t,e,r){if(Vr&&typeof Vr.onCommitFiberUnmount=="function")try{Vr.onCommitFiberUnmount(Lu,r)}catch{}switch(r.tag){case 5:bt||Wi(r,e);case 6:var n=ht,s=Sr;ht=null,xn(t,e,r),ht=n,Sr=s,ht!==null&&(Sr?(t=ht,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ht.removeChild(r.stateNode));break;case 18:ht!==null&&(Sr?(t=ht,r=r.stateNode,t.nodeType===8?tf(t.parentNode,r):t.nodeType===1&&tf(t,r),Uo(t)):tf(ht,r.stateNode));break;case 4:n=ht,s=Sr,ht=r.stateNode.containerInfo,Sr=!0,xn(t,e,r),ht=n,Sr=s;break;case 0:case 11:case 14:case 15:if(!bt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Nh(r,e,a),s=s.next}while(s!==n)}xn(t,e,r);break;case 1:if(!bt&&(Wi(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){et(r,e,l)}xn(t,e,r);break;case 21:xn(t,e,r);break;case 22:r.mode&1?(bt=(n=bt)||r.memoizedState!==null,xn(t,e,r),bt=n):xn(t,e,r);break;default:xn(t,e,r)}}function vv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new _N),e.forEach(function(n){var s=AN.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function mr(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:ht=l.stateNode,Sr=!1;break e;case 3:ht=l.stateNode.containerInfo,Sr=!0;break e;case 4:ht=l.stateNode.containerInfo,Sr=!0;break e}l=l.return}if(ht===null)throw Error(G(160));R0(i,a,s),ht=null,Sr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){et(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)A0(e,t),e=e.sibling}function A0(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(mr(e,t),Ir(t),n&4){try{Eo(3,t,t.return),Hu(3,t)}catch(m){et(t,t.return,m)}try{Eo(5,t,t.return)}catch(m){et(t,t.return,m)}}break;case 1:mr(e,t),Ir(t),n&512&&r!==null&&Wi(r,r.return);break;case 5:if(mr(e,t),Ir(t),n&512&&r!==null&&Wi(r,r.return),t.flags&32){var s=t.stateNode;try{Mo(s,"")}catch(m){et(t,t.return,m)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=r!==null?r.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&ew(s,i),eh(l,a);var u=eh(l,i);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?iw(s,f):d==="dangerouslySetInnerHTML"?nw(s,f):d==="children"?Mo(s,f):Tp(s,d,f,u)}switch(l){case"input":Yf(s,i);break;case"textarea":tw(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Ki(s,!!i.multiple,p,!1):g!==!!i.multiple&&(i.defaultValue!=null?Ki(s,!!i.multiple,i.defaultValue,!0):Ki(s,!!i.multiple,i.multiple?[]:"",!1))}s[qo]=i}catch(m){et(t,t.return,m)}}break;case 6:if(mr(e,t),Ir(t),n&4){if(t.stateNode===null)throw Error(G(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(m){et(t,t.return,m)}}break;case 3:if(mr(e,t),Ir(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Uo(e.containerInfo)}catch(m){et(t,t.return,m)}break;case 4:mr(e,t),Ir(t);break;case 13:mr(e,t),Ir(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(lm=tt())),n&4&&vv(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(bt=(u=bt)||d,mr(e,t),bt=u):mr(e,t),Ir(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ee=t,d=t.child;d!==null;){for(f=ee=d;ee!==null;){switch(g=ee,p=g.child,g.tag){case 0:case 11:case 14:case 15:Eo(4,g,g.return);break;case 1:Wi(g,g.return);var x=g.stateNode;if(typeof x.componentWillUnmount=="function"){n=g,r=g.return;try{e=n,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(m){et(n,r,m)}}break;case 5:Wi(g,g.return);break;case 22:if(g.memoizedState!==null){xv(f);continue}}p!==null?(p.return=g,ee=p):xv(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=sw("display",a))}catch(m){et(t,t.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){et(t,t.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:mr(e,t),Ir(t),n&4&&vv(t);break;case 21:break;default:mr(e,t),Ir(t)}}function Ir(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(P0(r)){var n=r;break e}r=r.return}throw Error(G(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Mo(s,""),n.flags&=-33);var i=gv(t);Ph(t,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=gv(t);Th(t,l,a);break;default:throw Error(G(161))}}catch(c){et(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function SN(t,e,r){ee=t,O0(t)}function O0(t,e,r){for(var n=(t.mode&1)!==0;ee!==null;){var s=ee,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Xl;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||bt;l=Xl;var u=bt;if(Xl=a,(bt=c)&&!u)for(ee=s;ee!==null;)a=ee,c=a.child,a.tag===22&&a.memoizedState!==null?wv(s):c!==null?(c.return=a,ee=c):wv(s);for(;i!==null;)ee=i,O0(i),i=i.sibling;ee=s,Xl=l,bt=u}yv(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ee=i):yv(t)}}function yv(t){for(;ee!==null;){var e=ee;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:bt||Hu(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!bt)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:xr(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&rv(e,i,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}rv(e,a,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Uo(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}bt||e.flags&512&&Ch(e)}catch(g){et(e,e.return,g)}}if(e===t){ee=null;break}if(r=e.sibling,r!==null){r.return=e.return,ee=r;break}ee=e.return}}function xv(t){for(;ee!==null;){var e=ee;if(e===t){ee=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ee=r;break}ee=e.return}}function wv(t){for(;ee!==null;){var e=ee;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Hu(4,e)}catch(c){et(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(c){et(e,s,c)}}var i=e.return;try{Ch(e)}catch(c){et(e,i,c)}break;case 5:var a=e.return;try{Ch(e)}catch(c){et(e,a,c)}}}catch(c){et(e,e.return,c)}if(e===t){ee=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ee=l;break}ee=e.return}}var jN=Math.ceil,nu=hn.ReactCurrentDispatcher,am=hn.ReactCurrentOwner,rr=hn.ReactCurrentBatchConfig,Ee=0,ut=null,st=null,pt=0,Ut=0,qi=ps(0),lt=0,Zo=null,Qs=0,Ku=0,om=0,No=null,Ot=null,lm=0,xa=1/0,Xr=null,su=!1,Rh=null,Gn=null,ec=!1,Fn=null,iu=0,Co=0,Ah=null,Cc=-1,Tc=0;function Ct(){return Ee&6?tt():Cc!==-1?Cc:Cc=tt()}function Yn(t){return t.mode&1?Ee&2&&pt!==0?pt&-pt:lN.transition!==null?(Tc===0&&(Tc=vw()),Tc):(t=De,t!==0||(t=window.event,t=t===void 0?16:Sw(t.type)),t):1}function Cr(t,e,r,n){if(50<Co)throw Co=0,Ah=null,Error(G(185));_l(t,r,n),(!(Ee&2)||t!==ut)&&(t===ut&&(!(Ee&2)&&(Ku|=r),lt===4&&Rn(t,pt)),$t(t,n),r===1&&Ee===0&&!(e.mode&1)&&(xa=tt()+500,Vu&&ms()))}function $t(t,e){var r=t.callbackNode;lE(t,e);var n=zc(t,t===ut?pt:0);if(n===0)r!==null&&Tg(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Tg(r),e===1)t.tag===0?oN(bv.bind(null,t)):Vw(bv.bind(null,t)),nN(function(){!(Ee&6)&&ms()}),r=null;else{switch(yw(n)){case 1:r=Ip;break;case 4:r=mw;break;case 16:r=Bc;break;case 536870912:r=gw;break;default:r=Bc}r=B0(r,I0.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function I0(t,e){if(Cc=-1,Tc=0,Ee&6)throw Error(G(327));var r=t.callbackNode;if(Ji()&&t.callbackNode!==r)return null;var n=zc(t,t===ut?pt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=au(t,n);else{e=n;var s=Ee;Ee|=2;var i=M0();(ut!==t||pt!==e)&&(Xr=null,xa=tt()+500,Ws(t,e));do try{CN();break}catch(l){D0(t,l)}while(!0);Kp(),nu.current=i,Ee=s,st!==null?e=0:(ut=null,pt=0,e=lt)}if(e!==0){if(e===2&&(s=ih(t),s!==0&&(n=s,e=Oh(t,s))),e===1)throw r=Zo,Ws(t,0),Rn(t,n),$t(t,tt()),r;if(e===6)Rn(t,n);else{if(s=t.current.alternate,!(n&30)&&!EN(s)&&(e=au(t,n),e===2&&(i=ih(t),i!==0&&(n=i,e=Oh(t,i))),e===1))throw r=Zo,Ws(t,0),Rn(t,n),$t(t,tt()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(G(345));case 2:Ts(t,Ot,Xr);break;case 3:if(Rn(t,n),(n&130023424)===n&&(e=lm+500-tt(),10<e)){if(zc(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Ct(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=hh(Ts.bind(null,t,Ot,Xr),e);break}Ts(t,Ot,Xr);break;case 4:if(Rn(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var a=31-Nr(n);i=1<<a,a=e[a],a>s&&(s=a),n&=~i}if(n=s,n=tt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*jN(n/1960))-n,10<n){t.timeoutHandle=hh(Ts.bind(null,t,Ot,Xr),n);break}Ts(t,Ot,Xr);break;case 5:Ts(t,Ot,Xr);break;default:throw Error(G(329))}}}return $t(t,tt()),t.callbackNode===r?I0.bind(null,t):null}function Oh(t,e){var r=No;return t.current.memoizedState.isDehydrated&&(Ws(t,e).flags|=256),t=au(t,e),t!==2&&(e=Ot,Ot=r,e!==null&&Ih(e)),t}function Ih(t){Ot===null?Ot=t:Ot.push.apply(Ot,t)}function EN(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Tr(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Rn(t,e){for(e&=~om,e&=~Ku,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Nr(e),n=1<<r;t[r]=-1,e&=~n}}function bv(t){if(Ee&6)throw Error(G(327));Ji();var e=zc(t,0);if(!(e&1))return $t(t,tt()),null;var r=au(t,e);if(t.tag!==0&&r===2){var n=ih(t);n!==0&&(e=n,r=Oh(t,n))}if(r===1)throw r=Zo,Ws(t,0),Rn(t,e),$t(t,tt()),r;if(r===6)throw Error(G(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ts(t,Ot,Xr),$t(t,tt()),null}function cm(t,e){var r=Ee;Ee|=1;try{return t(e)}finally{Ee=r,Ee===0&&(xa=tt()+500,Vu&&ms())}}function Zs(t){Fn!==null&&Fn.tag===0&&!(Ee&6)&&Ji();var e=Ee;Ee|=1;var r=rr.transition,n=De;try{if(rr.transition=null,De=1,t)return t()}finally{De=n,rr.transition=r,Ee=e,!(Ee&6)&&ms()}}function um(){Ut=qi.current,Ve(qi)}function Ws(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,rN(r)),st!==null)for(r=st.return;r!==null;){var n=r;switch(Wp(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Kc();break;case 3:va(),Ve(Dt),Ve(St),Xp();break;case 5:Jp(n);break;case 4:va();break;case 13:Ve(Ke);break;case 19:Ve(Ke);break;case 10:Gp(n.type._context);break;case 22:case 23:um()}r=r.return}if(ut=t,st=t=Qn(t.current,null),pt=Ut=e,lt=0,Zo=null,om=Ku=Qs=0,Ot=No=null,Ds!==null){for(e=0;e<Ds.length;e++)if(r=Ds[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}Ds=null}return t}function D0(t,e){do{var r=st;try{if(Kp(),jc.current=ru,tu){for(var n=Ge.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}tu=!1}if(Ys=0,ct=ot=Ge=null,jo=!1,Go=0,am.current=null,r===null||r.return===null){lt=1,Zo=e,st=null;break}e:{var i=t,a=r.return,l=r,c=e;if(e=pt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=lv(a);if(p!==null){p.flags&=-257,cv(p,a,l,i,e),p.mode&1&&ov(i,u,e),e=p,c=u;var x=e.updateQueue;if(x===null){var m=new Set;m.add(c),e.updateQueue=m}else x.add(c);break e}else{if(!(e&1)){ov(i,u,e),dm();break e}c=Error(G(426))}}else if(He&&l.mode&1){var b=lv(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),cv(b,a,l,i,e),qp(ya(c,l));break e}}i=c=ya(c,l),lt!==4&&(lt=2),No===null?No=[i]:No.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=y0(i,c,e);tv(i,y);break e;case 1:l=c;var v=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Gn===null||!Gn.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=x0(i,l,e);tv(i,_);break e}}i=i.return}while(i!==null)}L0(r)}catch(k){e=k,st===r&&r!==null&&(st=r=r.return);continue}break}while(!0)}function M0(){var t=nu.current;return nu.current=ru,t===null?ru:t}function dm(){(lt===0||lt===3||lt===2)&&(lt=4),ut===null||!(Qs&268435455)&&!(Ku&268435455)||Rn(ut,pt)}function au(t,e){var r=Ee;Ee|=2;var n=M0();(ut!==t||pt!==e)&&(Xr=null,Ws(t,e));do try{NN();break}catch(s){D0(t,s)}while(!0);if(Kp(),Ee=r,nu.current=n,st!==null)throw Error(G(261));return ut=null,pt=0,lt}function NN(){for(;st!==null;)$0(st)}function CN(){for(;st!==null&&!Xj();)$0(st)}function $0(t){var e=U0(t.alternate,t,Ut);t.memoizedProps=t.pendingProps,e===null?L0(t):st=e,am.current=null}function L0(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=bN(r,e),r!==null){r.flags&=32767,st=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{lt=6,st=null;return}}else if(r=wN(r,e,Ut),r!==null){st=r;return}if(e=e.sibling,e!==null){st=e;return}st=e=t}while(e!==null);lt===0&&(lt=5)}function Ts(t,e,r){var n=De,s=rr.transition;try{rr.transition=null,De=1,TN(t,e,r,n)}finally{rr.transition=s,De=n}return null}function TN(t,e,r,n){do Ji();while(Fn!==null);if(Ee&6)throw Error(G(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(G(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(cE(t,i),t===ut&&(st=ut=null,pt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ec||(ec=!0,B0(Bc,function(){return Ji(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=rr.transition,rr.transition=null;var a=De;De=1;var l=Ee;Ee|=4,am.current=null,kN(t,r),A0(r,t),YE(dh),Vc=!!uh,dh=uh=null,t.current=r,SN(r),eE(),Ee=l,De=a,rr.transition=i}else t.current=r;if(ec&&(ec=!1,Fn=t,iu=s),i=t.pendingLanes,i===0&&(Gn=null),nE(r.stateNode),$t(t,tt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(su)throw su=!1,t=Rh,Rh=null,t;return iu&1&&t.tag!==0&&Ji(),i=t.pendingLanes,i&1?t===Ah?Co++:(Co=0,Ah=t):Co=0,ms(),null}function Ji(){if(Fn!==null){var t=yw(iu),e=rr.transition,r=De;try{if(rr.transition=null,De=16>t?16:t,Fn===null)var n=!1;else{if(t=Fn,Fn=null,iu=0,Ee&6)throw Error(G(331));var s=Ee;for(Ee|=4,ee=t.current;ee!==null;){var i=ee,a=i.child;if(ee.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ee=u;ee!==null;){var d=ee;switch(d.tag){case 0:case 11:case 15:Eo(8,d,i)}var f=d.child;if(f!==null)f.return=d,ee=f;else for(;ee!==null;){d=ee;var g=d.sibling,p=d.return;if(T0(d),d===u){ee=null;break}if(g!==null){g.return=p,ee=g;break}ee=p}}}var x=i.alternate;if(x!==null){var m=x.child;if(m!==null){x.child=null;do{var b=m.sibling;m.sibling=null,m=b}while(m!==null)}}ee=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,ee=a;else e:for(;ee!==null;){if(i=ee,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Eo(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,ee=y;break e}ee=i.return}}var v=t.current;for(ee=v;ee!==null;){a=ee;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,ee=w;else e:for(a=v;ee!==null;){if(l=ee,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Hu(9,l)}}catch(k){et(l,l.return,k)}if(l===a){ee=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,ee=_;break e}ee=l.return}}if(Ee=s,ms(),Vr&&typeof Vr.onPostCommitFiberRoot=="function")try{Vr.onPostCommitFiberRoot(Lu,t)}catch{}n=!0}return n}finally{De=r,rr.transition=e}}return!1}function _v(t,e,r){e=ya(r,e),e=y0(t,e,1),t=Kn(t,e,1),e=Ct(),t!==null&&(_l(t,1,e),$t(t,e))}function et(t,e,r){if(t.tag===3)_v(t,t,r);else for(;e!==null;){if(e.tag===3){_v(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Gn===null||!Gn.has(n))){t=ya(r,t),t=x0(e,t,1),e=Kn(e,t,1),t=Ct(),e!==null&&(_l(e,1,t),$t(e,t));break}}e=e.return}}function PN(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Ct(),t.pingedLanes|=t.suspendedLanes&r,ut===t&&(pt&r)===r&&(lt===4||lt===3&&(pt&130023424)===pt&&500>tt()-lm?Ws(t,0):om|=r),$t(t,e)}function F0(t,e){e===0&&(t.mode&1?(e=Wl,Wl<<=1,!(Wl&130023424)&&(Wl=4194304)):e=1);var r=Ct();t=cn(t,e),t!==null&&(_l(t,e,r),$t(t,r))}function RN(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),F0(t,r)}function AN(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(G(314))}n!==null&&n.delete(e),F0(t,r)}var U0;U0=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Dt.current)It=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return It=!1,xN(t,e,r);It=!!(t.flags&131072)}else It=!1,He&&e.flags&1048576&&Ww(e,Qc,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Nc(t,e),t=e.pendingProps;var s=pa(e,St.current);Zi(e,r),s=tm(null,e,n,t,s,r);var i=rm();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Mt(n)?(i=!0,Gc(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Qp(e),s.updater=qu,e.stateNode=s,s._reactInternals=e,wh(e,n,t,r),e=kh(null,e,n,!0,i,r)):(e.tag=0,He&&i&&Vp(e),Et(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Nc(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=IN(n),t=xr(n,t),s){case 0:e=_h(null,e,n,t,r);break e;case 1:e=fv(null,e,n,t,r);break e;case 11:e=uv(null,e,n,t,r);break e;case 14:e=dv(null,e,n,xr(n.type,t),r);break e}throw Error(G(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:xr(n,s),_h(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:xr(n,s),fv(t,e,n,s,r);case 3:e:{if(k0(e),t===null)throw Error(G(387));n=e.pendingProps,i=e.memoizedState,s=i.element,Qw(t,e),Xc(e,n,null,r);var a=e.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ya(Error(G(423)),e),e=hv(t,e,n,r,s);break e}else if(n!==s){s=ya(Error(G(424)),e),e=hv(t,e,n,r,s);break e}else for(Vt=Hn(e.stateNode.containerInfo.firstChild),Wt=e,He=!0,Er=null,r=Gw(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ma(),n===s){e=un(t,e,r);break e}Et(t,e,n,r)}e=e.child}return e;case 5:return Zw(e),t===null&&vh(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,fh(n,s)?a=null:i!==null&&fh(n,i)&&(e.flags|=32),_0(t,e),Et(t,e,a,r),e.child;case 6:return t===null&&vh(e),null;case 13:return S0(t,e,r);case 4:return Zp(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=ga(e,null,n,r):Et(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:xr(n,s),uv(t,e,n,s,r);case 7:return Et(t,e,e.pendingProps,r),e.child;case 8:return Et(t,e,e.pendingProps.children,r),e.child;case 12:return Et(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,Fe(Zc,n._currentValue),n._currentValue=a,i!==null)if(Tr(i.value,a)){if(i.children===s.children&&!Dt.current){e=un(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=an(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),yh(i.return,r,e),l.lanes|=r;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(G(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),yh(a,r,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Et(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Zi(e,r),s=or(s),n=n(s),e.flags|=1,Et(t,e,n,r),e.child;case 14:return n=e.type,s=xr(n,e.pendingProps),s=xr(n.type,s),dv(t,e,n,s,r);case 15:return w0(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:xr(n,s),Nc(t,e),e.tag=1,Mt(n)?(t=!0,Gc(e)):t=!1,Zi(e,r),v0(e,n,s),wh(e,n,s,r),kh(null,e,n,!0,t,r);case 19:return j0(t,e,r);case 22:return b0(t,e,r)}throw Error(G(156,e.tag))};function B0(t,e){return pw(t,e)}function ON(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function er(t,e,r,n){return new ON(t,e,r,n)}function fm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function IN(t){if(typeof t=="function")return fm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Rp)return 11;if(t===Ap)return 14}return 2}function Qn(t,e){var r=t.alternate;return r===null?(r=er(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Pc(t,e,r,n,s,i){var a=2;if(n=t,typeof t=="function")fm(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Di:return qs(r.children,s,i,e);case Pp:a=8,s|=8;break;case Wf:return t=er(12,r,e,s|2),t.elementType=Wf,t.lanes=i,t;case qf:return t=er(13,r,e,s),t.elementType=qf,t.lanes=i,t;case Hf:return t=er(19,r,e,s),t.elementType=Hf,t.lanes=i,t;case Zx:return Gu(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Yx:a=10;break e;case Qx:a=9;break e;case Rp:a=11;break e;case Ap:a=14;break e;case En:a=16,n=null;break e}throw Error(G(130,t==null?t:typeof t,""))}return e=er(a,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function qs(t,e,r,n){return t=er(7,t,n,e),t.lanes=r,t}function Gu(t,e,r,n){return t=er(22,t,n,e),t.elementType=Zx,t.lanes=r,t.stateNode={isHidden:!1},t}function uf(t,e,r){return t=er(6,t,null,e),t.lanes=r,t}function df(t,e,r){return e=er(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function DN(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wd(0),this.expirationTimes=Wd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wd(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function hm(t,e,r,n,s,i,a,l,c){return t=new DN(t,e,r,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=er(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qp(i),t}function MN(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ii,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function z0(t){if(!t)return as;t=t._reactInternals;e:{if(li(t)!==t||t.tag!==1)throw Error(G(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Mt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(G(171))}if(t.tag===1){var r=t.type;if(Mt(r))return zw(t,r,e)}return e}function V0(t,e,r,n,s,i,a,l,c){return t=hm(r,n,!0,t,s,i,a,l,c),t.context=z0(null),r=t.current,n=Ct(),s=Yn(r),i=an(n,s),i.callback=e??null,Kn(r,i,s),t.current.lanes=s,_l(t,s,n),$t(t,n),t}function Yu(t,e,r,n){var s=e.current,i=Ct(),a=Yn(s);return r=z0(r),e.context===null?e.context=r:e.pendingContext=r,e=an(i,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Kn(s,e,a),t!==null&&(Cr(t,s,a,i),Sc(t,s,a)),a}function ou(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function kv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function pm(t,e){kv(t,e),(t=t.alternate)&&kv(t,e)}function $N(){return null}var W0=typeof reportError=="function"?reportError:function(t){console.error(t)};function mm(t){this._internalRoot=t}Qu.prototype.render=mm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(G(409));Yu(t,e,null,null)};Qu.prototype.unmount=mm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Zs(function(){Yu(null,t,null,null)}),e[ln]=null}};function Qu(t){this._internalRoot=t}Qu.prototype.unstable_scheduleHydration=function(t){if(t){var e=bw();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Pn.length&&e!==0&&e<Pn[r].priority;r++);Pn.splice(r,0,t),r===0&&kw(t)}};function gm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Zu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Sv(){}function LN(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=ou(a);i.call(u)}}var a=V0(e,n,t,0,null,!1,!1,"",Sv);return t._reactRootContainer=a,t[ln]=a.current,Vo(t.nodeType===8?t.parentNode:t),Zs(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=ou(c);l.call(u)}}var c=hm(t,0,!1,null,null,!1,!1,"",Sv);return t._reactRootContainer=c,t[ln]=c.current,Vo(t.nodeType===8?t.parentNode:t),Zs(function(){Yu(e,c,r,n)}),c}function Ju(t,e,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=ou(a);l.call(c)}}Yu(e,a,t,s)}else a=LN(r,e,t,s,n);return ou(a)}xw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=mo(e.pendingLanes);r!==0&&(Dp(e,r|1),$t(e,tt()),!(Ee&6)&&(xa=tt()+500,ms()))}break;case 13:Zs(function(){var n=cn(t,1);if(n!==null){var s=Ct();Cr(n,t,1,s)}}),pm(t,1)}};Mp=function(t){if(t.tag===13){var e=cn(t,134217728);if(e!==null){var r=Ct();Cr(e,t,134217728,r)}pm(t,134217728)}};ww=function(t){if(t.tag===13){var e=Yn(t),r=cn(t,e);if(r!==null){var n=Ct();Cr(r,t,e,n)}pm(t,e)}};bw=function(){return De};_w=function(t,e){var r=De;try{return De=t,e()}finally{De=r}};rh=function(t,e,r){switch(e){case"input":if(Yf(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=zu(n);if(!s)throw Error(G(90));Xx(n),Yf(n,s)}}}break;case"textarea":tw(t,r);break;case"select":e=r.value,e!=null&&Ki(t,!!r.multiple,e,!1)}};lw=cm;cw=Zs;var FN={usingClientEntryPoint:!1,Events:[Sl,Fi,zu,aw,ow,cm]},no={findFiberByHostInstance:Is,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},UN={bundleType:no.bundleType,version:no.version,rendererPackageName:no.rendererPackageName,rendererConfig:no.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=fw(t),t===null?null:t.stateNode},findFiberByHostInstance:no.findFiberByHostInstance||$N,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tc.isDisabled&&tc.supportsFiber)try{Lu=tc.inject(UN),Vr=tc}catch{}}Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FN;Gt.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gm(e))throw Error(G(200));return MN(t,e,null,r)};Gt.createRoot=function(t,e){if(!gm(t))throw Error(G(299));var r=!1,n="",s=W0;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=hm(t,1,!1,null,null,r,!1,n,s),t[ln]=e.current,Vo(t.nodeType===8?t.parentNode:t),new mm(e)};Gt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(G(188)):(t=Object.keys(t).join(","),Error(G(268,t)));return t=fw(e),t=t===null?null:t.stateNode,t};Gt.flushSync=function(t){return Zs(t)};Gt.hydrate=function(t,e,r){if(!Zu(e))throw Error(G(200));return Ju(null,t,e,!0,r)};Gt.hydrateRoot=function(t,e,r){if(!gm(t))throw Error(G(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=W0;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=V0(e,null,t,1,r??null,s,!1,i,a),t[ln]=e.current,Vo(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Qu(e)};Gt.render=function(t,e,r){if(!Zu(e))throw Error(G(200));return Ju(null,t,e,!1,r)};Gt.unmountComponentAtNode=function(t){if(!Zu(t))throw Error(G(40));return t._reactRootContainer?(Zs(function(){Ju(null,null,t,!1,function(){t._reactRootContainer=null,t[ln]=null})}),!0):!1};Gt.unstable_batchedUpdates=cm;Gt.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Zu(r))throw Error(G(200));if(t==null||t._reactInternals===void 0)throw Error(G(38));return Ju(t,e,r,!1,n)};Gt.version="18.3.1-next-f1338f8080-20240426";function q0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(q0)}catch(t){console.error(t)}}q0(),qx.exports=Gt;var ci=qx.exports;const H0=Ox(ci);var K0,jv=ci;K0=jv.createRoot,jv.hydrateRoot;const BN=1,zN=1e6;let ff=0;function VN(){return ff=(ff+1)%Number.MAX_SAFE_INTEGER,ff.toString()}const hf=new Map,Ev=t=>{if(hf.has(t))return;const e=setTimeout(()=>{hf.delete(t),To({type:"REMOVE_TOAST",toastId:t})},zN);hf.set(t,e)},WN=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,BN)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?Ev(r):t.toasts.forEach(n=>{Ev(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},Rc=[];let Ac={toasts:[]};function To(t){Ac=WN(Ac,t),Rc.forEach(e=>{e(Ac)})}function qN({...t}){const e=VN(),r=s=>To({type:"UPDATE_TOAST",toast:{...s,id:e}}),n=()=>To({type:"DISMISS_TOAST",toastId:e});return To({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||n()}}}),{id:e,dismiss:n,update:r}}function HN(){const[t,e]=h.useState(Ac);return h.useEffect(()=>(Rc.push(e),()=>{const r=Rc.indexOf(e);r>-1&&Rc.splice(r,1)}),[t]),{...t,toast:qN,dismiss:r=>To({type:"DISMISS_TOAST",toastId:r})}}function ae(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t==null||t(s),r===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Nv(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Js(...t){return e=>{let r=!1;const n=t.map(s=>{const i=Nv(s,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():Nv(t[s],null)}}}}function Pe(...t){return h.useCallback(Js(...t),t)}function KN(t,e){const r=h.createContext(e),n=i=>{const{children:a,...l}=i,c=h.useMemo(()=>l,Object.values(l));return o.jsx(r.Provider,{value:c,children:a})};n.displayName=t+"Provider";function s(i){const a=h.useContext(r);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[n,s]}function ur(t,e=[]){let r=[];function n(i,a){const l=h.createContext(a),c=r.length;r=[...r,a];const u=f=>{var y;const{scope:g,children:p,...x}=f,m=((y=g==null?void 0:g[t])==null?void 0:y[c])||l,b=h.useMemo(()=>x,Object.values(x));return o.jsx(m.Provider,{value:b,children:p})};u.displayName=i+"Provider";function d(f,g){var m;const p=((m=g==null?void 0:g[t])==null?void 0:m[c])||l,x=h.useContext(p);if(x)return x;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(a=>h.createContext(a));return function(l){const c=(l==null?void 0:l[t])||i;return h.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,GN(s,...e)]}function GN(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return h.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return r.scopeName=e.scopeName,r}function Xs(t){const e=QN(t),r=h.forwardRef((n,s)=>{const{children:i,...a}=n,l=h.Children.toArray(i),c=l.find(ZN);if(c){const u=c.props.children,d=l.map(f=>f===c?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return o.jsx(e,{...a,ref:s,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return o.jsx(e,{...a,ref:s,children:i})});return r.displayName=`${t}.Slot`,r}var YN=Xs("Slot");function QN(t){const e=h.forwardRef((r,n)=>{const{children:s,...i}=r;if(h.isValidElement(s)){const a=XN(s),l=JN(i,s.props);return s.type!==h.Fragment&&(l.ref=n?Js(n,a):a),h.cloneElement(s,l)}return h.Children.count(s)>1?h.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var G0=Symbol("radix.slottable");function Y0(t){const e=({children:r})=>o.jsx(o.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=G0,e}function ZN(t){return h.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===G0}function JN(t,e){const r={...e};for(const n in e){const s=t[n],i=e[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...t,...r}}function XN(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function vm(t){const e=t+"CollectionProvider",[r,n]=ur(e),[s,i]=r(e,{collectionRef:{current:null},itemMap:new Map}),a=m=>{const{scope:b,children:y}=m,v=K.useRef(null),w=K.useRef(new Map).current;return o.jsx(s,{scope:b,itemMap:w,collectionRef:v,children:y})};a.displayName=e;const l=t+"CollectionSlot",c=Xs(l),u=K.forwardRef((m,b)=>{const{scope:y,children:v}=m,w=i(l,y),_=Pe(b,w.collectionRef);return o.jsx(c,{ref:_,children:v})});u.displayName=l;const d=t+"CollectionItemSlot",f="data-radix-collection-item",g=Xs(d),p=K.forwardRef((m,b)=>{const{scope:y,children:v,...w}=m,_=K.useRef(null),k=Pe(b,_),E=i(d,y);return K.useEffect(()=>(E.itemMap.set(_,{ref:_,...w}),()=>void E.itemMap.delete(_))),o.jsx(g,{[f]:"",ref:k,children:v})});p.displayName=d;function x(m){const b=i(t+"CollectionConsumer",m);return K.useCallback(()=>{const v=b.collectionRef.current;if(!v)return[];const w=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((E,S)=>w.indexOf(E.ref.current)-w.indexOf(S.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:a,Slot:u,ItemSlot:p},x,n]}var eC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ce=eC.reduce((t,e)=>{const r=Xs(`Primitive.${e}`),n=h.forwardRef((s,i)=>{const{asChild:a,...l}=s,c=a?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Q0(t,e){t&&ci.flushSync(()=>t.dispatchEvent(e))}function cr(t){const e=h.useRef(t);return h.useEffect(()=>{e.current=t}),h.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function tC(t,e=globalThis==null?void 0:globalThis.document){const r=cr(t);h.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var rC="DismissableLayer",Dh="dismissableLayer.update",nC="dismissableLayer.pointerDownOutside",sC="dismissableLayer.focusOutside",Cv,Z0=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ia=h.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...c}=t,u=h.useContext(Z0),[d,f]=h.useState(null),g=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=h.useState({}),x=Pe(e,S=>f(S)),m=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(b),v=d?m.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=v>=y,k=aC(S=>{const R=S.target,$=[...u.branches].some(O=>O.contains(R));!_||$||(s==null||s(S),a==null||a(S),S.defaultPrevented||l==null||l())},g),E=oC(S=>{const R=S.target;[...u.branches].some(O=>O.contains(R))||(i==null||i(S),a==null||a(S),S.defaultPrevented||l==null||l())},g);return tC(S=>{v===u.layers.size-1&&(n==null||n(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},g),h.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Cv=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Tv(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=Cv)}},[d,g,r,u]),h.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Tv())},[d,u]),h.useEffect(()=>{const S=()=>p({});return document.addEventListener(Dh,S),()=>document.removeEventListener(Dh,S)},[]),o.jsx(ce.div,{...c,ref:x,style:{pointerEvents:w?_?"auto":"none":void 0,...t.style},onFocusCapture:ae(t.onFocusCapture,E.onFocusCapture),onBlurCapture:ae(t.onBlurCapture,E.onBlurCapture),onPointerDownCapture:ae(t.onPointerDownCapture,k.onPointerDownCapture)})});Ia.displayName=rC;var iC="DismissableLayerBranch",J0=h.forwardRef((t,e)=>{const r=h.useContext(Z0),n=h.useRef(null),s=Pe(e,n);return h.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),o.jsx(ce.div,{...t,ref:s})});J0.displayName=iC;function aC(t,e=globalThis==null?void 0:globalThis.document){const r=cr(t),n=h.useRef(!1),s=h.useRef(()=>{});return h.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){X0(nC,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);n.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function oC(t,e=globalThis==null?void 0:globalThis.document){const r=cr(t),n=h.useRef(!1);return h.useEffect(()=>{const s=i=>{i.target&&!n.current&&X0(sC,r,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Tv(){const t=new CustomEvent(Dh);document.dispatchEvent(t)}function X0(t,e,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?Q0(s,i):s.dispatchEvent(i)}var lC=Ia,cC=J0,gt=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},uC="Portal",El=h.forwardRef((t,e)=>{var l;const{container:r,...n}=t,[s,i]=h.useState(!1);gt(()=>i(!0),[]);const a=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?H0.createPortal(o.jsx(ce.div,{...n,ref:e}),a):null});El.displayName=uC;function dC(t,e){return h.useReducer((r,n)=>e[r][n]??r,t)}var Gr=t=>{const{present:e,children:r}=t,n=fC(e),s=typeof r=="function"?r({present:n.isPresent}):h.Children.only(r),i=Pe(n.ref,hC(s));return typeof r=="function"||n.isPresent?h.cloneElement(s,{ref:i}):null};Gr.displayName="Presence";function fC(t){const[e,r]=h.useState(),n=h.useRef(null),s=h.useRef(t),i=h.useRef("none"),a=t?"mounted":"unmounted",[l,c]=dC(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const u=rc(n.current);i.current=l==="mounted"?u:"none"},[l]),gt(()=>{const u=n.current,d=s.current;if(d!==t){const g=i.current,p=rc(u);t?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&g!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),gt(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=p=>{const m=rc(n.current).includes(p.animationName);if(p.target===e&&m&&(c("ANIMATION_END"),!s.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},g=p=>{p.target===e&&(i.current=rc(n.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function rc(t){return(t==null?void 0:t.animationName)||"none"}function hC(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var pC=Ep[" useInsertionEffect ".trim().toString()]||gt;function Pr({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[s,i,a]=mC({defaultProp:e,onChange:r}),l=t!==void 0,c=l?t:s;{const d=h.useRef(t!==void 0);h.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=h.useCallback(d=>{var f;if(l){const g=gC(d)?d(t):d;g!==t&&((f=a.current)==null||f.call(a,g))}else i(d)},[l,t,i,a]);return[c,u]}function mC({defaultProp:t,onChange:e}){const[r,n]=h.useState(t),s=h.useRef(r),i=h.useRef(e);return pC(()=>{i.current=e},[e]),h.useEffect(()=>{var a;s.current!==r&&((a=i.current)==null||a.call(i,r),s.current=r)},[r,s]),[r,n,i]}function gC(t){return typeof t=="function"}var eb=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),vC="VisuallyHidden",Xu=h.forwardRef((t,e)=>o.jsx(ce.span,{...t,ref:e,style:{...eb,...t.style}}));Xu.displayName=vC;var yC=Xu,ym="ToastProvider",[xm,xC,wC]=vm("Toast"),[tb,UF]=ur("Toast",[wC]),[bC,ed]=tb(ym),rb=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:a}=t,[l,c]=h.useState(null),[u,d]=h.useState(0),f=h.useRef(!1),g=h.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${ym}\`. Expected non-empty \`string\`.`),o.jsx(xm.Provider,{scope:e,children:o.jsx(bC,{scope:e,label:r,duration:n,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:h.useCallback(()=>d(p=>p+1),[]),onToastRemove:h.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:g,children:a})})};rb.displayName=ym;var nb="ToastViewport",_C=["F8"],Mh="toast.viewportPause",$h="toast.viewportResume",sb=h.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=_C,label:s="Notifications ({hotkey})",...i}=t,a=ed(nb,r),l=xC(r),c=h.useRef(null),u=h.useRef(null),d=h.useRef(null),f=h.useRef(null),g=Pe(e,f,a.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=a.toastCount>0;h.useEffect(()=>{const b=y=>{var w;n.length!==0&&n.every(_=>y[_]||y.code===_)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[n]),h.useEffect(()=>{const b=c.current,y=f.current;if(x&&b&&y){const v=()=>{if(!a.isClosePausedRef.current){const E=new CustomEvent(Mh);y.dispatchEvent(E),a.isClosePausedRef.current=!0}},w=()=>{if(a.isClosePausedRef.current){const E=new CustomEvent($h);y.dispatchEvent(E),a.isClosePausedRef.current=!1}},_=E=>{!b.contains(E.relatedTarget)&&w()},k=()=>{b.contains(document.activeElement)||w()};return b.addEventListener("focusin",v),b.addEventListener("focusout",_),b.addEventListener("pointermove",v),b.addEventListener("pointerleave",k),window.addEventListener("blur",v),window.addEventListener("focus",w),()=>{b.removeEventListener("focusin",v),b.removeEventListener("focusout",_),b.removeEventListener("pointermove",v),b.removeEventListener("pointerleave",k),window.removeEventListener("blur",v),window.removeEventListener("focus",w)}}},[x,a.isClosePausedRef]);const m=h.useCallback(({tabbingDirection:b})=>{const v=l().map(w=>{const _=w.ref.current,k=[_,...DC(_)];return b==="forwards"?k:k.reverse()});return(b==="forwards"?v.reverse():v).flat()},[l]);return h.useEffect(()=>{const b=f.current;if(b){const y=v=>{var k,E,S;const w=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!w){const R=document.activeElement,$=v.shiftKey;if(v.target===b&&$){(k=u.current)==null||k.focus();return}const A=m({tabbingDirection:$?"backwards":"forwards"}),I=A.findIndex(D=>D===R);pf(A.slice(I+1))?v.preventDefault():$?(E=u.current)==null||E.focus():(S=d.current)==null||S.focus()}};return b.addEventListener("keydown",y),()=>b.removeEventListener("keydown",y)}},[l,m]),o.jsxs(cC,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&o.jsx(Lh,{ref:u,onFocusFromOutsideViewport:()=>{const b=m({tabbingDirection:"forwards"});pf(b)}}),o.jsx(xm.Slot,{scope:r,children:o.jsx(ce.ol,{tabIndex:-1,...i,ref:g})}),x&&o.jsx(Lh,{ref:d,onFocusFromOutsideViewport:()=>{const b=m({tabbingDirection:"backwards"});pf(b)}})]})});sb.displayName=nb;var ib="ToastFocusProxy",Lh=h.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=t,i=ed(ib,r);return o.jsx(Xu,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:a=>{var u;const l=a.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&n()}})});Lh.displayName=ib;var Nl="Toast",kC="toast.swipeStart",SC="toast.swipeMove",jC="toast.swipeCancel",EC="toast.swipeEnd",ab=h.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:i,...a}=t,[l,c]=Pr({prop:n,defaultProp:s??!0,onChange:i,caller:Nl});return o.jsx(Gr,{present:r||l,children:o.jsx(TC,{open:l,...a,ref:e,onClose:()=>c(!1),onPause:cr(t.onPause),onResume:cr(t.onResume),onSwipeStart:ae(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ae(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ae(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ae(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});ab.displayName=Nl;var[NC,CC]=tb(Nl,{onClose(){}}),TC=h.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:i,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:g,onSwipeEnd:p,...x}=t,m=ed(Nl,r),[b,y]=h.useState(null),v=Pe(e,D=>y(D)),w=h.useRef(null),_=h.useRef(null),k=s||m.duration,E=h.useRef(0),S=h.useRef(k),R=h.useRef(0),{onToastAdd:$,onToastRemove:O}=m,N=cr(()=>{var W;(b==null?void 0:b.contains(document.activeElement))&&((W=m.viewport)==null||W.focus()),a()}),A=h.useCallback(D=>{!D||D===1/0||(window.clearTimeout(R.current),E.current=new Date().getTime(),R.current=window.setTimeout(N,D))},[N]);h.useEffect(()=>{const D=m.viewport;if(D){const W=()=>{A(S.current),u==null||u()},V=()=>{const Q=new Date().getTime()-E.current;S.current=S.current-Q,window.clearTimeout(R.current),c==null||c()};return D.addEventListener(Mh,V),D.addEventListener($h,W),()=>{D.removeEventListener(Mh,V),D.removeEventListener($h,W)}}},[m.viewport,k,c,u,A]),h.useEffect(()=>{i&&!m.isClosePausedRef.current&&A(k)},[i,k,m.isClosePausedRef,A]),h.useEffect(()=>($(),()=>O()),[$,O]);const I=h.useMemo(()=>b?hb(b):null,[b]);return m.viewport?o.jsxs(o.Fragment,{children:[I&&o.jsx(PC,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:I}),o.jsx(NC,{scope:r,onClose:N,children:ci.createPortal(o.jsx(xm.ItemSlot,{scope:r,children:o.jsx(lC,{asChild:!0,onEscapeKeyDown:ae(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||N(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(ce.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":m.swipeDirection,...x,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ae(t.onKeyDown,D=>{D.key==="Escape"&&(l==null||l(D.nativeEvent),D.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:ae(t.onPointerDown,D=>{D.button===0&&(w.current={x:D.clientX,y:D.clientY})}),onPointerMove:ae(t.onPointerMove,D=>{if(!w.current)return;const W=D.clientX-w.current.x,V=D.clientY-w.current.y,Q=!!_.current,C=["left","right"].includes(m.swipeDirection),j=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,L=C?j(0,W):0,q=C?0:j(0,V),T=D.pointerType==="touch"?10:2,B={x:L,y:q},F={originalEvent:D,delta:B};Q?(_.current=B,nc(SC,f,F,{discrete:!1})):Pv(B,m.swipeDirection,T)?(_.current=B,nc(kC,d,F,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs(W)>T||Math.abs(V)>T)&&(w.current=null)}),onPointerUp:ae(t.onPointerUp,D=>{const W=_.current,V=D.target;if(V.hasPointerCapture(D.pointerId)&&V.releasePointerCapture(D.pointerId),_.current=null,w.current=null,W){const Q=D.currentTarget,C={originalEvent:D,delta:W};Pv(W,m.swipeDirection,m.swipeThreshold)?nc(EC,p,C,{discrete:!0}):nc(jC,g,C,{discrete:!0}),Q.addEventListener("click",j=>j.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),PC=t=>{const{__scopeToast:e,children:r,...n}=t,s=ed(Nl,e),[i,a]=h.useState(!1),[l,c]=h.useState(!1);return OC(()=>a(!0)),h.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:o.jsx(El,{asChild:!0,children:o.jsx(Xu,{...n,children:i&&o.jsxs(o.Fragment,{children:[s.label," ",r]})})})},RC="ToastTitle",ob=h.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return o.jsx(ce.div,{...n,ref:e})});ob.displayName=RC;var AC="ToastDescription",lb=h.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return o.jsx(ce.div,{...n,ref:e})});lb.displayName=AC;var cb="ToastAction",ub=h.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?o.jsx(fb,{altText:r,asChild:!0,children:o.jsx(wm,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${cb}\`. Expected non-empty \`string\`.`),null)});ub.displayName=cb;var db="ToastClose",wm=h.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,s=CC(db,r);return o.jsx(fb,{asChild:!0,children:o.jsx(ce.button,{type:"button",...n,ref:e,onClick:ae(t.onClick,s.onClose)})})});wm.displayName=db;var fb=h.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...s}=t;return o.jsx(ce.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:e})});function hb(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),IC(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const a=n.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...hb(n))}}),e}function nc(t,e,r,{discrete:n}){const s=r.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?Q0(s,i):s.dispatchEvent(i)}var Pv=(t,e,r=0)=>{const n=Math.abs(t.x),s=Math.abs(t.y),i=n>s;return e==="left"||e==="right"?i&&n>r:!i&&s>r};function OC(t=()=>{}){const e=cr(t);gt(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function IC(t){return t.nodeType===t.ELEMENT_NODE}function DC(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function pf(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var MC=rb,pb=sb,mb=ab,gb=ob,vb=lb,yb=ub,xb=wm;function wb(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=wb(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function bb(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=wb(t))&&(n&&(n+=" "),n+=e);return n}const Rv=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Av=bb,ui=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return Av(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=e,a=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const g=Rv(d)||Rv(f);return s[u][g]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,g]=d;return g===void 0||(u[f]=g),u},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:g,...p}=d;return Object.entries(p).every(x=>{let[m,b]=x;return Array.isArray(b)?b.includes({...i,...l}[m]):{...i,...l}[m]===b})?[...u,f,g]:u},[]);return Av(t,a,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_b=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var LC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=h.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:a,...l},c)=>h.createElement("svg",{ref:c,...LC,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:_b("lucide",s),...l},[...a.map(([u,d])=>h.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=(t,e)=>{const r=h.forwardRef(({className:n,...s},i)=>h.createElement(FC,{ref:i,iconNode:e,className:_b(`lucide-${$C(t)}`,n),...s}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=we("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=we("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=we("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=we("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=we("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=we("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=we("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=we("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=we("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=we("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=we("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=we("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cu=we("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=we("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=we("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=we("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=we("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=we("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=we("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=we("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=we("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=we("PackagePlus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=we("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=we("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=we("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=we("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=we("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=we("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=we("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gf=we("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=we("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=we("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=we("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=we("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=we("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=we("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=we("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=we("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=we("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=we("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=we("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=we("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),_m="-",sT=t=>{const e=aT(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:a=>{const l=a.split(_m);return l[0]===""&&l.length!==1&&l.shift(),Nb(l,e)||iT(a)},getConflictingClassGroupIds:(a,l)=>{const c=r[a]||[];return l&&n[a]?[...c,...n[a]]:c}}},Nb=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?Nb(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(_m);return(a=e.validators.find(({validator:l})=>l(i)))==null?void 0:a.classGroupId},Uv=/^\[(.+)\]$/,iT=t=>{if(Uv.test(t)){const e=Uv.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},aT=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return lT(Object.entries(t.classGroups),r).forEach(([i,a])=>{Fh(a,n,i,e)}),n},Fh=(t,e,r,n)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:Bv(e,s);i.classGroupId=r;return}if(typeof s=="function"){if(oT(s)){Fh(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,a])=>{Fh(a,Bv(e,i),r,n)})})},Bv=(t,e)=>{let r=t;return e.split(_m).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},oT=t=>t.isThemeGetter,lT=(t,e)=>e?t.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,l])=>[e+a,l])):i);return[r,s]}):t,cT=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const s=(i,a)=>{r.set(i,a),e++,e>t&&(e=0,n=r,r=new Map)};return{get(i){let a=r.get(i);if(a!==void 0)return a;if((a=n.get(i))!==void 0)return s(i,a),a},set(i,a){r.has(i)?r.set(i,a):s(i,a)}}},Cb="!",uT=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,s=e[0],i=e.length,a=l=>{const c=[];let u=0,d=0,f;for(let b=0;b<l.length;b++){let y=l[b];if(u===0){if(y===s&&(n||l.slice(b,b+i)===e)){c.push(l.slice(d,b)),d=b+i;continue}if(y==="/"){f=b;continue}}y==="["?u++:y==="]"&&u--}const g=c.length===0?l:l.substring(d),p=g.startsWith(Cb),x=p?g.substring(1):g,m=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:x,maybePostfixModifierPosition:m}};return r?l=>r({className:l,parseClassName:a}):a},dT=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},fT=t=>({cache:cT(t.cacheSize),parseClassName:uT(t),...sT(t)}),hT=/\s+/,pT=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,i=[],a=t.trim().split(hT);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:p}=r(u);let x=!!p,m=n(x?g.substring(0,p):g);if(!m){if(!x){l=u+(l.length>0?" "+l:l);continue}if(m=n(g),!m){l=u+(l.length>0?" "+l:l);continue}x=!1}const b=dT(d).join(":"),y=f?b+Cb:b,v=y+m;if(i.includes(v))continue;i.push(v);const w=s(m,x);for(let _=0;_<w.length;++_){const k=w[_];i.push(y+k)}l=u+(l.length>0?" "+l:l)}return l};function mT(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=Tb(e))&&(n&&(n+=" "),n+=r);return n}const Tb=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=Tb(t[n]))&&(r&&(r+=" "),r+=e);return r};function gT(t,...e){let r,n,s,i=a;function a(c){const u=e.reduce((d,f)=>f(d),t());return r=fT(u),n=r.cache.get,s=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=pT(c,r);return s(c,d),d}return function(){return i(mT.apply(null,arguments))}}const Be=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},Pb=/^\[(?:([a-z-]+):)?(.+)\]$/i,vT=/^\d+\/\d+$/,yT=new Set(["px","full","screen"]),xT=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,wT=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,bT=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,_T=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,kT=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qr=t=>ea(t)||yT.has(t)||vT.test(t),wn=t=>Ma(t,"length",RT),ea=t=>!!t&&!Number.isNaN(Number(t)),vf=t=>Ma(t,"number",ea),so=t=>!!t&&Number.isInteger(Number(t)),ST=t=>t.endsWith("%")&&ea(t.slice(0,-1)),be=t=>Pb.test(t),bn=t=>xT.test(t),jT=new Set(["length","size","percentage"]),ET=t=>Ma(t,jT,Rb),NT=t=>Ma(t,"position",Rb),CT=new Set(["image","url"]),TT=t=>Ma(t,CT,OT),PT=t=>Ma(t,"",AT),io=()=>!0,Ma=(t,e,r)=>{const n=Pb.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},RT=t=>wT.test(t)&&!bT.test(t),Rb=()=>!1,AT=t=>_T.test(t),OT=t=>kT.test(t),IT=()=>{const t=Be("colors"),e=Be("spacing"),r=Be("blur"),n=Be("brightness"),s=Be("borderColor"),i=Be("borderRadius"),a=Be("borderSpacing"),l=Be("borderWidth"),c=Be("contrast"),u=Be("grayscale"),d=Be("hueRotate"),f=Be("invert"),g=Be("gap"),p=Be("gradientColorStops"),x=Be("gradientColorStopPositions"),m=Be("inset"),b=Be("margin"),y=Be("opacity"),v=Be("padding"),w=Be("saturate"),_=Be("scale"),k=Be("sepia"),E=Be("skew"),S=Be("space"),R=Be("translate"),$=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",be,e],A=()=>[be,e],I=()=>["",Qr,wn],D=()=>["auto",ea,be],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],Q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],C=()=>["start","end","center","between","around","evenly","stretch"],j=()=>["","0",be],L=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>[ea,be];return{cacheSize:500,separator:":",theme:{colors:[io],spacing:[Qr,wn],blur:["none","",bn,be],brightness:q(),borderColor:[t],borderRadius:["none","","full",bn,be],borderSpacing:A(),borderWidth:I(),contrast:q(),grayscale:j(),hueRotate:q(),invert:j(),gap:A(),gradientColorStops:[t],gradientColorStopPositions:[ST,wn],inset:N(),margin:N(),opacity:q(),padding:A(),saturate:q(),scale:q(),sepia:j(),skew:q(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",be]}],container:["container"],columns:[{columns:[bn]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),be]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:$()}],"overscroll-x":[{"overscroll-x":$()}],"overscroll-y":[{"overscroll-y":$()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",so,be]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",be]}],grow:[{grow:j()}],shrink:[{shrink:j()}],order:[{order:["first","last","none",so,be]}],"grid-cols":[{"grid-cols":[io]}],"col-start-end":[{col:["auto",{span:["full",so,be]},be]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[io]}],"row-start-end":[{row:["auto",{span:[so,be]},be]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",be]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",be]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...C()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...C(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...C(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",be,e]}],"min-w":[{"min-w":[be,e,"min","max","fit"]}],"max-w":[{"max-w":[be,e,"none","full","min","max","fit","prose",{screen:[bn]},bn]}],h:[{h:[be,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[be,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[be,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[be,e,"auto","min","max","fit"]}],"font-size":[{text:["base",bn,wn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",vf]}],"font-family":[{font:[io]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",be]}],"line-clamp":[{"line-clamp":["none",ea,vf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Qr,be]}],"list-image":[{"list-image":["none",be]}],"list-style-type":[{list:["none","disc","decimal",be]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Qr,wn]}],"underline-offset":[{"underline-offset":["auto",Qr,be]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",be]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",be]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),NT]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ET]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},TT]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:V()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[Qr,be]}],"outline-w":[{outline:[Qr,wn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Qr,wn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",bn,PT]}],"shadow-color":[{shadow:[io]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...Q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Q()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",bn,be]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",be]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",be]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",be]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[so,be]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",be]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",be]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",be]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Qr,wn,vf]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},DT=gT(IT);function Z(...t){return DT(bb(t))}const MT=MC,Ab=h.forwardRef(({className:t,...e},r)=>o.jsx(pb,{ref:r,className:Z("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Ab.displayName=pb.displayName;const $T=ui("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Ob=h.forwardRef(({className:t,variant:e,...r},n)=>o.jsx(mb,{ref:n,className:Z($T({variant:e}),t),...r}));Ob.displayName=mb.displayName;const LT=h.forwardRef(({className:t,...e},r)=>o.jsx(yb,{ref:r,className:Z("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));LT.displayName=yb.displayName;const Ib=h.forwardRef(({className:t,...e},r)=>o.jsx(xb,{ref:r,className:Z("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-100 transition-opacity group-[.destructive]:text-red-300 hover:text-foreground hover:opacity-100 group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:o.jsx(Da,{className:"h-4 w-4"})}));Ib.displayName=xb.displayName;const Db=h.forwardRef(({className:t,...e},r)=>o.jsx(gb,{ref:r,className:Z("text-sm font-semibold",t),...e}));Db.displayName=gb.displayName;const Mb=h.forwardRef(({className:t,...e},r)=>o.jsx(vb,{ref:r,className:Z("text-sm opacity-90",t),...e}));Mb.displayName=vb.displayName;function FT(){const{toasts:t}=HN();return o.jsxs(MT,{children:[t.map(function({id:e,title:r,description:n,action:s,...i}){return o.jsxs(Ob,{...i,children:[o.jsxs("div",{className:"grid gap-1",children:[r&&o.jsx(Db,{children:r}),n&&o.jsx(Mb,{children:n})]}),s,o.jsx(Ib,{})]},e)}),o.jsx(Ab,{})]})}var zv=["light","dark"],UT="(prefers-color-scheme: dark)",BT=h.createContext(void 0),zT={setTheme:t=>{},themes:[]},VT=()=>{var t;return(t=h.useContext(BT))!=null?t:zT};h.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:i,value:a,attrs:l,nonce:c})=>{let u=i==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=s?zv.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",g=(x,m=!1,b=!0)=>{let y=a?a[x]:x,v=m?x+"|| ''":`'${y}'`,w="";return s&&b&&!m&&zv.includes(x)&&(w+=`d.style.colorScheme = '${x}';`),r==="class"?m||y?w+=`c.add(${v})`:w+="null":y&&(w+=`d[s](n,${v})`),w},p=t?`!function(){${d}${g(t)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${UT}',m=window.matchMedia(t);if(m.media!==t||m.matches){${g("dark")}}else{${g("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${g(a?"x[e]":"e",!0)}}${u?"":"else{"+g(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${g(a?"x[e]":"e",!0)}}else{${g(i,!1,!1)};}${f}}catch(t){}}();`;return h.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var WT=t=>{switch(t){case"success":return KT;case"info":return YT;case"warning":return GT;case"error":return QT;default:return null}},qT=Array(12).fill(0),HT=({visible:t,className:e})=>K.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},K.createElement("div",{className:"sonner-spinner"},qT.map((r,n)=>K.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),KT=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),GT=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),YT=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),QT=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),ZT=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},K.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),K.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),JT=()=>{let[t,e]=K.useState(document.hidden);return K.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},Uh=1,XT=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Uh++,i=this.toasts.find(l=>l.id===s),a=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...t,id:s,title:r}),{...l,...t,id:s,dismissible:a,title:r}):l):this.addToast({title:r,...n,dismissible:a,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),s=r!==void 0,i,a=n.then(async c=>{if(i=["resolve",c],K.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(tP(c)&&!c.ok){s=!1;let u=typeof e.error=="function"?await e.error(`HTTP error! status: ${c.status}`):e.error,d=typeof e.description=="function"?await e.description(`HTTP error! status: ${c.status}`):e.description;this.create({id:r,type:"error",message:u,description:d})}else if(e.success!==void 0){s=!1;let u=typeof e.success=="function"?await e.success(c):e.success,d=typeof e.description=="function"?await e.description(c):e.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(i=["reject",c],e.error!==void 0){s=!1;let u=typeof e.error=="function"?await e.error(c):e.error,d=typeof e.description=="function"?await e.description(c):e.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=e.finally)==null||c.call(e)}),l=()=>new Promise((c,u)=>a.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(t,e)=>{let r=(e==null?void 0:e.id)||Uh++;return this.create({jsx:t(r),id:r,...e}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},At=new XT,eP=(t,e)=>{let r=(e==null?void 0:e.id)||Uh++;return At.addToast({title:t,...e,id:r}),r},tP=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",rP=eP,nP=()=>At.toasts,sP=()=>At.getActiveToasts(),H=Object.assign(rP,{success:At.success,info:At.info,warning:At.warning,error:At.error,custom:At.custom,message:At.message,promise:At.promise,dismiss:At.dismiss,loading:At.loading},{getHistory:nP,getToasts:sP});function iP(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}iP(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function sc(t){return t.label!==void 0}var aP=3,oP="32px",lP="16px",Vv=4e3,cP=356,uP=14,dP=20,fP=200;function gr(...t){return t.filter(Boolean).join(" ")}function hP(t){let[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}var pP=t=>{var e,r,n,s,i,a,l,c,u,d,f;let{invert:g,toast:p,unstyled:x,interacting:m,setHeights:b,visibleToasts:y,heights:v,index:w,toasts:_,expanded:k,removeToast:E,defaultRichColors:S,closeButton:R,style:$,cancelButtonStyle:O,actionButtonStyle:N,className:A="",descriptionClassName:I="",duration:D,position:W,gap:V,loadingIcon:Q,expandByDefault:C,classNames:j,icons:L,closeButtonAriaLabel:q="Close toast",pauseWhenPageIsHidden:T}=t,[B,F]=K.useState(null),[P,U]=K.useState(null),[M,J]=K.useState(!1),[ne,oe]=K.useState(!1),[ue,pe]=K.useState(!1),[We,Re]=K.useState(!1),[$e,Ue]=K.useState(!1),[_s,Ga]=K.useState(0),[hi,ug]=K.useState(0),Ya=K.useRef(p.duration||D||Vv),dg=K.useRef(null),ks=K.useRef(null),sj=w===0,ij=w+1<=y,Qt=p.type,pi=p.dismissible!==!1,aj=p.className||"",oj=p.descriptionClassName||"",$l=K.useMemo(()=>v.findIndex(ye=>ye.toastId===p.id)||0,[v,p.id]),lj=K.useMemo(()=>{var ye;return(ye=p.closeButton)!=null?ye:R},[p.closeButton,R]),fg=K.useMemo(()=>p.duration||D||Vv,[p.duration,D]),Dd=K.useRef(0),mi=K.useRef(0),hg=K.useRef(0),gi=K.useRef(null),[cj,uj]=W.split("-"),pg=K.useMemo(()=>v.reduce((ye,Me,qe)=>qe>=$l?ye:ye+Me.height,0),[v,$l]),mg=JT(),dj=p.invert||g,Md=Qt==="loading";mi.current=K.useMemo(()=>$l*V+pg,[$l,pg]),K.useEffect(()=>{Ya.current=fg},[fg]),K.useEffect(()=>{J(!0)},[]),K.useEffect(()=>{let ye=ks.current;if(ye){let Me=ye.getBoundingClientRect().height;return ug(Me),b(qe=>[{toastId:p.id,height:Me,position:p.position},...qe]),()=>b(qe=>qe.filter(fr=>fr.toastId!==p.id))}},[b,p.id]),K.useLayoutEffect(()=>{if(!M)return;let ye=ks.current,Me=ye.style.height;ye.style.height="auto";let qe=ye.getBoundingClientRect().height;ye.style.height=Me,ug(qe),b(fr=>fr.find(hr=>hr.toastId===p.id)?fr.map(hr=>hr.toastId===p.id?{...hr,height:qe}:hr):[{toastId:p.id,height:qe,position:p.position},...fr])},[M,p.title,p.description,b,p.id]);let gn=K.useCallback(()=>{oe(!0),Ga(mi.current),b(ye=>ye.filter(Me=>Me.toastId!==p.id)),setTimeout(()=>{E(p)},fP)},[p,E,b,mi]);K.useEffect(()=>{if(p.promise&&Qt==="loading"||p.duration===1/0||p.type==="loading")return;let ye;return k||m||T&&mg?(()=>{if(hg.current<Dd.current){let Me=new Date().getTime()-Dd.current;Ya.current=Ya.current-Me}hg.current=new Date().getTime()})():Ya.current!==1/0&&(Dd.current=new Date().getTime(),ye=setTimeout(()=>{var Me;(Me=p.onAutoClose)==null||Me.call(p,p),gn()},Ya.current)),()=>clearTimeout(ye)},[k,m,p,Qt,T,mg,gn]),K.useEffect(()=>{p.delete&&gn()},[gn,p.delete]);function fj(){var ye,Me,qe;return L!=null&&L.loading?K.createElement("div",{className:gr(j==null?void 0:j.loader,(ye=p==null?void 0:p.classNames)==null?void 0:ye.loader,"sonner-loader"),"data-visible":Qt==="loading"},L.loading):Q?K.createElement("div",{className:gr(j==null?void 0:j.loader,(Me=p==null?void 0:p.classNames)==null?void 0:Me.loader,"sonner-loader"),"data-visible":Qt==="loading"},Q):K.createElement(HT,{className:gr(j==null?void 0:j.loader,(qe=p==null?void 0:p.classNames)==null?void 0:qe.loader),visible:Qt==="loading"})}return K.createElement("li",{tabIndex:0,ref:ks,className:gr(A,aj,j==null?void 0:j.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,j==null?void 0:j.default,j==null?void 0:j[Qt],(r=p==null?void 0:p.classNames)==null?void 0:r[Qt]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:S,"data-styled":!(p.jsx||p.unstyled||x),"data-mounted":M,"data-promise":!!p.promise,"data-swiped":$e,"data-removed":ne,"data-visible":ij,"data-y-position":cj,"data-x-position":uj,"data-index":w,"data-front":sj,"data-swiping":ue,"data-dismissible":pi,"data-type":Qt,"data-invert":dj,"data-swipe-out":We,"data-swipe-direction":P,"data-expanded":!!(k||C&&M),style:{"--index":w,"--toasts-before":w,"--z-index":_.length-w,"--offset":`${ne?_s:mi.current}px`,"--initial-height":C?"auto":`${hi}px`,...$,...p.style},onDragEnd:()=>{pe(!1),F(null),gi.current=null},onPointerDown:ye=>{Md||!pi||(dg.current=new Date,Ga(mi.current),ye.target.setPointerCapture(ye.pointerId),ye.target.tagName!=="BUTTON"&&(pe(!0),gi.current={x:ye.clientX,y:ye.clientY}))},onPointerUp:()=>{var ye,Me,qe,fr;if(We||!pi)return;gi.current=null;let hr=Number(((ye=ks.current)==null?void 0:ye.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),vn=Number(((Me=ks.current)==null?void 0:Me.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ss=new Date().getTime()-((qe=dg.current)==null?void 0:qe.getTime()),pr=B==="x"?hr:vn,yn=Math.abs(pr)/Ss;if(Math.abs(pr)>=dP||yn>.11){Ga(mi.current),(fr=p.onDismiss)==null||fr.call(p,p),U(B==="x"?hr>0?"right":"left":vn>0?"down":"up"),gn(),Re(!0),Ue(!1);return}pe(!1),F(null)},onPointerMove:ye=>{var Me,qe,fr,hr;if(!gi.current||!pi||((Me=window.getSelection())==null?void 0:Me.toString().length)>0)return;let vn=ye.clientY-gi.current.y,Ss=ye.clientX-gi.current.x,pr=(qe=t.swipeDirections)!=null?qe:hP(W);!B&&(Math.abs(Ss)>1||Math.abs(vn)>1)&&F(Math.abs(Ss)>Math.abs(vn)?"x":"y");let yn={x:0,y:0};B==="y"?(pr.includes("top")||pr.includes("bottom"))&&(pr.includes("top")&&vn<0||pr.includes("bottom")&&vn>0)&&(yn.y=vn):B==="x"&&(pr.includes("left")||pr.includes("right"))&&(pr.includes("left")&&Ss<0||pr.includes("right")&&Ss>0)&&(yn.x=Ss),(Math.abs(yn.x)>0||Math.abs(yn.y)>0)&&Ue(!0),(fr=ks.current)==null||fr.style.setProperty("--swipe-amount-x",`${yn.x}px`),(hr=ks.current)==null||hr.style.setProperty("--swipe-amount-y",`${yn.y}px`)}},lj&&!p.jsx?K.createElement("button",{"aria-label":q,"data-disabled":Md,"data-close-button":!0,onClick:Md||!pi?()=>{}:()=>{var ye;gn(),(ye=p.onDismiss)==null||ye.call(p,p)},className:gr(j==null?void 0:j.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(i=L==null?void 0:L.close)!=null?i:ZT):null,p.jsx||h.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:K.createElement(K.Fragment,null,Qt||p.icon||p.promise?K.createElement("div",{"data-icon":"",className:gr(j==null?void 0:j.icon,(a=p==null?void 0:p.classNames)==null?void 0:a.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||fj():null,p.type!=="loading"?p.icon||(L==null?void 0:L[Qt])||WT(Qt):null):null,K.createElement("div",{"data-content":"",className:gr(j==null?void 0:j.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},K.createElement("div",{"data-title":"",className:gr(j==null?void 0:j.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?K.createElement("div",{"data-description":"",className:gr(I,oj,j==null?void 0:j.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),h.isValidElement(p.cancel)?p.cancel:p.cancel&&sc(p.cancel)?K.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||O,onClick:ye=>{var Me,qe;sc(p.cancel)&&pi&&((qe=(Me=p.cancel).onClick)==null||qe.call(Me,ye),gn())},className:gr(j==null?void 0:j.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,h.isValidElement(p.action)?p.action:p.action&&sc(p.action)?K.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||N,onClick:ye=>{var Me,qe;sc(p.action)&&((qe=(Me=p.action).onClick)==null||qe.call(Me,ye),!ye.defaultPrevented&&gn())},className:gr(j==null?void 0:j.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function Wv(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function mP(t,e){let r={};return[t,e].forEach((n,s)=>{let i=s===1,a=i?"--mobile-offset":"--offset",l=i?lP:oP;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${a}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${a}-${u}`]=l:r[`${a}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var gP=h.forwardRef(function(t,e){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:a,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:g,style:p,visibleToasts:x=aP,toastOptions:m,dir:b=Wv(),gap:y=uP,loadingIcon:v,icons:w,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:k}=t,[E,S]=K.useState([]),R=K.useMemo(()=>Array.from(new Set([n].concat(E.filter(T=>T.position).map(T=>T.position)))),[E,n]),[$,O]=K.useState([]),[N,A]=K.useState(!1),[I,D]=K.useState(!1),[W,V]=K.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Q=K.useRef(null),C=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=K.useRef(null),L=K.useRef(!1),q=K.useCallback(T=>{S(B=>{var F;return(F=B.find(P=>P.id===T.id))!=null&&F.delete||At.dismiss(T.id),B.filter(({id:P})=>P!==T.id)})},[]);return K.useEffect(()=>At.subscribe(T=>{if(T.dismiss){S(B=>B.map(F=>F.id===T.id?{...F,delete:!0}:F));return}setTimeout(()=>{H0.flushSync(()=>{S(B=>{let F=B.findIndex(P=>P.id===T.id);return F!==-1?[...B.slice(0,F),{...B[F],...T},...B.slice(F+1)]:[T,...B]})})})}),[]),K.useEffect(()=>{if(d!=="system"){V(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?V("dark"):V("light")),typeof window>"u")return;let T=window.matchMedia("(prefers-color-scheme: dark)");try{T.addEventListener("change",({matches:B})=>{V(B?"dark":"light")})}catch{T.addListener(({matches:F})=>{try{V(F?"dark":"light")}catch(P){console.error(P)}})}},[d]),K.useEffect(()=>{E.length<=1&&A(!1)},[E]),K.useEffect(()=>{let T=B=>{var F,P;s.every(U=>B[U]||B.code===U)&&(A(!0),(F=Q.current)==null||F.focus()),B.code==="Escape"&&(document.activeElement===Q.current||(P=Q.current)!=null&&P.contains(document.activeElement))&&A(!1)};return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)},[s]),K.useEffect(()=>{if(Q.current)return()=>{j.current&&(j.current.focus({preventScroll:!0}),j.current=null,L.current=!1)}},[Q.current]),K.createElement("section",{ref:e,"aria-label":`${_} ${C}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},R.map((T,B)=>{var F;let[P,U]=T.split("-");return E.length?K.createElement("ol",{key:T,dir:b==="auto"?Wv():b,tabIndex:-1,ref:Q,className:l,"data-sonner-toaster":!0,"data-theme":W,"data-y-position":P,"data-lifted":N&&E.length>1&&!i,"data-x-position":U,style:{"--front-toast-height":`${((F=$[0])==null?void 0:F.height)||0}px`,"--width":`${cP}px`,"--gap":`${y}px`,...p,...mP(c,u)},onBlur:M=>{L.current&&!M.currentTarget.contains(M.relatedTarget)&&(L.current=!1,j.current&&(j.current.focus({preventScroll:!0}),j.current=null))},onFocus:M=>{M.target instanceof HTMLElement&&M.target.dataset.dismissible==="false"||L.current||(L.current=!0,j.current=M.relatedTarget)},onMouseEnter:()=>A(!0),onMouseMove:()=>A(!0),onMouseLeave:()=>{I||A(!1)},onDragEnd:()=>A(!1),onPointerDown:M=>{M.target instanceof HTMLElement&&M.target.dataset.dismissible==="false"||D(!0)},onPointerUp:()=>D(!1)},E.filter(M=>!M.position&&B===0||M.position===T).map((M,J)=>{var ne,oe;return K.createElement(pP,{key:M.id,icons:w,index:J,toast:M,defaultRichColors:f,duration:(ne=m==null?void 0:m.duration)!=null?ne:g,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:r,visibleToasts:x,closeButton:(oe=m==null?void 0:m.closeButton)!=null?oe:a,interacting:I,position:T,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:q,toasts:E.filter(ue=>ue.position==M.position),heights:$.filter(ue=>ue.position==M.position),setHeights:O,expandByDefault:i,gap:y,loadingIcon:v,expanded:N,pauseWhenPageIsHidden:k,swipeDirections:t.swipeDirections})})):null}))});const vP=({...t})=>{const{theme:e="system"}=VT();return o.jsx(gP,{theme:e,className:"toaster group",closeButton:!0,toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var yP=Ep[" useId ".trim().toString()]||(()=>{}),xP=0;function Tt(t){const[e,r]=h.useState(yP());return gt(()=>{t||r(n=>n??String(xP++))},[t]),t||(e?`radix-${e}`:"")}const wP=["top","right","bottom","left"],os=Math.min,Bt=Math.max,du=Math.round,ic=Math.floor,qr=t=>({x:t,y:t}),bP={left:"right",right:"left",bottom:"top",top:"bottom"},_P={start:"end",end:"start"};function Bh(t,e,r){return Bt(t,os(e,r))}function dn(t,e){return typeof t=="function"?t(e):t}function fn(t){return t.split("-")[0]}function $a(t){return t.split("-")[1]}function km(t){return t==="x"?"y":"x"}function Sm(t){return t==="y"?"height":"width"}const kP=new Set(["top","bottom"]);function zr(t){return kP.has(fn(t))?"y":"x"}function jm(t){return km(zr(t))}function SP(t,e,r){r===void 0&&(r=!1);const n=$a(t),s=jm(t),i=Sm(s);let a=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=fu(a)),[a,fu(a)]}function jP(t){const e=fu(t);return[zh(t),e,zh(e)]}function zh(t){return t.replace(/start|end/g,e=>_P[e])}const qv=["left","right"],Hv=["right","left"],EP=["top","bottom"],NP=["bottom","top"];function CP(t,e,r){switch(t){case"top":case"bottom":return r?e?Hv:qv:e?qv:Hv;case"left":case"right":return e?EP:NP;default:return[]}}function TP(t,e,r,n){const s=$a(t);let i=CP(fn(t),r==="start",n);return s&&(i=i.map(a=>a+"-"+s),e&&(i=i.concat(i.map(zh)))),i}function fu(t){return t.replace(/left|right|bottom|top/g,e=>bP[e])}function PP(t){return{top:0,right:0,bottom:0,left:0,...t}}function $b(t){return typeof t!="number"?PP(t):{top:t,right:t,bottom:t,left:t}}function hu(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}function Kv(t,e,r){let{reference:n,floating:s}=t;const i=zr(e),a=jm(e),l=Sm(a),c=fn(e),u=i==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,g=n[l]/2-s[l]/2;let p;switch(c){case"top":p={x:d,y:n.y-s.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-s.width,y:f};break;default:p={x:n.x,y:n.y}}switch($a(e)){case"start":p[a]-=g*(r&&u?-1:1);break;case"end":p[a]+=g*(r&&u?-1:1);break}return p}const RP=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:a}=r,l=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=Kv(u,n,c),g=n,p={},x=0;for(let m=0;m<l.length;m++){const{name:b,fn:y}=l[m],{x:v,y:w,data:_,reset:k}=await y({x:d,y:f,initialPlacement:n,placement:g,strategy:s,middlewareData:p,rects:u,platform:a,elements:{reference:t,floating:e}});d=v??d,f=w??f,p={...p,[b]:{...p[b],..._}},k&&x<=50&&(x++,typeof k=="object"&&(k.placement&&(g=k.placement),k.rects&&(u=k.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):k.rects),{x:d,y:f}=Kv(u,g,c)),m=-1)}return{x:d,y:f,placement:g,strategy:s,middlewareData:p}};async function Jo(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:i,rects:a,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:g=!1,padding:p=0}=dn(e,t),x=$b(p),b=l[g?f==="floating"?"reference":"floating":f],y=hu(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(b)))==null||r?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),v=f==="floating"?{x:n,y:s,width:a.floating.width,height:a.floating.height}:a.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},k=hu(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:w,strategy:c}):v);return{top:(y.top-k.top+x.top)/_.y,bottom:(k.bottom-y.bottom+x.bottom)/_.y,left:(y.left-k.left+x.left)/_.x,right:(k.right-y.right+x.right)/_.x}}const AP=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:s,rects:i,platform:a,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=dn(t,e)||{};if(u==null)return{};const f=$b(d),g={x:r,y:n},p=jm(s),x=Sm(p),m=await a.getDimensions(u),b=p==="y",y=b?"top":"left",v=b?"bottom":"right",w=b?"clientHeight":"clientWidth",_=i.reference[x]+i.reference[p]-g[p]-i.floating[x],k=g[p]-i.reference[p],E=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let S=E?E[w]:0;(!S||!await(a.isElement==null?void 0:a.isElement(E)))&&(S=l.floating[w]||i.floating[x]);const R=_/2-k/2,$=S/2-m[x]/2-1,O=os(f[y],$),N=os(f[v],$),A=O,I=S-m[x]-N,D=S/2-m[x]/2+R,W=Bh(A,D,I),V=!c.arrow&&$a(s)!=null&&D!==W&&i.reference[x]/2-(D<A?O:N)-m[x]/2<0,Q=V?D<A?D-A:D-I:0;return{[p]:g[p]+Q,data:{[p]:W,centerOffset:D-W-Q,...V&&{alignmentOffset:Q}},reset:V}}}),OP=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:i,rects:a,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:g,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:m=!0,...b}=dn(t,e);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const y=fn(s),v=zr(l),w=fn(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),k=g||(w||!m?[fu(l)]:jP(l)),E=x!=="none";!g&&E&&k.push(...TP(l,m,x,_));const S=[l,...k],R=await Jo(e,b),$=[];let O=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&$.push(R[y]),f){const D=SP(s,a,_);$.push(R[D[0]],R[D[1]])}if(O=[...O,{placement:s,overflows:$}],!$.every(D=>D<=0)){var N,A;const D=(((N=i.flip)==null?void 0:N.index)||0)+1,W=S[D];if(W&&(!(f==="alignment"?v!==zr(W):!1)||O.every(C=>C.overflows[0]>0&&zr(C.placement)===v)))return{data:{index:D,overflows:O},reset:{placement:W}};let V=(A=O.filter(Q=>Q.overflows[0]<=0).sort((Q,C)=>Q.overflows[1]-C.overflows[1])[0])==null?void 0:A.placement;if(!V)switch(p){case"bestFit":{var I;const Q=(I=O.filter(C=>{if(E){const j=zr(C.placement);return j===v||j==="y"}return!0}).map(C=>[C.placement,C.overflows.filter(j=>j>0).reduce((j,L)=>j+L,0)]).sort((C,j)=>C[1]-j[1])[0])==null?void 0:I[0];Q&&(V=Q);break}case"initialPlacement":V=l;break}if(s!==V)return{reset:{placement:V}}}return{}}}};function Gv(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Yv(t){return wP.some(e=>t[e]>=0)}const IP=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...s}=dn(t,e);switch(n){case"referenceHidden":{const i=await Jo(e,{...s,elementContext:"reference"}),a=Gv(i,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Yv(a)}}}case"escaped":{const i=await Jo(e,{...s,altBoundary:!0}),a=Gv(i,r.floating);return{data:{escapedOffsets:a,escaped:Yv(a)}}}default:return{}}}}},Lb=new Set(["left","top"]);async function DP(t,e){const{placement:r,platform:n,elements:s}=t,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),a=fn(r),l=$a(r),c=zr(r)==="y",u=Lb.has(a)?-1:1,d=i&&c?-1:1,f=dn(e,t);let{mainAxis:g,crossAxis:p,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof x=="number"&&(p=l==="end"?x*-1:x),c?{x:p*d,y:g*u}:{x:g*u,y:p*d}}const MP=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:i,placement:a,middlewareData:l}=e,c=await DP(e,t);return a===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:a}}}}},$P=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:s}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:b=>{let{x:y,y:v}=b;return{x:y,y:v}}},...c}=dn(t,e),u={x:r,y:n},d=await Jo(e,c),f=zr(fn(s)),g=km(f);let p=u[g],x=u[f];if(i){const b=g==="y"?"top":"left",y=g==="y"?"bottom":"right",v=p+d[b],w=p-d[y];p=Bh(v,p,w)}if(a){const b=f==="y"?"top":"left",y=f==="y"?"bottom":"right",v=x+d[b],w=x-d[y];x=Bh(v,x,w)}const m=l.fn({...e,[g]:p,[f]:x});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[g]:i,[f]:a}}}}}},LP=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:s,rects:i,middlewareData:a}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=dn(t,e),d={x:r,y:n},f=zr(s),g=km(f);let p=d[g],x=d[f];const m=dn(l,e),b=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const w=g==="y"?"height":"width",_=i.reference[g]-i.floating[w]+b.mainAxis,k=i.reference[g]+i.reference[w]-b.mainAxis;p<_?p=_:p>k&&(p=k)}if(u){var y,v;const w=g==="y"?"width":"height",_=Lb.has(fn(s)),k=i.reference[f]-i.floating[w]+(_&&((y=a.offset)==null?void 0:y[f])||0)+(_?0:b.crossAxis),E=i.reference[f]+i.reference[w]+(_?0:((v=a.offset)==null?void 0:v[f])||0)-(_?b.crossAxis:0);x<k?x=k:x>E&&(x=E)}return{[g]:p,[f]:x}}}},FP=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:s,rects:i,platform:a,elements:l}=e,{apply:c=()=>{},...u}=dn(t,e),d=await Jo(e,u),f=fn(s),g=$a(s),p=zr(s)==="y",{width:x,height:m}=i.floating;let b,y;f==="top"||f==="bottom"?(b=f,y=g===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(y=f,b=g==="end"?"top":"bottom");const v=m-d.top-d.bottom,w=x-d.left-d.right,_=os(m-d[b],v),k=os(x-d[y],w),E=!e.middlewareData.shift;let S=_,R=k;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(R=w),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(S=v),E&&!g){const O=Bt(d.left,0),N=Bt(d.right,0),A=Bt(d.top,0),I=Bt(d.bottom,0);p?R=x-2*(O!==0||N!==0?O+N:Bt(d.left,d.right)):S=m-2*(A!==0||I!==0?A+I:Bt(d.top,d.bottom))}await c({...e,availableWidth:R,availableHeight:S});const $=await a.getDimensions(l.floating);return x!==$.width||m!==$.height?{reset:{rects:!0}}:{}}}};function nd(){return typeof window<"u"}function La(t){return Fb(t)?(t.nodeName||"").toLowerCase():"#document"}function qt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Yr(t){var e;return(e=(Fb(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Fb(t){return nd()?t instanceof Node||t instanceof qt(t).Node:!1}function Rr(t){return nd()?t instanceof Element||t instanceof qt(t).Element:!1}function Kr(t){return nd()?t instanceof HTMLElement||t instanceof qt(t).HTMLElement:!1}function Qv(t){return!nd()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof qt(t).ShadowRoot}const UP=new Set(["inline","contents"]);function Cl(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=Ar(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!UP.has(s)}const BP=new Set(["table","td","th"]);function zP(t){return BP.has(La(t))}const VP=[":popover-open",":modal"];function sd(t){return VP.some(e=>{try{return t.matches(e)}catch{return!1}})}const WP=["transform","translate","scale","rotate","perspective"],qP=["transform","translate","scale","rotate","perspective","filter"],HP=["paint","layout","strict","content"];function Em(t){const e=Nm(),r=Rr(t)?Ar(t):t;return WP.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||qP.some(n=>(r.willChange||"").includes(n))||HP.some(n=>(r.contain||"").includes(n))}function KP(t){let e=ls(t);for(;Kr(e)&&!ba(e);){if(Em(e))return e;if(sd(e))return null;e=ls(e)}return null}function Nm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const GP=new Set(["html","body","#document"]);function ba(t){return GP.has(La(t))}function Ar(t){return qt(t).getComputedStyle(t)}function id(t){return Rr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ls(t){if(La(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Qv(t)&&t.host||Yr(t);return Qv(e)?e.host:e}function Ub(t){const e=ls(t);return ba(e)?t.ownerDocument?t.ownerDocument.body:t.body:Kr(e)&&Cl(e)?e:Ub(e)}function Xo(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=Ub(t),i=s===((n=t.ownerDocument)==null?void 0:n.body),a=qt(s);if(i){const l=Vh(a);return e.concat(a,a.visualViewport||[],Cl(s)?s:[],l&&r?Xo(l):[])}return e.concat(s,Xo(s,[],r))}function Vh(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Bb(t){const e=Ar(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=Kr(t),i=s?t.offsetWidth:r,a=s?t.offsetHeight:n,l=du(r)!==i||du(n)!==a;return l&&(r=i,n=a),{width:r,height:n,$:l}}function Cm(t){return Rr(t)?t:t.contextElement}function ta(t){const e=Cm(t);if(!Kr(e))return qr(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:i}=Bb(e);let a=(i?du(r.width):r.width)/n,l=(i?du(r.height):r.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const YP=qr(0);function zb(t){const e=qt(t);return!Nm()||!e.visualViewport?YP:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function QP(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==qt(t)?!1:e}function ei(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),i=Cm(t);let a=qr(1);e&&(n?Rr(n)&&(a=ta(n)):a=ta(t));const l=QP(i,r,n)?zb(i):qr(0);let c=(s.left+l.x)/a.x,u=(s.top+l.y)/a.y,d=s.width/a.x,f=s.height/a.y;if(i){const g=qt(i),p=n&&Rr(n)?qt(n):n;let x=g,m=Vh(x);for(;m&&n&&p!==x;){const b=ta(m),y=m.getBoundingClientRect(),v=Ar(m),w=y.left+(m.clientLeft+parseFloat(v.paddingLeft))*b.x,_=y.top+(m.clientTop+parseFloat(v.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,f*=b.y,c+=w,u+=_,x=qt(m),m=Vh(x)}}return hu({width:d,height:f,x:c,y:u})}function Tm(t,e){const r=id(t).scrollLeft;return e?e.left+r:ei(Yr(t)).left+r}function Vb(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),s=n.left+e.scrollLeft-(r?0:Tm(t,n)),i=n.top+e.scrollTop;return{x:s,y:i}}function ZP(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const i=s==="fixed",a=Yr(n),l=e?sd(e.floating):!1;if(n===a||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=qr(1);const d=qr(0),f=Kr(n);if((f||!f&&!i)&&((La(n)!=="body"||Cl(a))&&(c=id(n)),Kr(n))){const p=ei(n);u=ta(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const g=a&&!f&&!i?Vb(a,c,!0):qr(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+g.x,y:r.y*u.y-c.scrollTop*u.y+d.y+g.y}}function JP(t){return Array.from(t.getClientRects())}function XP(t){const e=Yr(t),r=id(t),n=t.ownerDocument.body,s=Bt(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),i=Bt(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+Tm(t);const l=-r.scrollTop;return Ar(n).direction==="rtl"&&(a+=Bt(e.clientWidth,n.clientWidth)-s),{width:s,height:i,x:a,y:l}}function eR(t,e){const r=qt(t),n=Yr(t),s=r.visualViewport;let i=n.clientWidth,a=n.clientHeight,l=0,c=0;if(s){i=s.width,a=s.height;const u=Nm();(!u||u&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:a,x:l,y:c}}const tR=new Set(["absolute","fixed"]);function rR(t,e){const r=ei(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,i=Kr(t)?ta(t):qr(1),a=t.clientWidth*i.x,l=t.clientHeight*i.y,c=s*i.x,u=n*i.y;return{width:a,height:l,x:c,y:u}}function Zv(t,e,r){let n;if(e==="viewport")n=eR(t,r);else if(e==="document")n=XP(Yr(t));else if(Rr(e))n=rR(e,r);else{const s=zb(t);n={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return hu(n)}function Wb(t,e){const r=ls(t);return r===e||!Rr(r)||ba(r)?!1:Ar(r).position==="fixed"||Wb(r,e)}function nR(t,e){const r=e.get(t);if(r)return r;let n=Xo(t,[],!1).filter(l=>Rr(l)&&La(l)!=="body"),s=null;const i=Ar(t).position==="fixed";let a=i?ls(t):t;for(;Rr(a)&&!ba(a);){const l=Ar(a),c=Em(a);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&tR.has(s.position)||Cl(a)&&!c&&Wb(t,a))?n=n.filter(d=>d!==a):s=l,a=ls(a)}return e.set(t,n),n}function sR(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const a=[...r==="clippingAncestors"?sd(e)?[]:nR(e,this._c):[].concat(r),n],l=a[0],c=a.reduce((u,d)=>{const f=Zv(e,d,s);return u.top=Bt(f.top,u.top),u.right=os(f.right,u.right),u.bottom=os(f.bottom,u.bottom),u.left=Bt(f.left,u.left),u},Zv(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function iR(t){const{width:e,height:r}=Bb(t);return{width:e,height:r}}function aR(t,e,r){const n=Kr(e),s=Yr(e),i=r==="fixed",a=ei(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=qr(0);function u(){c.x=Tm(s)}if(n||!n&&!i)if((La(e)!=="body"||Cl(s))&&(l=id(e)),n){const p=ei(e,!0,i,e);c.x=p.x+e.clientLeft,c.y=p.y+e.clientTop}else s&&u();i&&!n&&s&&u();const d=s&&!n&&!i?Vb(s,l):qr(0),f=a.left+l.scrollLeft-c.x-d.x,g=a.top+l.scrollTop-c.y-d.y;return{x:f,y:g,width:a.width,height:a.height}}function yf(t){return Ar(t).position==="static"}function Jv(t,e){if(!Kr(t)||Ar(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Yr(t)===r&&(r=r.ownerDocument.body),r}function qb(t,e){const r=qt(t);if(sd(t))return r;if(!Kr(t)){let s=ls(t);for(;s&&!ba(s);){if(Rr(s)&&!yf(s))return s;s=ls(s)}return r}let n=Jv(t,e);for(;n&&zP(n)&&yf(n);)n=Jv(n,e);return n&&ba(n)&&yf(n)&&!Em(n)?r:n||KP(t)||r}const oR=async function(t){const e=this.getOffsetParent||qb,r=this.getDimensions,n=await r(t.floating);return{reference:aR(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function lR(t){return Ar(t).direction==="rtl"}const cR={convertOffsetParentRelativeRectToViewportRelativeRect:ZP,getDocumentElement:Yr,getClippingRect:sR,getOffsetParent:qb,getElementRects:oR,getClientRects:JP,getDimensions:iR,getScale:ta,isElement:Rr,isRTL:lR};function Hb(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function uR(t,e){let r=null,n;const s=Yr(t);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:d,top:f,width:g,height:p}=u;if(l||e(),!g||!p)return;const x=ic(f),m=ic(s.clientWidth-(d+g)),b=ic(s.clientHeight-(f+p)),y=ic(d),w={rootMargin:-x+"px "+-m+"px "+-b+"px "+-y+"px",threshold:Bt(0,os(1,c))||1};let _=!0;function k(E){const S=E[0].intersectionRatio;if(S!==c){if(!_)return a();S?a(!1,S):n=setTimeout(()=>{a(!1,1e-7)},1e3)}S===1&&!Hb(u,t.getBoundingClientRect())&&a(),_=!1}try{r=new IntersectionObserver(k,{...w,root:s.ownerDocument})}catch{r=new IntersectionObserver(k,w)}r.observe(t)}return a(!0),i}function dR(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Cm(t),d=s||i?[...u?Xo(u):[],...Xo(e)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",r,{passive:!0}),i&&y.addEventListener("resize",r)});const f=u&&l?uR(u,r):null;let g=-1,p=null;a&&(p=new ResizeObserver(y=>{let[v]=y;v&&v.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(e)})),r()}),u&&!c&&p.observe(u),p.observe(e));let x,m=c?ei(t):null;c&&b();function b(){const y=ei(t);m&&!Hb(m,y)&&r(),m=y,x=requestAnimationFrame(b)}return r(),()=>{var y;d.forEach(v=>{s&&v.removeEventListener("scroll",r),i&&v.removeEventListener("resize",r)}),f==null||f(),(y=p)==null||y.disconnect(),p=null,c&&cancelAnimationFrame(x)}}const fR=MP,hR=$P,pR=OP,mR=FP,gR=IP,Xv=AP,vR=LP,yR=(t,e,r)=>{const n=new Map,s={platform:cR,...r},i={...s.platform,_c:n};return RP(t,e,{...s,platform:i})};var xR=typeof document<"u",wR=function(){},Oc=xR?h.useLayoutEffect:wR;function pu(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!pu(t[n],e[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&t.$$typeof)&&!pu(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function Kb(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function ey(t,e){const r=Kb(t);return Math.round(e*r)/r}function xf(t){const e=h.useRef(t);return Oc(()=>{e.current=t}),e}function bR(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[d,f]=h.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[g,p]=h.useState(n);pu(g,n)||p(n);const[x,m]=h.useState(null),[b,y]=h.useState(null),v=h.useCallback(C=>{C!==E.current&&(E.current=C,m(C))},[]),w=h.useCallback(C=>{C!==S.current&&(S.current=C,y(C))},[]),_=i||x,k=a||b,E=h.useRef(null),S=h.useRef(null),R=h.useRef(d),$=c!=null,O=xf(c),N=xf(s),A=xf(u),I=h.useCallback(()=>{if(!E.current||!S.current)return;const C={placement:e,strategy:r,middleware:g};N.current&&(C.platform=N.current),yR(E.current,S.current,C).then(j=>{const L={...j,isPositioned:A.current!==!1};D.current&&!pu(R.current,L)&&(R.current=L,ci.flushSync(()=>{f(L)}))})},[g,e,r,N,A]);Oc(()=>{u===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,f(C=>({...C,isPositioned:!1})))},[u]);const D=h.useRef(!1);Oc(()=>(D.current=!0,()=>{D.current=!1}),[]),Oc(()=>{if(_&&(E.current=_),k&&(S.current=k),_&&k){if(O.current)return O.current(_,k,I);I()}},[_,k,I,O,$]);const W=h.useMemo(()=>({reference:E,floating:S,setReference:v,setFloating:w}),[v,w]),V=h.useMemo(()=>({reference:_,floating:k}),[_,k]),Q=h.useMemo(()=>{const C={position:r,left:0,top:0};if(!V.floating)return C;const j=ey(V.floating,d.x),L=ey(V.floating,d.y);return l?{...C,transform:"translate("+j+"px, "+L+"px)",...Kb(V.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:j,top:L}},[r,l,V.floating,d.x,d.y]);return h.useMemo(()=>({...d,update:I,refs:W,elements:V,floatingStyles:Q}),[d,I,W,V,Q])}const _R=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:s}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?Xv({element:n.current,padding:s}).fn(r):{}:n?Xv({element:n,padding:s}).fn(r):{}}}},kR=(t,e)=>({...fR(t),options:[t,e]}),SR=(t,e)=>({...hR(t),options:[t,e]}),jR=(t,e)=>({...vR(t),options:[t,e]}),ER=(t,e)=>({...pR(t),options:[t,e]}),NR=(t,e)=>({...mR(t),options:[t,e]}),CR=(t,e)=>({...gR(t),options:[t,e]}),TR=(t,e)=>({..._R(t),options:[t,e]});var PR="Arrow",Gb=h.forwardRef((t,e)=>{const{children:r,width:n=10,height:s=5,...i}=t;return o.jsx(ce.svg,{...i,ref:e,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});Gb.displayName=PR;var RR=Gb;function Yb(t){const[e,r]=h.useState(void 0);return gt(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=t.offsetWidth,l=t.offsetHeight;r({width:a,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var Pm="Popper",[Qb,Fa]=ur(Pm),[AR,Zb]=Qb(Pm),Jb=t=>{const{__scopePopper:e,children:r}=t,[n,s]=h.useState(null);return o.jsx(AR,{scope:e,anchor:n,onAnchorChange:s,children:r})};Jb.displayName=Pm;var Xb="PopperAnchor",e_=h.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...s}=t,i=Zb(Xb,r),a=h.useRef(null),l=Pe(e,a);return h.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||a.current)}),n?null:o.jsx(ce.div,{...s,ref:l})});e_.displayName=Xb;var Rm="PopperContent",[OR,IR]=Qb(Rm),t_=h.forwardRef((t,e)=>{var M,J,ne,oe,ue,pe;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:g=!1,updatePositionStrategy:p="optimized",onPlaced:x,...m}=t,b=Zb(Rm,r),[y,v]=h.useState(null),w=Pe(e,We=>v(We)),[_,k]=h.useState(null),E=Yb(_),S=(E==null?void 0:E.width)??0,R=(E==null?void 0:E.height)??0,$=n+(i!=="center"?"-"+i:""),O=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},N=Array.isArray(u)?u:[u],A=N.length>0,I={padding:O,boundary:N.filter(MR),altBoundary:A},{refs:D,floatingStyles:W,placement:V,isPositioned:Q,middlewareData:C}=bR({strategy:"fixed",placement:$,whileElementsMounted:(...We)=>dR(...We,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[kR({mainAxis:s+R,alignmentAxis:a}),c&&SR({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?jR():void 0,...I}),c&&ER({...I}),NR({...I,apply:({elements:We,rects:Re,availableWidth:$e,availableHeight:Ue})=>{const{width:_s,height:Ga}=Re.reference,hi=We.floating.style;hi.setProperty("--radix-popper-available-width",`${$e}px`),hi.setProperty("--radix-popper-available-height",`${Ue}px`),hi.setProperty("--radix-popper-anchor-width",`${_s}px`),hi.setProperty("--radix-popper-anchor-height",`${Ga}px`)}}),_&&TR({element:_,padding:l}),$R({arrowWidth:S,arrowHeight:R}),g&&CR({strategy:"referenceHidden",...I})]}),[j,L]=s_(V),q=cr(x);gt(()=>{Q&&(q==null||q())},[Q,q]);const T=(M=C.arrow)==null?void 0:M.x,B=(J=C.arrow)==null?void 0:J.y,F=((ne=C.arrow)==null?void 0:ne.centerOffset)!==0,[P,U]=h.useState();return gt(()=>{y&&U(window.getComputedStyle(y).zIndex)},[y]),o.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:Q?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:P,"--radix-popper-transform-origin":[(oe=C.transformOrigin)==null?void 0:oe.x,(ue=C.transformOrigin)==null?void 0:ue.y].join(" "),...((pe=C.hide)==null?void 0:pe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:o.jsx(OR,{scope:r,placedSide:j,onArrowChange:k,arrowX:T,arrowY:B,shouldHideArrow:F,children:o.jsx(ce.div,{"data-side":j,"data-align":L,...m,ref:w,style:{...m.style,animation:Q?void 0:"none"}})})})});t_.displayName=Rm;var r_="PopperArrow",DR={top:"bottom",right:"left",bottom:"top",left:"right"},n_=h.forwardRef(function(e,r){const{__scopePopper:n,...s}=e,i=IR(r_,n),a=DR[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(RR,{...s,ref:r,style:{...s.style,display:"block"}})})});n_.displayName=r_;function MR(t){return t!==null}var $R=t=>({name:"transformOrigin",options:t,fn(e){var b,y,v;const{placement:r,rects:n,middlewareData:s}=e,a=((b=s.arrow)==null?void 0:b.centerOffset)!==0,l=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[u,d]=s_(r),f={start:"0%",center:"50%",end:"100%"}[d],g=(((y=s.arrow)==null?void 0:y.x)??0)+l/2,p=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let x="",m="";return u==="bottom"?(x=a?f:`${g}px`,m=`${-c}px`):u==="top"?(x=a?f:`${g}px`,m=`${n.floating.height+c}px`):u==="right"?(x=`${-c}px`,m=a?f:`${p}px`):u==="left"&&(x=`${n.floating.width+c}px`,m=a?f:`${p}px`),{data:{x,y:m}}}});function s_(t){const[e,r="center"]=t.split("-");return[e,r]}var i_=Jb,ad=e_,Am=t_,Om=n_,[od,BF]=ur("Tooltip",[Fa]),Im=Fa(),a_="TooltipProvider",LR=700,ty="tooltip.open",[FR,o_]=od(a_),l_=t=>{const{__scopeTooltip:e,delayDuration:r=LR,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:i}=t,a=h.useRef(!0),l=h.useRef(!1),c=h.useRef(0);return h.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),o.jsx(FR,{scope:e,isOpenDelayedRef:a,delayDuration:r,onOpen:h.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:h.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:h.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};l_.displayName=a_;var c_="Tooltip",[zF,ld]=od(c_),Wh="TooltipTrigger",UR=h.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=ld(Wh,r),i=o_(Wh,r),a=Im(r),l=h.useRef(null),c=Pe(e,l,s.onTriggerChange),u=h.useRef(!1),d=h.useRef(!1),f=h.useCallback(()=>u.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),o.jsx(ad,{asChild:!0,...a,children:o.jsx(ce.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:ae(t.onPointerMove,g=>{g.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:ae(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:ae(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ae(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:ae(t.onBlur,s.onClose),onClick:ae(t.onClick,s.onClose)})})});UR.displayName=Wh;var BR="TooltipPortal",[VF,zR]=od(BR,{forceMount:void 0}),_a="TooltipContent",u_=h.forwardRef((t,e)=>{const r=zR(_a,t.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...i}=t,a=ld(_a,t.__scopeTooltip);return o.jsx(Gr,{present:n||a.open,children:a.disableHoverableContent?o.jsx(d_,{side:s,...i,ref:e}):o.jsx(VR,{side:s,...i,ref:e})})}),VR=h.forwardRef((t,e)=>{const r=ld(_a,t.__scopeTooltip),n=o_(_a,t.__scopeTooltip),s=h.useRef(null),i=Pe(e,s),[a,l]=h.useState(null),{trigger:c,onClose:u}=r,d=s.current,{onPointerInTransitChange:f}=n,g=h.useCallback(()=>{l(null),f(!1)},[f]),p=h.useCallback((x,m)=>{const b=x.currentTarget,y={x:x.clientX,y:x.clientY},v=GR(y,b.getBoundingClientRect()),w=YR(y,v),_=QR(m.getBoundingClientRect()),k=JR([...w,..._]);l(k),f(!0)},[f]);return h.useEffect(()=>()=>g(),[g]),h.useEffect(()=>{if(c&&d){const x=b=>p(b,d),m=b=>p(b,c);return c.addEventListener("pointerleave",x),d.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",m)}}},[c,d,p,g]),h.useEffect(()=>{if(a){const x=m=>{const b=m.target,y={x:m.clientX,y:m.clientY},v=(c==null?void 0:c.contains(b))||(d==null?void 0:d.contains(b)),w=!ZR(y,a);v?g():w&&(g(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,d,a,u,g]),o.jsx(d_,{...t,ref:i})}),[WR,qR]=od(c_,{isInside:!1}),HR=Y0("TooltipContent"),d_=h.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:a,...l}=t,c=ld(_a,r),u=Im(r),{onClose:d}=c;return h.useEffect(()=>(document.addEventListener(ty,d),()=>document.removeEventListener(ty,d)),[d]),h.useEffect(()=>{if(c.trigger){const f=g=>{const p=g.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),o.jsx(Ia,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:o.jsxs(Am,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(HR,{children:n}),o.jsx(WR,{scope:r,isInside:!0,children:o.jsx(yC,{id:c.contentId,role:"tooltip",children:s||n})})]})})});u_.displayName=_a;var f_="TooltipArrow",KR=h.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=Im(r);return qR(f_,r).isInside?null:o.jsx(Om,{...s,...n,ref:e})});KR.displayName=f_;function GR(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(r,n,s,i)){case i:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function YR(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function QR(t){const{top:e,right:r,bottom:n,left:s}=t;return[{x:s,y:e},{x:r,y:e},{x:r,y:n},{x:s,y:n}]}function ZR(t,e){const{x:r,y:n}=t;let s=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const l=e[i],c=e[a],u=l.x,d=l.y,f=c.x,g=c.y;d>n!=g>n&&r<(f-u)*(n-d)/(g-d)+u&&(s=!s)}return s}function JR(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),XR(e)}function XR(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const s=t[n];for(;e.length>=2;){const i=e[e.length-1],a=e[e.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))e.pop();else break}e.push(s)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const s=t[n];for(;r.length>=2;){const i=r[r.length-1],a=r[r.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))r.pop();else break}r.push(s)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var eA=l_,h_=u_;const tA=eA,rA=h.forwardRef(({className:t,sideOffset:e=4,...r},n)=>o.jsx(h_,{ref:n,sideOffset:e,className:Z("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));rA.displayName=h_.displayName;var cd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ud=typeof window>"u"||"Deno"in globalThis;function wr(){}function nA(t,e){return typeof t=="function"?t(e):t}function sA(t){return typeof t=="number"&&t>=0&&t!==1/0}function iA(t,e){return Math.max(t+(e||0)-Date.now(),0)}function qh(t,e){return typeof t=="function"?t(e):t}function aA(t,e){return typeof t=="function"?t(e):t}function ry(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:a,stale:l}=t;if(a){if(n){if(e.queryHash!==Dm(a,e.options))return!1}else if(!tl(e.queryKey,a))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||i&&!i(e))}function ny(t,e){const{exact:r,status:n,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(r){if(el(e.options.mutationKey)!==el(i))return!1}else if(!tl(e.options.mutationKey,i))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function Dm(t,e){return((e==null?void 0:e.queryKeyHashFn)||el)(t)}function el(t){return JSON.stringify(t,(e,r)=>Hh(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function tl(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>tl(t[r],e[r])):!1}function p_(t,e){if(t===e)return t;const r=sy(t)&&sy(e);if(r||Hh(t)&&Hh(e)){const n=r?t:Object.keys(t),s=n.length,i=r?e:Object.keys(e),a=i.length,l=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<a;d++){const f=r?d:i[d];(!r&&c.has(f)||r)&&t[f]===void 0&&e[f]===void 0?(l[f]=void 0,u++):(l[f]=p_(t[f],e[f]),l[f]===t[f]&&t[f]!==void 0&&u++)}return s===a&&u===s?t:l}return e}function sy(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Hh(t){if(!iy(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!iy(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function iy(t){return Object.prototype.toString.call(t)==="[object Object]"}function oA(t){return new Promise(e=>{setTimeout(e,t)})}function lA(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?p_(t,e):e}function cA(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function uA(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var Mm=Symbol();function m_(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Mm?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Ls,On,ia,jx,dA=(jx=class extends cd{constructor(){super();Ce(this,Ls);Ce(this,On);Ce(this,ia);xe(this,ia,e=>{if(!ud&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){z(this,On)||this.setEventListener(z(this,ia))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,On))==null||e.call(this),xe(this,On,void 0))}setEventListener(e){var r;xe(this,ia,e),(r=z(this,On))==null||r.call(this),xe(this,On,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){z(this,Ls)!==e&&(xe(this,Ls,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof z(this,Ls)=="boolean"?z(this,Ls):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ls=new WeakMap,On=new WeakMap,ia=new WeakMap,jx),g_=new dA,aa,In,oa,Ex,fA=(Ex=class extends cd{constructor(){super();Ce(this,aa,!0);Ce(this,In);Ce(this,oa);xe(this,oa,e=>{if(!ud&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){z(this,In)||this.setEventListener(z(this,oa))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,In))==null||e.call(this),xe(this,In,void 0))}setEventListener(e){var r;xe(this,oa,e),(r=z(this,In))==null||r.call(this),xe(this,In,e(this.setOnline.bind(this)))}setOnline(e){z(this,aa)!==e&&(xe(this,aa,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return z(this,aa)}},aa=new WeakMap,In=new WeakMap,oa=new WeakMap,Ex),mu=new fA;function hA(){let t,e;const r=new Promise((s,i)=>{t=s,e=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},r.reject=s=>{n({status:"rejected",reason:s}),e(s)},r}function pA(t){return Math.min(1e3*2**t,3e4)}function v_(t){return(t??"online")==="online"?mu.isOnline():!0}var y_=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function wf(t){return t instanceof y_}function x_(t){let e=!1,r=0,n=!1,s;const i=hA(),a=m=>{var b;n||(g(new y_(m)),(b=t.abort)==null||b.call(t))},l=()=>{e=!0},c=()=>{e=!1},u=()=>g_.isFocused()&&(t.networkMode==="always"||mu.isOnline())&&t.canRun(),d=()=>v_(t.networkMode)&&t.canRun(),f=m=>{var b;n||(n=!0,(b=t.onSuccess)==null||b.call(t,m),s==null||s(),i.resolve(m))},g=m=>{var b;n||(n=!0,(b=t.onError)==null||b.call(t,m),s==null||s(),i.reject(m))},p=()=>new Promise(m=>{var b;s=y=>{(n||u())&&m(y)},(b=t.onPause)==null||b.call(t)}).then(()=>{var m;s=void 0,n||(m=t.onContinue)==null||m.call(t)}),x=()=>{if(n)return;let m;const b=r===0?t.initialPromise:void 0;try{m=b??t.fn()}catch(y){m=Promise.reject(y)}Promise.resolve(m).then(f).catch(y=>{var E;if(n)return;const v=t.retry??(ud?0:3),w=t.retryDelay??pA,_=typeof w=="function"?w(r,y):w,k=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,y);if(e||!k){g(y);return}r++,(E=t.onFail)==null||E.call(t,r,y),oA(_).then(()=>u()?void 0:p()).then(()=>{e?g(y):x()})})};return{promise:i,cancel:a,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?x():p().then(x),i)}}var mA=t=>setTimeout(t,0);function gA(){let t=[],e=0,r=l=>{l()},n=l=>{l()},s=mA;const i=l=>{e?t.push(l):s(()=>{r(l)})},a=()=>{const l=t;t=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||a()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var Nt=gA(),Fs,Nx,w_=(Nx=class{constructor(){Ce(this,Fs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),sA(this.gcTime)&&xe(this,Fs,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ud?1/0:5*60*1e3))}clearGcTimeout(){z(this,Fs)&&(clearTimeout(z(this,Fs)),xe(this,Fs,void 0))}},Fs=new WeakMap,Nx),la,Us,Zt,Bs,wt,xl,zs,_r,Zr,Cx,vA=(Cx=class extends w_{constructor(e){super();Ce(this,_r);Ce(this,la);Ce(this,Us);Ce(this,Zt);Ce(this,Bs);Ce(this,wt);Ce(this,xl);Ce(this,zs);xe(this,zs,!1),xe(this,xl,e.defaultOptions),this.setOptions(e.options),this.observers=[],xe(this,Bs,e.client),xe(this,Zt,z(this,Bs).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,xe(this,la,xA(this.options)),this.state=e.state??z(this,la),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=z(this,wt))==null?void 0:e.promise}setOptions(e){this.options={...z(this,xl),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,Zt).remove(this)}setData(e,r){const n=lA(this.state.data,e,this.options);return vt(this,_r,Zr).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){vt(this,_r,Zr).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,s;const r=(n=z(this,wt))==null?void 0:n.promise;return(s=z(this,wt))==null||s.cancel(e),r?r.then(wr).catch(wr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,la))}isActive(){return this.observers.some(e=>aA(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Mm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>qh(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!iA(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=z(this,wt))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=z(this,wt))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),z(this,Zt).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(z(this,wt)&&(z(this,zs)?z(this,wt).cancel({revert:!0}):z(this,wt).cancelRetry()),this.scheduleGc()),z(this,Zt).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||vt(this,_r,Zr).call(this,{type:"invalidate"})}fetch(e,r){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(z(this,wt))return z(this,wt).continueRetry(),z(this,wt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const g=this.observers.find(p=>p.options.queryFn);g&&this.setOptions(g.options)}const n=new AbortController,s=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(xe(this,zs,!0),n.signal)})},i=()=>{const g=m_(this.options,r),x=(()=>{const m={client:z(this,Bs),queryKey:this.queryKey,meta:this.meta};return s(m),m})();return xe(this,zs,!1),this.options.persister?this.options.persister(g,x,this):g(x)},l=(()=>{const g={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:z(this,Bs),state:this.state,fetchFn:i};return s(g),g})();(u=this.options.behavior)==null||u.onFetch(l,this),xe(this,Us,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&vt(this,_r,Zr).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=g=>{var p,x,m,b;wf(g)&&g.silent||vt(this,_r,Zr).call(this,{type:"error",error:g}),wf(g)||((x=(p=z(this,Zt).config).onError)==null||x.call(p,g,this),(b=(m=z(this,Zt).config).onSettled)==null||b.call(m,this.state.data,g,this)),this.scheduleGc()};return xe(this,wt,x_({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:g=>{var p,x,m,b;if(g===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(y){c(y);return}(x=(p=z(this,Zt).config).onSuccess)==null||x.call(p,g,this),(b=(m=z(this,Zt).config).onSettled)==null||b.call(m,g,this.state.error,this),this.scheduleGc()},onError:c,onFail:(g,p)=>{vt(this,_r,Zr).call(this,{type:"failed",failureCount:g,error:p})},onPause:()=>{vt(this,_r,Zr).call(this,{type:"pause"})},onContinue:()=>{vt(this,_r,Zr).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),z(this,wt).start()}},la=new WeakMap,Us=new WeakMap,Zt=new WeakMap,Bs=new WeakMap,wt=new WeakMap,xl=new WeakMap,zs=new WeakMap,_r=new WeakSet,Zr=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...yA(n.data,this.options),fetchMeta:e.meta??null};case"success":return xe(this,Us,void 0),{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return wf(s)&&s.revert&&z(this,Us)?{...z(this,Us),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),Nt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),z(this,Zt).notify({query:this,type:"updated",action:e})})},Cx);function yA(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:v_(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function xA(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Mr,Tx,wA=(Tx=class extends cd{constructor(e={}){super();Ce(this,Mr);this.config=e,xe(this,Mr,new Map)}build(e,r,n){const s=r.queryKey,i=r.queryHash??Dm(s,r);let a=this.get(i);return a||(a=new vA({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){z(this,Mr).has(e.queryHash)||(z(this,Mr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=z(this,Mr).get(e.queryHash);r&&(e.destroy(),r===e&&z(this,Mr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Nt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return z(this,Mr).get(e)}getAll(){return[...z(this,Mr).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>ry(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>ry(e,n)):r}notify(e){Nt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Nt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Nt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Mr=new WeakMap,Tx),$r,jt,Vs,Lr,Sn,Px,bA=(Px=class extends w_{constructor(e){super();Ce(this,Lr);Ce(this,$r);Ce(this,jt);Ce(this,Vs);this.mutationId=e.mutationId,xe(this,jt,e.mutationCache),xe(this,$r,[]),this.state=e.state||_A(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){z(this,$r).includes(e)||(z(this,$r).push(e),this.clearGcTimeout(),z(this,jt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){xe(this,$r,z(this,$r).filter(r=>r!==e)),this.scheduleGc(),z(this,jt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){z(this,$r).length||(this.state.status==="pending"?this.scheduleGc():z(this,jt).remove(this))}continue(){var e;return((e=z(this,Vs))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,a,l,c,u,d,f,g,p,x,m,b,y,v,w,_,k,E,S,R;const r=()=>{vt(this,Lr,Sn).call(this,{type:"continue"})};xe(this,Vs,x_({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:($,O)=>{vt(this,Lr,Sn).call(this,{type:"failed",failureCount:$,error:O})},onPause:()=>{vt(this,Lr,Sn).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,jt).canRun(this)}));const n=this.state.status==="pending",s=!z(this,Vs).canStart();try{if(n)r();else{vt(this,Lr,Sn).call(this,{type:"pending",variables:e,isPaused:s}),await((a=(i=z(this,jt).config).onMutate)==null?void 0:a.call(i,e,this));const O=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,e));O!==this.state.context&&vt(this,Lr,Sn).call(this,{type:"pending",context:O,variables:e,isPaused:s})}const $=await z(this,Vs).start();return await((d=(u=z(this,jt).config).onSuccess)==null?void 0:d.call(u,$,e,this.state.context,this)),await((g=(f=this.options).onSuccess)==null?void 0:g.call(f,$,e,this.state.context)),await((x=(p=z(this,jt).config).onSettled)==null?void 0:x.call(p,$,null,this.state.variables,this.state.context,this)),await((b=(m=this.options).onSettled)==null?void 0:b.call(m,$,null,e,this.state.context)),vt(this,Lr,Sn).call(this,{type:"success",data:$}),$}catch($){try{throw await((v=(y=z(this,jt).config).onError)==null?void 0:v.call(y,$,e,this.state.context,this)),await((_=(w=this.options).onError)==null?void 0:_.call(w,$,e,this.state.context)),await((E=(k=z(this,jt).config).onSettled)==null?void 0:E.call(k,void 0,$,this.state.variables,this.state.context,this)),await((R=(S=this.options).onSettled)==null?void 0:R.call(S,void 0,$,e,this.state.context)),$}finally{vt(this,Lr,Sn).call(this,{type:"error",error:$})}}finally{z(this,jt).runNext(this)}}},$r=new WeakMap,jt=new WeakMap,Vs=new WeakMap,Lr=new WeakSet,Sn=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Nt.batch(()=>{z(this,$r).forEach(n=>{n.onMutationUpdate(e)}),z(this,jt).notify({mutation:this,type:"updated",action:e})})},Px);function _A(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var rn,kr,wl,Rx,kA=(Rx=class extends cd{constructor(e={}){super();Ce(this,rn);Ce(this,kr);Ce(this,wl);this.config=e,xe(this,rn,new Set),xe(this,kr,new Map),xe(this,wl,0)}build(e,r,n){const s=new bA({mutationCache:this,mutationId:++Ll(this,wl)._,options:e.defaultMutationOptions(r),state:n});return this.add(s),s}add(e){z(this,rn).add(e);const r=ac(e);if(typeof r=="string"){const n=z(this,kr).get(r);n?n.push(e):z(this,kr).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(z(this,rn).delete(e)){const r=ac(e);if(typeof r=="string"){const n=z(this,kr).get(r);if(n)if(n.length>1){const s=n.indexOf(e);s!==-1&&n.splice(s,1)}else n[0]===e&&z(this,kr).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=ac(e);if(typeof r=="string"){const n=z(this,kr).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var n;const r=ac(e);if(typeof r=="string"){const s=(n=z(this,kr).get(r))==null?void 0:n.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Nt.batch(()=>{z(this,rn).forEach(e=>{this.notify({type:"removed",mutation:e})}),z(this,rn).clear(),z(this,kr).clear()})}getAll(){return Array.from(z(this,rn))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>ny(r,n))}findAll(e={}){return this.getAll().filter(r=>ny(e,r))}notify(e){Nt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Nt.batch(()=>Promise.all(e.map(r=>r.continue().catch(wr))))}},rn=new WeakMap,kr=new WeakMap,wl=new WeakMap,Rx);function ac(t){var e;return(e=t.options.scope)==null?void 0:e.id}function ay(t){return{onFetch:(e,r)=>{var d,f,g,p,x;const n=e.options,s=(g=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:g.direction,i=((p=e.state.data)==null?void 0:p.pages)||[],a=((x=e.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const b=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},y=m_(e.options,e.fetchOptions),v=async(w,_,k)=>{if(m)return Promise.reject();if(_==null&&w.pages.length)return Promise.resolve(w);const S=(()=>{const N={client:e.client,queryKey:e.queryKey,pageParam:_,direction:k?"backward":"forward",meta:e.options.meta};return b(N),N})(),R=await y(S),{maxPages:$}=e.options,O=k?uA:cA;return{pages:O(w.pages,R,$),pageParams:O(w.pageParams,_,$)}};if(s&&i.length){const w=s==="backward",_=w?SA:oy,k={pages:i,pageParams:a},E=_(n,k);l=await v(k,E,w)}else{const w=t??i.length;do{const _=c===0?a[0]??n.initialPageParam:oy(n,l);if(c>0&&_==null)break;l=await v(l,_),c++}while(c<w)}return l};e.options.persister?e.fetchFn=()=>{var m,b;return(b=(m=e.options).persister)==null?void 0:b.call(m,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function oy(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function SA(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var Qe,Dn,Mn,ca,ua,$n,da,fa,Ax,jA=(Ax=class{constructor(t={}){Ce(this,Qe);Ce(this,Dn);Ce(this,Mn);Ce(this,ca);Ce(this,ua);Ce(this,$n);Ce(this,da);Ce(this,fa);xe(this,Qe,t.queryCache||new wA),xe(this,Dn,t.mutationCache||new kA),xe(this,Mn,t.defaultOptions||{}),xe(this,ca,new Map),xe(this,ua,new Map),xe(this,$n,0)}mount(){Ll(this,$n)._++,z(this,$n)===1&&(xe(this,da,g_.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,Qe).onFocus())})),xe(this,fa,mu.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,Qe).onOnline())})))}unmount(){var t,e;Ll(this,$n)._--,z(this,$n)===0&&((t=z(this,da))==null||t.call(this),xe(this,da,void 0),(e=z(this,fa))==null||e.call(this),xe(this,fa,void 0))}isFetching(t){return z(this,Qe).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return z(this,Dn).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=z(this,Qe).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=z(this,Qe).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(qh(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return z(this,Qe).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=z(this,Qe).get(n.queryHash),i=s==null?void 0:s.state.data,a=nA(e,i);if(a!==void 0)return z(this,Qe).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(t,e,r){return Nt.batch(()=>z(this,Qe).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=z(this,Qe).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=z(this,Qe);Nt.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=z(this,Qe);return Nt.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=Nt.batch(()=>z(this,Qe).findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(wr).catch(wr)}invalidateQueries(t,e={}){return Nt.batch(()=>(z(this,Qe).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=Nt.batch(()=>z(this,Qe).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(wr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(wr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=z(this,Qe).build(this,e);return r.isStaleByTime(qh(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(wr).catch(wr)}fetchInfiniteQuery(t){return t.behavior=ay(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(wr).catch(wr)}ensureInfiniteQueryData(t){return t.behavior=ay(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return mu.isOnline()?z(this,Dn).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,Qe)}getMutationCache(){return z(this,Dn)}getDefaultOptions(){return z(this,Mn)}setDefaultOptions(t){xe(this,Mn,t)}setQueryDefaults(t,e){z(this,ca).set(el(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...z(this,ca).values()],r={};return e.forEach(n=>{tl(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){z(this,ua).set(el(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...z(this,ua).values()],r={};return e.forEach(n=>{tl(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...z(this,Mn).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Dm(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Mm&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...z(this,Mn).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){z(this,Qe).clear(),z(this,Dn).clear()}},Qe=new WeakMap,Dn=new WeakMap,Mn=new WeakMap,ca=new WeakMap,ua=new WeakMap,$n=new WeakMap,da=new WeakMap,fa=new WeakMap,Ax),EA=h.createContext(void 0),NA=({client:t,children:e})=>(h.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),o.jsx(EA.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rl(){return rl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rl.apply(this,arguments)}var Un;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Un||(Un={}));const ly="popstate";function CA(t){t===void 0&&(t={});function e(n,s){let{pathname:i,search:a,hash:l}=n.location;return Kh("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:gu(s)}return PA(e,r,null,t)}function rt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function b_(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function TA(){return Math.random().toString(36).substr(2,8)}function cy(t,e){return{usr:t.state,key:t.key,idx:e}}function Kh(t,e,r,n){return r===void 0&&(r=null),rl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ua(e):e,{state:r,key:e&&e.key||n||TA()})}function gu(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ua(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function PA(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,l=Un.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(rl({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function f(){l=Un.Pop;let b=d(),y=b==null?null:b-u;u=b,c&&c({action:l,location:m.location,delta:y})}function g(b,y){l=Un.Push;let v=Kh(m.location,b,y);u=d()+1;let w=cy(v,u),_=m.createHref(v);try{a.pushState(w,"",_)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(_)}i&&c&&c({action:l,location:m.location,delta:1})}function p(b,y){l=Un.Replace;let v=Kh(m.location,b,y);u=d();let w=cy(v,u),_=m.createHref(v);a.replaceState(w,"",_),i&&c&&c({action:l,location:m.location,delta:0})}function x(b){let y=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof b=="string"?b:gu(b);return v=v.replace(/ $/,"%20"),rt(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let m={get action(){return l},get location(){return t(s,a)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(ly,f),c=b,()=>{s.removeEventListener(ly,f),c=null}},createHref(b){return e(s,b)},createURL:x,encodeLocation(b){let y=x(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:g,replace:p,go(b){return a.go(b)}};return m}var uy;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(uy||(uy={}));function RA(t,e,r){return r===void 0&&(r="/"),AA(t,e,r,!1)}function AA(t,e,r,n){let s=typeof e=="string"?Ua(e):e,i=$m(s.pathname||"/",r);if(i==null)return null;let a=__(t);OA(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=WA(i);l=zA(a[c],u,n)}return l}function __(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(rt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Jn([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(rt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),__(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:UA(u,i.index),routesMeta:d})};return t.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of k_(i.path))s(i,a,c)}),e}function k_(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=k_(n.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function OA(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:BA(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const IA=/^:[\w-]+$/,DA=3,MA=2,$A=1,LA=10,FA=-2,dy=t=>t==="*";function UA(t,e){let r=t.split("/"),n=r.length;return r.some(dy)&&(n+=FA),e&&(n+=MA),r.filter(s=>!dy(s)).reduce((s,i)=>s+(IA.test(i)?DA:i===""?$A:LA),n)}function BA(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function zA(t,e,r){let{routesMeta:n}=t,s={},i="/",a=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=fy({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),g=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=fy({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:Jn([i,f.pathname]),pathnameBase:GA(Jn([i,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(i=Jn([i,f.pathnameBase]))}return a}function fy(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=VA(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:g,isOptional:p}=d;if(g==="*"){let m=l[f]||"";a=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const x=l[f];return p&&!x?u[g]=void 0:u[g]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:t}}function VA(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),b_(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function WA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return b_(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function $m(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function qA(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?Ua(t):t;return{pathname:r?r.startsWith("/")?r:HA(r,e):e,search:YA(n),hash:QA(s)}}function HA(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function bf(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function KA(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Lm(t,e){let r=KA(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Fm(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=Ua(t):(s=rl({},t),rt(!s.pathname||!s.pathname.includes("?"),bf("?","pathname","search",s)),rt(!s.pathname||!s.pathname.includes("#"),bf("#","pathname","hash",s)),rt(!s.search||!s.search.includes("#"),bf("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=r;else{let f=e.length-1;if(!n&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),f-=1;s.pathname=g.join("/")}l=f>=0?e[f]:"/"}let c=qA(s,l),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Jn=t=>t.join("/").replace(/\/\/+/g,"/"),GA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),YA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,QA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ZA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const S_=["post","put","patch","delete"];new Set(S_);const JA=["get",...S_];new Set(JA);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nl(){return nl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nl.apply(this,arguments)}const Um=h.createContext(null),XA=h.createContext(null),gs=h.createContext(null),dd=h.createContext(null),vs=h.createContext({outlet:null,matches:[],isDataRoute:!1}),j_=h.createContext(null);function eO(t,e){let{relative:r}=e===void 0?{}:e;Ba()||rt(!1);let{basename:n,navigator:s}=h.useContext(gs),{hash:i,pathname:a,search:l}=N_(t,{relative:r}),c=a;return n!=="/"&&(c=a==="/"?n:Jn([n,a])),s.createHref({pathname:c,search:l,hash:i})}function Ba(){return h.useContext(dd)!=null}function di(){return Ba()||rt(!1),h.useContext(dd).location}function E_(t){h.useContext(gs).static||h.useLayoutEffect(t)}function Tl(){let{isDataRoute:t}=h.useContext(vs);return t?hO():tO()}function tO(){Ba()||rt(!1);let t=h.useContext(Um),{basename:e,future:r,navigator:n}=h.useContext(gs),{matches:s}=h.useContext(vs),{pathname:i}=di(),a=JSON.stringify(Lm(s,r.v7_relativeSplatPath)),l=h.useRef(!1);return E_(()=>{l.current=!0}),h.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=Fm(u,JSON.parse(a),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Jn([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,a,i,t])}function N_(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=h.useContext(gs),{matches:s}=h.useContext(vs),{pathname:i}=di(),a=JSON.stringify(Lm(s,n.v7_relativeSplatPath));return h.useMemo(()=>Fm(t,JSON.parse(a),i,r==="path"),[t,a,i,r])}function rO(t,e){return nO(t,e)}function nO(t,e,r,n){Ba()||rt(!1);let{navigator:s}=h.useContext(gs),{matches:i}=h.useContext(vs),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=di(),d;if(e){var f;let b=typeof e=="string"?Ua(e):e;c==="/"||(f=b.pathname)!=null&&f.startsWith(c)||rt(!1),d=b}else d=u;let g=d.pathname||"/",p=g;if(c!=="/"){let b=c.replace(/^\//,"").split("/");p="/"+g.replace(/^\//,"").split("/").slice(b.length).join("/")}let x=RA(t,{pathname:p}),m=lO(x&&x.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Jn([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Jn([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,r,n);return e&&m?h.createElement(dd.Provider,{value:{location:nl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Un.Pop}},m):m}function sO(){let t=fO(),e=ZA(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},e),r?h.createElement("pre",{style:s},r):null,null)}const iO=h.createElement(sO,null);class aO extends h.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?h.createElement(vs.Provider,{value:this.props.routeContext},h.createElement(j_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oO(t){let{routeContext:e,match:r,children:n}=t,s=h.useContext(Um);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),h.createElement(vs.Provider,{value:e},n)}function lO(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=a.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||rt(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:g,errors:p}=r,x=f.route.loader&&g[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||x){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,f,g)=>{let p,x=!1,m=null,b=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,m=f.route.errorElement||iO,c&&(u<0&&g===0?(x=!0,b=null):u===g&&(x=!0,b=f.route.hydrateFallbackElement||null)));let y=e.concat(a.slice(0,g+1)),v=()=>{let w;return p?w=m:x?w=b:f.route.Component?w=h.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,h.createElement(oO,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?h.createElement(aO,{location:r.location,revalidation:r.revalidation,component:m,error:p,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var C_=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(C_||{}),vu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(vu||{});function cO(t){let e=h.useContext(Um);return e||rt(!1),e}function uO(t){let e=h.useContext(XA);return e||rt(!1),e}function dO(t){let e=h.useContext(vs);return e||rt(!1),e}function T_(t){let e=dO(),r=e.matches[e.matches.length-1];return r.route.id||rt(!1),r.route.id}function fO(){var t;let e=h.useContext(j_),r=uO(vu.UseRouteError),n=T_(vu.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function hO(){let{router:t}=cO(C_.UseNavigateStable),e=T_(vu.UseNavigateStable),r=h.useRef(!1);return E_(()=>{r.current=!0}),h.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,nl({fromRouteId:e},i)))},[t,e])}function pO(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function hy(t){let{to:e,replace:r,state:n,relative:s}=t;Ba()||rt(!1);let{future:i,static:a}=h.useContext(gs),{matches:l}=h.useContext(vs),{pathname:c}=di(),u=Tl(),d=Fm(e,Lm(l,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return h.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function Jr(t){rt(!1)}function mO(t){let{basename:e="/",children:r=null,location:n,navigationType:s=Un.Pop,navigator:i,static:a=!1,future:l}=t;Ba()&&rt(!1);let c=e.replace(/^\/*/,"/"),u=h.useMemo(()=>({basename:c,navigator:i,static:a,future:nl({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof n=="string"&&(n=Ua(n));let{pathname:d="/",search:f="",hash:g="",state:p=null,key:x="default"}=n,m=h.useMemo(()=>{let b=$m(d,c);return b==null?null:{location:{pathname:b,search:f,hash:g,state:p,key:x},navigationType:s}},[c,d,f,g,p,x,s]);return m==null?null:h.createElement(gs.Provider,{value:u},h.createElement(dd.Provider,{children:r,value:m}))}function gO(t){let{children:e,location:r}=t;return rO(Gh(e),r)}new Promise(()=>{});function Gh(t,e){e===void 0&&(e=[]);let r=[];return h.Children.forEach(t,(n,s)=>{if(!h.isValidElement(n))return;let i=[...e,s];if(n.type===h.Fragment){r.push.apply(r,Gh(n.props.children,i));return}n.type!==Jr&&rt(!1),!n.props.index||!n.props.children||rt(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Gh(n.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yh(){return Yh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yh.apply(this,arguments)}function vO(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function yO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function xO(t,e){return t.button===0&&(!e||e==="_self")&&!yO(t)}const wO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],bO="6";try{window.__reactRouterVersion=bO}catch{}const _O="startTransition",py=Ep[_O];function kO(t){let{basename:e,children:r,future:n,window:s}=t,i=h.useRef();i.current==null&&(i.current=CA({window:s,v5Compat:!0}));let a=i.current,[l,c]=h.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},d=h.useCallback(f=>{u&&py?py(()=>c(f)):c(f)},[c,u]);return h.useLayoutEffect(()=>a.listen(d),[a,d]),h.useEffect(()=>pO(n),[n]),h.createElement(mO,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:a,future:n})}const SO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,EO=h.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,g=vO(e,wO),{basename:p}=h.useContext(gs),x,m=!1;if(typeof u=="string"&&jO.test(u)&&(x=u,SO))try{let w=new URL(window.location.href),_=u.startsWith("//")?new URL(w.protocol+u):new URL(u),k=$m(_.pathname,p);_.origin===w.origin&&k!=null?u=k+_.search+_.hash:m=!0}catch{}let b=eO(u,{relative:s}),y=NO(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function v(w){n&&n(w),w.defaultPrevented||y(w)}return h.createElement("a",Yh({},g,{href:x||b,onClick:m||i?n:v,ref:r,target:c}))});var my;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(my||(my={}));var gy;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(gy||(gy={}));function NO(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:l}=e===void 0?{}:e,c=Tl(),u=di(),d=N_(t,{relative:a});return h.useCallback(f=>{if(xO(f,r)){f.preventDefault();let g=n!==void 0?n:gu(u)===gu(d);c(t,{replace:g,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[u,c,d,n,s,r,t,i,a,l])}var Br=function(){return Br=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Br.apply(this,arguments)};function za(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function CO(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})}function TO(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}const PO=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Bm extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class RO extends Bm{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class vy extends Bm{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class yy extends Bm{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Qh;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Qh||(Qh={}));class AO{constructor(e,{headers:r={},customFetch:n,region:s=Qh.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=PO(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return CO(this,arguments,void 0,function*(r,n={}){var s;let i,a;try{const{headers:l,method:c,body:u,signal:d,timeout:f}=n;let g={},{region:p}=n;p||(p=this.region);const x=new URL(`${this.url}/${r}`);p&&p!=="any"&&(g["x-region"]=p,x.searchParams.set("forceFunctionRegion",p));let m;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",m=u):typeof u=="string"?(g["Content-Type"]="text/plain",m=u):typeof FormData<"u"&&u instanceof FormData?m=u:(g["Content-Type"]="application/json",m=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?m=JSON.stringify(u):m=u;let b=d;f&&(a=new AbortController,i=setTimeout(()=>a.abort(),f),d?(b=a.signal,d.addEventListener("abort",()=>a.abort())):b=a.signal);const y=yield this.fetch(x.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),l),body:m,signal:b}).catch(k=>{throw new RO(k)}),v=y.headers.get("x-relay-error");if(v&&v==="true")throw new vy(y);if(!y.ok)throw new yy(y);let w=((s=y.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return w==="application/json"?_=yield y.json():w==="application/octet-stream"||w==="application/pdf"?_=yield y.blob():w==="text/event-stream"?_=y:w==="multipart/form-data"?_=yield y.formData():_=yield y.text(),{data:_,error:null,response:y}}catch(l){return{data:null,error:l,response:l instanceof yy||l instanceof vy?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var OO=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},IO=class{constructor(t){var e,r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(n=t.urlLengthLimit)!==null&&n!==void 0?n:8e3,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let a=null,l=null,c=null,u=i.status,d=i.statusText;if(i.ok){var f,g;if(r.method!=="HEAD"){var p;const y=await i.text();y===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((p=r.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?l=y:l=JSON.parse(y))}const m=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),b=(g=i.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");m&&b&&b.length>1&&(c=parseInt(b[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(a={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var x;const m=await i.text();try{a=JSON.parse(m),Array.isArray(a)&&i.status===404&&(l=[],a=null,u=200,d="OK")}catch{i.status===404&&m===""?(u=204,d="No Content"):a={message:m}}if(a&&r.isMaybeSingle&&(!(a==null||(x=a.details)===null||x===void 0)&&x.includes("0 rows"))&&(a=null,u=200,d="OK"),a&&r.shouldThrowOnError)throw new OO(a)}return{error:a,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var a;let l="",c="",u="";const d=i==null?void 0:i.cause;if(d){var f,g,p,x;const y=(f=d==null?void 0:d.message)!==null&&f!==void 0?f:"",v=(g=d==null?void 0:d.code)!==null&&g!==void 0?g:"";l=`${(p=i==null?void 0:i.name)!==null&&p!==void 0?p:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(x=d==null?void 0:d.name)!==null&&x!==void 0?x:"Error"}: ${y}`,v&&(l+=` (${v})`),d!=null&&d.stack&&(l+=`
${d.stack}`)}else{var m;l=(m=i==null?void 0:i.stack)!==null&&m!==void 0?m:""}const b=this.url.toString().length;return(i==null?void 0:i.name)==="AbortError"||(i==null?void 0:i.code)==="ABORT_ERR"?(u="",c="Request was aborted (timeout or manual cancellation)",b>this.urlLengthLimit&&(c+=`. Note: Your request URL is ${b} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((d==null?void 0:d.name)==="HeadersOverflowError"||(d==null?void 0:d.code)==="UND_ERR_HEADERS_OVERFLOW")&&(u="",c="HTTP headers exceeded server limits (typically 16KB)",b>this.urlLengthLimit&&(c+=`. Your request URL is ${b} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:c,code:u},data:null,count:null,status:0,statusText:""}})),s.then(t,e)}returns(){return this}overrideTypes(){return this}},DO=class extends IO{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(i,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var a;const l=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const xy=new RegExp("[,()]");var Ci=class extends DO{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&xy.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&xy.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${i}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},MO=class{constructor(t,{headers:e={},schema:r,fetch:n,urlLengthLimit:s=8e3}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n,this.urlLengthLimit=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:n}=e??{},s=r?"HEAD":"GET";let i=!1;const a=(t??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",a),n&&c.append("Prefer",`count=${n}`),new Ci({method:s,url:l,headers:c,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const s="POST",{url:i,headers:a}=this.cloneRequestState();if(e&&a.append("Prefer",`count=${e}`),r||a.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);i.searchParams.set("columns",c.join(","))}}return new Ci({method:s,url:i,headers:a,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const a="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&l.searchParams.set("on_conflict",e),n&&c.append("Prefer",`count=${n}`),s||c.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);l.searchParams.set("columns",d.join(","))}}return new Ci({method:a,url:l,headers:c,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}update(t,{count:e}={}){var r;const n="PATCH",{url:s,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new Ci({method:n,url:s,headers:i,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:t}={}){var e;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new Ci({method:r,url:n,headers:s,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch,urlLengthLimit:this.urlLengthLimit})}};function sl(t){"@babel/helpers - typeof";return sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sl(t)}function $O(t,e){if(sl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(sl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LO(t){var e=$O(t,"string");return sl(e)=="symbol"?e:e+""}function FO(t,e,r){return(e=LO(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wy(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function oc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wy(Object(r),!0).forEach(function(n){FO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wy(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var UO=class P_{constructor(e,{headers:r={},schema:n,fetch:s,timeout:i,urlLengthLimit:a=8e3}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.urlLengthLimit=a;const l=s??globalThis.fetch;i!==void 0&&i>0?this.fetch=(c,u)=>{const d=new AbortController,f=setTimeout(()=>d.abort(),i),g=u==null?void 0:u.signal;if(g){if(g.aborted)return clearTimeout(f),l(c,u);const p=()=>{clearTimeout(f),d.abort()};return g.addEventListener("abort",p,{once:!0}),l(c,oc(oc({},u),{},{signal:d.signal})).finally(()=>{clearTimeout(f),g.removeEventListener("abort",p)})}return l(c,oc(oc({},u),{},{signal:d.signal})).finally(()=>clearTimeout(f))}:this.fetch=l}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new MO(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(e){return new P_(this.url,{headers:this.headers,schema:e,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){var a;let l;const c=new URL(`${this.url}/rpc/${e}`);let u;const d=p=>p!==null&&typeof p=="object"&&(!Array.isArray(p)||p.some(d)),f=n&&Object.values(r).some(d);f?(l="POST",u=r):n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([p,x])=>x!==void 0).map(([p,x])=>[p,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([p,x])=>{c.searchParams.append(p,x)})):(l="POST",u=r);const g=new Headers(this.headers);return f?g.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&g.set("Prefer",`count=${i}`),new Ci({method:l,url:c,headers:g,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}};class BO{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const zO="2.94.0",VO=`realtime-js/${zO}`,WO="1.0.0",R_="2.0.0",by=R_,Zh=1e4,qO=1e3,HO=100;var Cn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Cn||(Cn={}));var at;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(at||(at={}));var jr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(jr||(jr={}));var Jh;(function(t){t.websocket="websocket"})(Jh||(Jh={}));var As;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(As||(As={}));class KO{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},a=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,r,n){var s,i;const a=e.topic,l=(s=e.ref)!==null&&s!==void 0?s:"",c=(i=e.join_ref)!==null&&i!==void 0?i:"",u=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const g=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+a.length+u.length+f.length,p=new ArrayBuffer(this.HEADER_LENGTH+g);let x=new DataView(p),m=0;x.setUint8(m++,this.KINDS.userBroadcastPush),x.setUint8(m++,c.length),x.setUint8(m++,l.length),x.setUint8(m++,a.length),x.setUint8(m++,u.length),x.setUint8(m++,f.length),x.setUint8(m++,r),Array.from(c,y=>x.setUint8(m++,y.charCodeAt(0))),Array.from(l,y=>x.setUint8(m++,y.charCodeAt(0))),Array.from(a,y=>x.setUint8(m++,y.charCodeAt(0))),Array.from(u,y=>x.setUint8(m++,y.charCodeAt(0))),Array.from(f,y=>x.setUint8(m++,y.charCodeAt(0)));var b=new Uint8Array(p.byteLength+n.byteLength);return b.set(new Uint8Array(p),0),b.set(new Uint8Array(n),p.byteLength),b.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[s,i,a,l,c]=n;return r({join_ref:s,ref:i,topic:a,event:l,payload:c})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,s)}}_decodeUserBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(e.slice(c,c+s));c=c+s;const d=n.decode(e.slice(c,c+i));c=c+i;const f=n.decode(e.slice(c,c+a));c=c+a;const g=e.slice(c,e.byteLength),p=l===this.JSON_ENCODING?JSON.parse(n.decode(g)):g,x={type:this.BROADCAST_EVENT,event:d,payload:p};return a>0&&(x.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class A_{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Le;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Le||(Le={}));const _y=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,a)=>(i[a]=GO(a,t,e,s),i),{}):{}},GO=(t,e,r,n)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,a=r[t];return i&&!n.includes(i)?O_(i,a):Xh(a)},O_=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return JO(e,r)}switch(t){case Le.bool:return YO(e);case Le.float4:case Le.float8:case Le.int2:case Le.int4:case Le.int8:case Le.numeric:case Le.oid:return QO(e);case Le.json:case Le.jsonb:return ZO(e);case Le.timestamp:return XO(e);case Le.abstime:case Le.date:case Le.daterange:case Le.int4range:case Le.int8range:case Le.money:case Le.reltime:case Le.text:case Le.time:case Le.timestamptz:case Le.timetz:case Le.tsrange:case Le.tstzrange:return Xh(e);default:return Xh(e)}},Xh=t=>t,YO=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},QO=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},ZO=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},JO=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const a=t.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>O_(e,l))}return t},XO=t=>typeof t=="string"?t.replace(" ","T"):t,I_=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class _f{constructor(e,r,n={},s=Zh){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ky;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(ky||(ky={}));class Po{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Po.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=Po.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Po.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),a=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const f=i[u];if(f){const g=d.map(b=>b.presence_ref),p=f.map(b=>b.presence_ref),x=d.filter(b=>p.indexOf(b.presence_ref)<0),m=f.filter(b=>g.indexOf(b.presence_ref)<0);x.length>0&&(l[u]=x),m.length>0&&(c[u]=m)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),d.length>0){const f=e[l].map(p=>p.presence_ref),g=d.filter(p=>f.indexOf(p.presence_ref)<0);e[l].unshift(...g)}n(l,d,c)}),this.map(a,(l,c)=>{let u=e[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),e[l]=u,s(l,u,c),u.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Sy;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Sy||(Sy={}));var Ro;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ro||(Ro={}));var en;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(en||(en={}));class Hi{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=at.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new _f(this,jr.join,this.params,this.timeout),this.rejoinTimer=new A_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=at.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=at.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this._on(jr.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new Po(this),this.broadcastEndpointURL=I_(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==at.closed){const{config:{broadcast:a,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Ro.PRESENCE]&&this.bindings[Ro.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},g={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(en.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(en.CLOSED)),this.updateJoinPayload(Object.assign({config:g},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var x;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){e==null||e(en.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,b=(x=m==null?void 0:m.length)!==null&&x!==void 0?x:0,y=[];for(let v=0;v<b;v++){const w=m[v],{filter:{event:_,schema:k,table:E,filter:S}}=w,R=p&&p[v];if(R&&R.event===_&&Hi.isFilterValueEqual(R.schema,k)&&Hi.isFilterValueEqual(R.table,E)&&Hi.isFilterValueEqual(R.filter,S))y.push(Object.assign(Object.assign({},w),{id:R.id}));else{this.unsubscribe(),this.state=at.errored,e==null||e(en.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(en.SUBSCRIBED);return}}).receive("error",p=>{this.state=at.errored,e==null||e(en.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(en.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===at.joined&&e===Ro.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=e,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=at.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(jr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new _f(this,jr.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=at.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new _f(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>HO){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const a=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=jr;if(n&&[l,c,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let g=this._onMessage(a,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var x,m,b;return((x=p.filter)===null||x===void 0?void 0:x.event)==="*"||((b=(m=p.filter)===null||m===void 0?void 0:m.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(p=>p.callback(g,n)):(i=this.bindings[a])===null||i===void 0||i.filter(p=>{var x,m,b,y,v,w;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const _=p.id,k=(x=p.filter)===null||x===void 0?void 0:x.event;return _&&((m=r.ids)===null||m===void 0?void 0:m.includes(_))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const _=(v=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return _==="*"||_===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof g=="object"&&"ids"in g){const x=g.data,{schema:m,table:b,commit_timestamp:y,type:v,errors:w}=x;g=Object.assign(Object.assign({},{schema:m,table:b,commit_timestamp:y,eventType:v,new:{},old:{},errors:w}),this._getPayloadRecords(x))}p.callback(g,n)})}_isClosed(){return this.state===at.closed}_isJoined(){return this.state===at.joined}_isJoining(){return this.state===at.joining}_isLeaving(){return this.state===at.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Hi.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(jr.close,{},e)}_onError(e){this._on(jr.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=at.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=_y(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=_y(e.columns,e.old_record)),r}}const kf=()=>{},lc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},e2=[1e3,2e3,5e3,1e4],t2=1e4,r2=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class n2{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Zh,this.transport=null,this.heartbeatIntervalMs=lc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=kf,this.ref=0,this.reconnectTimer=null,this.vsn=by,this.logger=kf,this.conn=null,this.sendBuffer=[],this.serializer=new KO,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Jh.websocket}`,this.httpEndpoint=I_(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=BO.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Cn.connecting:return As.Connecting;case Cn.open:return As.Open;case Cn.closing:return As.Closing;default:return As.Closed}}isConnected(){return this.connectionState()===As.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Hi(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,a=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(qO,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},lc.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:i,ref:a}=r,l=a?`(${a})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Cn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Cn.open||this.conn.readyState===Cn.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(jr.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([r2],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:VO};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(jr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new A_(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},lc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,a,l,c,u,d,f,g,p;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Zh,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:lc.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:kf,this.vsn=(c=e==null?void 0:e.vsn)!==null&&c!==void 0?c:by,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:x=>e2[x-1]||t2,this.vsn){case WO:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(x,m)=>m(JSON.stringify(x)),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:(x,m)=>m(JSON.parse(x));break;case R_:this.encode=(g=e==null?void 0:e.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var il=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function s2(t,e,r){const n=new URL(e,t);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function i2(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function a2(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:a}){const l=s2(t.baseUrl,n,s),c=await i2(t.auth),u=await e(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...a},body:i?JSON.stringify(i):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),g=f&&d?JSON.parse(d):d;if(!u.ok){const p=f?g:void 0,x=p==null?void 0:p.error;throw new il((x==null?void 0:x.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:x==null?void 0:x.type,icebergCode:x==null?void 0:x.code,details:p})}return{status:u.status,headers:u.headers,data:g}}}}function cc(t){return t.join("")}var o2=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:cc(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${cc(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${cc(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${cc(t.namespace)}`}),!0}catch(e){if(e instanceof il&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof il&&r.status===409)return;throw r}}};function yi(t){return t.join("")}var l2=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${yi(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${yi(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${yi(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${yi(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${yi(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${yi(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof il&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof il&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},c2=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=a2({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new o2(this.client,e),this.tableOps=new l2(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},fd=class extends Error{constructor(t,e="storage",r,n){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function hd(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var uc=class extends fd{constructor(t,e,r,n="storage"){super(t,n,e,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},D_=class extends fd{constructor(t,e,r="storage"){super(t,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const u2=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),d2=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},ep=t=>{if(Array.isArray(t))return t.map(r=>ep(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=ep(n)}),e},f2=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function al(t){"@babel/helpers - typeof";return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},al(t)}function h2(t,e){if(al(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(al(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function p2(t){var e=h2(t,"string");return al(e)=="symbol"?e:e+""}function m2(t,e,r){return(e=p2(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jy(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function he(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jy(Object(r),!0).forEach(function(n){m2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jy(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const Ey=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},g2=async(t,e,r,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const s=t,i=s.status||500;if(typeof s.json=="function")s.json().then(a=>{const l=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||i+"";e(new uc(Ey(a),i,l,n))}).catch(()=>{if(n==="vectors"){const a=i+"";e(new uc(s.statusText||`HTTP ${i} error`,i,a,n))}else{const a=i+"";e(new uc(s.statusText||`HTTP ${i} error`,i,a,n))}});else{const a=i+"";e(new uc(s.statusText||`HTTP ${i} error`,i,a,n))}}else e(new D_(Ey(t),t,n))},v2=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||t==="HEAD"||!n?he(he({},s),r):(d2(n)?(s.headers=he({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),he(he({},s),r))};async function ao(t,e,r,n,s,i,a){return new Promise((l,c)=>{t(r,v2(e,n,s,i)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(a==="vectors"){const d=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!d||!d.includes("application/json"))return{}}return u.json()}).then(u=>l(u)).catch(u=>g2(u,c,n,a))})}function M_(t="storage"){return{get:async(e,r,n,s)=>ao(e,"GET",r,n,s,void 0,t),post:async(e,r,n,s,i)=>ao(e,"POST",r,s,i,n,t),put:async(e,r,n,s,i)=>ao(e,"PUT",r,s,i,n,t),head:async(e,r,n,s)=>ao(e,"HEAD",r,he(he({},n),{},{noResolveJson:!0}),s,void 0,t),remove:async(e,r,n,s,i)=>ao(e,"DELETE",r,s,i,n,t)}}const y2=M_("storage"),{get:ol,post:br,put:tp,head:x2,remove:zm}=y2,zt=M_("vectors");var Va=class{constructor(t,e={},r,n="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=u2(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(hd(r))return{data:null,error:r};throw r}}},w2=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(hd(e))return{data:null,error:e};throw e}}};let $_;$_=Symbol.toStringTag;var b2=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[$_]="BlobDownloadBuilder",this.promise=null}asStream(){return new w2(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(hd(e))return{data:null,error:e};throw e}}};const _2={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ny={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var k2=class extends Va{constructor(t,e={},r,n){super(t,e,n,"storage"),this.bucketId=r}async uploadOrUpdate(t,e,r,n){var s=this;return s.handleOperation(async()=>{let i;const a=he(he({},Ny),n);let l=he(he({},s.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",s.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),c&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),n!=null&&n.headers&&(l=he(he({},l),n.headers));const u=s._removeEmptyFolders(e),d=s._getFinalPath(u),f=await(t=="PUT"?tp:br)(s.fetch,`${s.url}/object/${d}`,i,he({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{path:u,id:f.Id,fullPath:f.Key}})}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var s=this;const i=s._removeEmptyFolders(t),a=s._getFinalPath(i),l=new URL(s.url+`/object/upload/sign/${a}`);return l.searchParams.set("token",e),s.handleOperation(async()=>{let c;const u=he({upsert:Ny.upsert},n),d=he(he({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{path:i,fullPath:(await tp(s.fetch,l.toString(),c,{headers:d})).Key}})}async createSignedUploadUrl(t,e){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(t);const s=he({},r.headers);e!=null&&e.upsert&&(s["x-upsert"]="true");const i=await br(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(r.url+i.url),l=a.searchParams.get("token");if(!l)throw new fd("No token returned by API");return{signedUrl:a.toString(),path:t,token:l}})}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;return n.handleOperation(async()=>await br(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(t,e,r){var n=this;return n.handleOperation(async()=>({path:(await br(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(t,e,r){var n=this;return n.handleOperation(async()=>{let s=n._getFinalPath(t),i=await br(n.fetch,`${n.url}/object/sign/${s}`,he({expiresIn:e},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${i.signedURL}${a}`)}})}async createSignedUrls(t,e,r){var n=this;return n.handleOperation(async()=>{const s=await br(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s.map(a=>he(he({},a),{},{signedUrl:a.signedURL?encodeURI(`${n.url}${a.signedURL}${i}`):null}))})}download(t,e){const r=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),s=n?`?${n}`:"",i=this._getFinalPath(t),a=()=>ol(this.fetch,`${this.url}/${r}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new b2(a,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);return e.handleOperation(async()=>ep(await ol(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})))}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await x2(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(hd(n)&&n instanceof D_){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],s=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&n.push(s);const i=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});a!==""&&n.push(a);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${l}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await zm(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,r){var n=this;return n.handleOperation(async()=>{const s=he(he(he({},_2),e),{},{prefix:t||""});return await br(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r)})}async listV2(t,e){var r=this;return r.handleOperation(async()=>{const n=he({},t);return await br(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const S2="2.94.0",Pl={"X-Client-Info":`storage-js/${S2}`};var j2=class extends Va{constructor(t,e={},r,n){const s=new URL(t);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const i=s.href.replace(/\/$/,""),a=he(he({},Pl),e);super(i,a,r,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=e.listBucketOptionsToQueryString(t);return await ol(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await ol(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var r=this;return r.handleOperation(async()=>await br(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async updateBucket(t,e){var r=this;return r.handleOperation(async()=>await tp(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await br(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await zm(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},E2=class extends Va{constructor(t,e={},r){const n=t.replace(/\/$/,""),s=he(he({},Pl),e);super(n,s,r,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await br(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return await ol(e.fetch,s,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await zm(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!f2(t))throw new fd("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new c2({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const a=s[i];return typeof a!="function"?a:async(...l)=>{try{return{data:await a.apply(s,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}},N2=class extends Va{constructor(t,e={},r){const n=t.replace(/\/$/,""),s=he(he({},Pl),{},{"Content-Type":"application/json"},e);super(n,s,r,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await zt.post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var r=this;return r.handleOperation(async()=>await zt.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await zt.post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var r=this;return r.handleOperation(async()=>await zt.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{})}},C2=class extends Va{constructor(t,e={},r){const n=t.replace(/\/$/,""),s=he(he({},Pl),{},{"Content-Type":"application/json"},e);super(n,s,r,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await zt.post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await zt.post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await zt.post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await zt.post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await zt.post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},T2=class extends Va{constructor(t,e={},r){const n=t.replace(/\/$/,""),s=he(he({},Pl),{},{"Content-Type":"application/json"},e);super(n,s,r,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await zt.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await zt.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await zt.post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await zt.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},P2=class extends T2{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new R2(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},R2=class extends N2{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,he(he({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,he(he({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new A2(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},A2=class extends C2{constructor(t,e,r,n,s){super(t,e,s),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,he(he({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,he(he({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,he(he({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,he(he({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,he(he({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},O2=class extends j2{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new k2(this.url,this.headers,t,this.fetch)}get vectors(){return new P2(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new E2(this.url+"/iceberg",this.headers,this.fetch)}};const L_="2.94.0",Ti=30*1e3,rp=3,Sf=rp*Ti,I2="http://localhost:9999",D2="supabase.auth.token",M2={"X-Client-Info":`gotrue-js/${L_}`},np="X-Supabase-Api-Version",F_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},$2=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,L2=10*60*1e3;class ll extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ie(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class F2 extends ll{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function U2(t){return ie(t)&&t.name==="AuthApiError"}class Os extends ll{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class pn extends ll{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Ft extends pn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function jf(t){return ie(t)&&t.name==="AuthSessionMissingError"}class xi extends pn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class dc extends pn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class fc extends pn{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function B2(t){return ie(t)&&t.name==="AuthImplicitGrantRedirectError"}class Cy extends pn{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class z2 extends pn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class sp extends pn{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Ef(t){return ie(t)&&t.name==="AuthRetryableFetchError"}class Ty extends pn{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ip extends pn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const yu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Py=` 	
\r=`.split(""),V2=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Py.length;e+=1)t[Py[e].charCodeAt(0)]=-2;for(let e=0;e<yu.length;e+=1)t[yu[e].charCodeAt(0)]=e;return t})();function Ry(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(yu[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(yu[n]),e.queuedBits-=6}}function U_(t,e,r){const n=V2[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Ay(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{H2(a,n,r)};for(let a=0;a<t.length;a+=1)U_(t.charCodeAt(a),s,i);return e.join("")}function W2(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function q2(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}W2(n,e)}}function H2(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function ra(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)U_(t.charCodeAt(s),r,n);return new Uint8Array(e)}function K2(t){const e=[];return q2(t,r=>e.push(r)),new Uint8Array(e)}function $s(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Ry(s,r,n)),Ry(null,r,n),e.join("")}function G2(t){return Math.round(Date.now()/1e3)+t}function Y2(){return Symbol("auth-callback")}const ft=()=>typeof window<"u"&&typeof document<"u",js={tested:!1,writable:!1},B_=()=>{if(!ft())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(js.tested)return js.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),js.tested=!0,js.writable=!0}catch{js.tested=!0,js.writable=!1}return js.writable};function Q2(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const z_=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Z2=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Pi=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Es=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},dt=async(t,e)=>{await t.removeItem(e)};class pd{constructor(){this.promise=new pd.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}pd.promiseConstructor=Promise;function hc(t){const e=t.split(".");if(e.length!==3)throw new ip("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!$2.test(e[n]))throw new ip("JWT not in base64url format");return{header:JSON.parse(Ay(e[0])),payload:JSON.parse(Ay(e[1])),signature:ra(e[2]),raw:{header:e[0],payload:e[1]}}}async function J2(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function X2(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){n(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function eI(t){return("0"+t.toString(16)).substr(-2)}function tI(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,eI).join("")}async function rI(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function nI(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await rI(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function wi(t,e,r=!1){const n=tI();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Pi(t,`${e}-code-verifier`,s);const i=await nI(n);return[i,n===i?"plain":"s256"]}const sI=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function iI(t){const e=t.headers.get(np);if(!e||!e.match(sI))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function aI(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function oI(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const lI=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function bi(t){if(!lI.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Nf(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function cI(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function Oy(t){return JSON.parse(JSON.stringify(t))}const Ps=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),uI=[502,503,504];async function Iy(t){var e;if(!Z2(t))throw new sp(Ps(t),0);if(uI.includes(t.status))throw new sp(Ps(t),t.status);let r;try{r=await t.json()}catch(i){throw new Os(Ps(i),i)}let n;const s=iI(t);if(s&&s.getTime()>=F_["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Ty(Ps(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Ft}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Ty(Ps(r),t.status,r.weak_password.reasons);throw new F2(Ps(r),t.status||500,n)}const dI=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function de(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[np]||(i[np]=F_["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await fI(t,e,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function fI(t,e,r,n,s,i){const a=dI(e,n,s,i);let l;try{l=await t(r,Object.assign({},a))}catch(c){throw console.error(c),new sp(Ps(c),0)}if(l.ok||await Iy(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Iy(c)}}function vr(t){var e;let r=null;mI(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=G2(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Dy(t){const e=vr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function An(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function hI(t){return{data:t,error:null}}function pI(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,a=za(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function My(t){return t}function mI(t){return t.access_token&&t.refresh_token&&t.expires_in}const Cf=["global","local","others"];class gI{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=z_(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Cf[0]){if(Cf.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Cf.join(", ")}`);try{return await de(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await de(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:An})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=za(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await de(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:pI,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ie(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await de(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:An})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await de(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:My});if(d.error)throw d.error;const f=await d.json(),g=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(x=>{const m=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(x.split(";")[1].split("=")[1]);u[`${b}Page`]=m}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ie(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){bi(e);try{return await de(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:An})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){bi(e);try{return await de(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:An})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){bi(e);try{return await de(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:An})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){bi(e.userId);try{const{data:r,error:n}=await de(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _deleteFactor(e){bi(e.userId),bi(e.id);try{return{data:await de(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await de(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:My});if(d.error)throw d.error;const f=await d.json(),g=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(x=>{const m=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(x.split(";")[1].split("=")[1]);u[`${b}Page`]=m}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ie(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await de(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await de(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await de(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ie(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await de(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await de(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}}function $y(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const _i={debug:!!(globalThis&&B_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class V_ extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class vI extends V_{}async function yI(t,e,r){_i.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),_i.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){_i.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{_i.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw _i.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new vI(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(_i.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function xI(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function W_(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function wI(t){return parseInt(t,16)}function bI(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function _I(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:g}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=W_(t.address),x=d?`${d}://${n}`:n,m=t.statement?`${t.statement}
`:"",b=`${x} wants you to sign in with your Ethereum account:
${p}

${m}`;let y=`URI: ${f}
Version: ${g}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(y+=`
Expiration Time: ${s.toISOString()}`),l&&(y+=`
Not Before: ${l.toISOString()}`),c&&(y+=`
Request ID: ${c}`),u){let v=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);v+=`
- ${w}`}y+=v}return`${b}
${y}`}class nt extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class xu extends nt{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function kI({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new nt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new nt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new nt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new nt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new nt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new nt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new nt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new nt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(q_(a)){if(i.rp.id!==a)return new nt({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new nt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new nt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new nt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new nt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function SI({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new nt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new nt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(q_(n)){if(r.rpId!==n)return new nt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new nt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new nt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new nt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class jI{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const EI=new jI;function NI(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=za(t,["challenge","user","excludeCredentials"]),i=ra(e).buffer,a=Object.assign(Object.assign({},r),{id:ra(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:a});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:ra(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function CI(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=za(t,["challenge","allowCredentials"]),s=ra(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const l=r[a];i.allowCredentials[a]=Object.assign(Object.assign({},l),{id:ra(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function TI(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:$s(new Uint8Array(t.response.attestationObject)),clientDataJSON:$s(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function PI(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:$s(new Uint8Array(s.authenticatorData)),clientDataJSON:$s(new Uint8Array(s.clientDataJSON)),signature:$s(new Uint8Array(s.signature)),userHandle:s.userHandle?$s(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function q_(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Ly(){var t,e;return!!(ft()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function RI(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new xu("Browser returned unexpected credential type",e)}:{data:null,error:new xu("Empty credential response",e)}}catch(e){return{data:null,error:kI({error:e,options:t})}}}async function AI(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new xu("Browser returned unexpected credential type",e)}:{data:null,error:new xu("Empty credential response",e)}}catch(e){return{data:null,error:SI({error:e,options:t})}}}const OI={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},II={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function wu(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))n[i]=a;else if(r(a))n[i]=a;else if(e(a)){const l=n[i];e(l)?n[i]=wu(l,a):n[i]=wu(a)}else n[i]=a}return n}function DI(t,e){return wu(OI,t,e||{})}function MI(t,e){return wu(II,t,e||{})}class $I{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){var a;try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!l)return{data:null,error:c};const u=s??EI.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:d}=l.webauthn.credential_options.publicKey;if(!d.name){const f=n;if(f)d.name=`${d.id}:${f}`;else{const p=(await this.client.getUser()).data.user,x=((a=p==null?void 0:p.user_metadata)===null||a===void 0?void 0:a.name)||(p==null?void 0:p.email)||(p==null?void 0:p.id)||"User";d.name=`${d.id}:${x}`}}d.displayName||(d.displayName=d.name)}switch(l.webauthn.type){case"create":{const d=DI(l.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:f,error:g}=await RI({publicKey:d,signal:u});return f?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:g}}case"request":{const d=MI(l.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:f,error:g}=await AI(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d,signal:u}));return f?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:g}}}}catch(l){return ie(l)?{data:null,error:l}:{data:null,error:new Os("Unexpected error in challenge",l)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new ll("rpId is required for WebAuthn authentication")};try{if(!Ly())return{data:null,error:new Os("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!a)return{data:null,error:l};const{webauthn:c}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(a){return ie(a)?{data:null,error:a}:{data:null,error:new Os("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new ll("rpId is required for WebAuthn registration")};try{if(!Ly())return{data:null,error:new Os("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===e&&g.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return c?this._verify({factorId:a.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(a){return ie(a)?{data:null,error:a}:{data:null,error:new Os("Unexpected error in register",a)}}}}xI();const LI={url:I2,storageKey:D2,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:M2,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Fy(t,e,r){return await r()}const ki={};class cl{get jwks(){var e,r;return(r=(e=ki[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){ki[this.storageKey]=Object.assign(Object.assign({},ki[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=ki[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ki[this.storageKey]=Object.assign(Object.assign({},ki[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},LI),e);if(this.storageKey=i.storageKey,this.instanceID=(r=cl.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,cl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&ft()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new gI({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=z_(i.fetch),this.lock=i.lock||Fy,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&ft()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=yI:this.lock=Fy,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new $I(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:B_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=$y(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=$y(this.memoryStorage)),ft()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${L_}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(ft()&&(r=Q2(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),ft()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),B2(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ie(r)?this._returnResult({error:r}):this._returnResult({error:new Os("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:vr}),{data:a,error:l}=i;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(ie(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:f,options:g}=e;let p=null,x=null;this.flowType==="pkce"&&([p,x]=await wi(this.storage,this.storageKey)),i=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:d,password:f,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:p,code_challenge_method:x},xform:vr})}else if("phone"in e){const{phone:d,password:f,options:g}=e;i=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},channel:(s=g==null?void 0:g.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:vr})}else throw new dc("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return await dt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await dt(this.storage,`${this.storageKey}-code-verifier`),ie(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:a,options:l}=e;r=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Dy})}else if("phone"in e){const{phone:i,password:a,options:l}=e;r=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Dy})}else throw new dc("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new xi;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(ie(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,a,l,c,u,d,f,g;let p,x;if("message"in e)p=e.message,x=e.signature;else{const{chain:m,wallet:b,statement:y,options:v}=e;let w;if(ft())if(typeof b=="object")w=b;else{const $=window;if("ethereum"in $&&typeof $.ethereum=="object"&&"request"in $.ethereum&&typeof $.ethereum.request=="function")w=$.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=b}const _=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href),k=await w.request({method:"eth_requestAccounts"}).then($=>$).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!k||k.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=W_(k[0]);let S=(n=v==null?void 0:v.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!S){const $=await w.request({method:"eth_chainId"});S=wI($)}const R={domain:_.host,address:E,statement:y,uri:_.href,version:"1",chainId:S,nonce:(s=v==null?void 0:v.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=v==null?void 0:v.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=v==null?void 0:v.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=v==null?void 0:v.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=v==null?void 0:v.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=v==null?void 0:v.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=_I(R),x=await w.request({method:"personal_sign",params:[bI(p),E]})}try{const{data:m,error:b}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:x},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:vr});if(b)throw b;if(!m||!m.session||!m.user){const y=new xi;return this._returnResult({data:{user:null,session:null},error:y})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:b})}catch(m){if(ie(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(e){var r,n,s,i,a,l,c,u,d,f,g,p;let x,m;if("message"in e)x=e.message,m=e.signature;else{const{chain:b,wallet:y,statement:v,options:w}=e;let _;if(ft())if(typeof y=="object")_=y;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))_=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}const k=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const E=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),v?{statement:v}:null));let S;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")S=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)S=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)x=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),m=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${k.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(s=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const E=await _.signMessage(new TextEncoder().encode(x),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=E}}try{const{data:b,error:y}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:$s(m)},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:vr});if(y)throw y;if(!b||!b.session||!b.user){const v=new xi;return this._returnResult({data:{user:null,session:null},error:v})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:y})}catch(b){if(ie(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(e){const r=await Es(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new z2;const{data:i,error:a}=await de(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:vr});if(await dt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const l=new xi;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(await dt(this.storage,`${this.storageKey}-code-verifier`),ie(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=e,l=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:vr}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new xi;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(ie(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,s,i,a;try{if("email"in e){const{email:l,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await wi(this.storage,this.storageKey));const{error:f}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:d}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new dc("You must provide either an email or phone number.")}catch(l){if(await dt(this.storage,`${this.storageKey}-code-verifier`),ie(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await de(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:vr});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(ie(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,n,s,i,a;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await wi(this.storage,this.storageKey));const u=await de(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:hI});return!((i=u.data)===null||i===void 0)&&i.url&&ft()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await dt(this.storage,`${this.storageKey}-code-verifier`),ie(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Ft;const{error:s}=await de(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(ie(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:a}=await de(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:a,error:l}=await de(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l})}throw new dc("You must provide either an email or phone number and a type")}catch(r){if(ie(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Es(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Sf:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await Es(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=Nf()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=cI(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:An}):await this._useSession(async r=>{var n,s,i;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ft}:await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:An})})}catch(r){if(ie(r))return jf(r)&&(await this._removeSession(),await dt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Ft;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await wi(this.storage,this.storageKey));const{data:u,error:d}=await de(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:An});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(await dt(this.storage,`${this.storageKey}-code-verifier`),ie(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ft;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=hc(e.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(ie(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:l}=r;if(l)throw l;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Ft;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ie(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!ft())throw new fc("No browser detected.");if(e.error||e.error_description||e.error_code)throw new fc(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Cy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new fc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Cy("No code detected.");const{data:v,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=e;if(!i||!l||!a||!u)throw new fc("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let g=d+f;c&&(g=parseInt(c));const p=g-d;p*1e3<=Ti&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const x=g-f;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,g,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,g,d);const{data:m,error:b}=await this._getUser(i);if(b)throw b;const y={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:g,refresh_token:a,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:e.type},error:null})}catch(n){if(ie(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Es(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i&&!jf(i))return this._returnResult({error:i});const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,e);if(l&&!(U2(l)&&(l.status===404||l.status===401||l.status===403)||jf(l)))return this._returnResult({error:l})}return e!=="others"&&(await this._removeSession(),await dt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=Y2(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await wi(this.storage,this.storageKey,!0));try{return await de(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await dt(this.storage,`${this.storageKey}-code-verifier`),ie(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,l,c,u,d;const{data:f,error:g}=i;if(g)throw g;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await de(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return ft()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(ie(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:a,provider:l,token:c,access_token:u,nonce:d}=e,f=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:vr}),{data:g,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!g||!g.session||!g.user?this._returnResult({data:{user:null,session:null},error:new xi}):(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),this._returnResult({data:g,error:p}))}catch(s){if(await dt(this.storage,`${this.storageKey}-code-verifier`),ie(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await de(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await X2(async s=>(s>0&&await J2(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await de(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:vr})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Ef(i)&&Date.now()+a-n<Ti})}catch(n){if(this._debug(r,"error",n),ie(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),ft()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Es(this.storage,this.storageKey);if(s&&this.userStorage){let a=await Es(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Pi(this.userStorage,this.storageKey+"-user",a)),s.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:Nf()}else if(s&&!s.user&&!s.user){const a=await Es(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await dt(this.storage,this.storageKey+"-user"),await Pi(this.storage,this.storageKey,s)):s.user=Nf()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Sf;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Sf}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Ef(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Ft;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new pd;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new Ft;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),ie(i)){const a={data:null,error:i};return Ef(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await dt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Pi(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Oy(s);await Pi(this.storage,this.storageKey,i)}else{const s=Oy(r);await Pi(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await dt(this.storage,this.storageKey),await dt(this.storage,this.storageKey+"-code-verifier"),await dt(this.storage,this.storageKey+"-user"),this.userStorage&&await dt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ft()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ti);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Ti);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ti}ms, refresh threshold is ${rp} ticks`),s<=rp&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof V_)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ft()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await wi(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await de(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:u}=await de(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?TI(e.webauthn.credential_response):PI(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:c}=await de(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=await de(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:NI(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:CI(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(e){var r,n,s,i;if(e)try{const{payload:p}=hc(e);let x=null;p.aal&&(x=p.aal);let m=x;const{data:{user:b},error:y}=await this.getUser(e);if(y)return this._returnResult({data:null,error:y});((n=(r=b==null?void 0:b.factors)===null||r===void 0?void 0:r.filter(_=>_.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(m="aal2");const w=p.amr||[];return{data:{currentLevel:x,nextLevel:m,currentAuthenticationMethods:w},error:null}}catch(p){if(ie(p))return this._returnResult({data:null,error:p});throw p}const{data:{session:a},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=hc(a.access_token);let u=null;c.aal&&(u=c.aal);let d=u;((i=(s=a.user.factors)===null||s===void 0?void 0:s.filter(p=>p.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(d="aal2");const g=c.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await de(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Ft})})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Ft});const a=await de(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&ft()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Ft});const a=await de(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&ft()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await de(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Ft})})}catch(e){if(ie(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await de(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ft})})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+L2>s)return n;const{data:i,error:a}=await de(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:p,error:x}=await this.getSession();if(x||!p.session)return this._returnResult({data:null,error:x});n=p.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:c}}=hc(n);r!=null&&r.allowExpired||aI(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:s,signature:a},error:null}}const d=oI(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,K2(`${l}.${c}`)))throw new ip("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}}cl.nextInstanceID={};const FI=cl,UI="2.94.0";let vo="";typeof Deno<"u"?vo="deno":typeof document<"u"?vo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?vo="react-native":vo="node";const BI={"X-Client-Info":`supabase-js-${vo}/${UI}`},zI={headers:BI},VI={schema:"public"},WI={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},qI={};function ul(t){"@babel/helpers - typeof";return ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ul(t)}function HI(t,e){if(ul(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ul(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KI(t){var e=HI(t,"string");return ul(e)=="symbol"?e:e+""}function GI(t,e,r){return(e=KI(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Uy(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Je(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Uy(Object(r),!0).forEach(function(n){GI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Uy(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const YI=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),QI=()=>Headers,ZI=(t,e,r)=>{const n=YI(r),s=QI();return async(i,a)=>{var l;const c=(l=await e())!==null&&l!==void 0?l:t;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Je(Je({},a),{},{headers:u}))}};function JI(t){return t.endsWith("/")?t:t+"/"}function XI(t,e){var r,n;const{db:s,auth:i,realtime:a,global:l}=t,{db:c,auth:u,realtime:d,global:f}=e,g={db:Je(Je({},c),s),auth:Je(Je({},u),i),realtime:Je(Je({},d),a),storage:{},global:Je(Je(Je({},f),l),{},{headers:Je(Je({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}function eD(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(JI(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var tD=class extends FI{constructor(t){super(t)}},rD=class{constructor(t,e,r){var n,s;this.supabaseUrl=t,this.supabaseKey=e;const i=eD(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const a=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:VI,realtime:qI,auth:Je(Je({},WI),{},{storageKey:a}),global:zI},c=XI(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=ZI(e,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Je({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new UO(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch,timeout:c.db.timeout,urlLengthLimit:c.db.urlLengthLimit}),this.storage=new O2(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new AO(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:a,lock:l,debug:c,throwOnError:u},d,f){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new tD({url:this.authUrl.href,headers:Je(Je({},g),d),storageKey:i,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,flowType:a,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new n2(this.realtimeUrl.href,Je(Je({},t),{},{params:Je(Je({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const nD=(t,e,r)=>new rD(t,e,r);function sD(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}sD()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const iD="https://inpalsuguqmxcmbrxcsy.supabase.co",aD="sb_publishable_yeLusnJt10hLHLIScOIlzQ_SNDdNWW9",me=nD(iD,aD),H_=h.createContext(void 0);function oD({children:t}){const[e,r]=h.useState(null),[n,s]=h.useState(null),[i,a]=h.useState(null),[l,c]=h.useState(null),[u,d]=h.useState(!0),f=async v=>{if(!v||typeof v!="string"){console.warn("Invalid userId provided to fetchUserData");return}try{const{data:w,error:_}=await me.from("profiles").select("*").eq("id",v).maybeSingle();_?console.warn("Error fetching user profile:",_):w&&a(w);const{data:k,error:E}=await me.from("user_roles").select("role, can_add_products").eq("user_id",v).maybeSingle();if(E){const{error:S}=await me.from("user_roles").insert({user_id:v,role:"owner",can_add_products:!0});S?console.warn("Error creating owner role:",S):c({role:"owner",can_add_products:!0})}else if(k)k.role!=="owner"?(await me.from("user_roles").update({role:"owner",can_add_products:!0}).eq("user_id",v),c({role:"owner",can_add_products:!0})):c({role:"owner",can_add_products:!0});else{const{error:S}=await me.from("user_roles").insert({user_id:v,role:"owner",can_add_products:!0});S||c({role:"owner",can_add_products:!0})}}catch(w){const _=w instanceof Error?w.message:String(w);console.error("Unexpected error fetching user data:",_)}},g=async()=>{e&&await f(e.id)};h.useEffect(()=>{let v=!0;const{data:{subscription:w}}=me.auth.onAuthStateChange((_,k)=>{if(v)try{s(k),r((k==null?void 0:k.user)??null),k!=null&&k.user?setTimeout(()=>{v&&f(k.user.id)},0):(a(null),c(null)),_==="SIGNED_OUT"&&(a(null),c(null)),d(!1)}catch(E){console.error("Error in auth state change handler:",E),v&&d(!1)}});return me.auth.getSession().then(({data:{session:_},error:k})=>{if(v){if(k){console.error("Error getting session:",k),d(!1);return}try{s(_),r((_==null?void 0:_.user)??null),_!=null&&_.user&&f(_.user.id),d(!1)}catch(E){console.error("Error processing session:",E),d(!1)}}}).catch(_=>{v&&(console.error("Unexpected error getting session:",_),d(!1))}),()=>{v=!1,w.unsubscribe()}},[]);const p=async(v,w,_)=>{try{if(!v||!w||!_)return{error:new Error("Email, password, and full name are required")};const k=`${window.location.origin}/`,{error:E}=await me.auth.signUp({email:v.trim(),password:w,options:{emailRedirectTo:k,data:{full_name:_.trim()}}});return E?{error:E}:{error:null}}catch(k){const E=k instanceof Error?k:new Error(String(k));return console.error("Unexpected error during sign up:",E),{error:E}}},x=async(v,w)=>{try{if(!v||!w)return{error:new Error("Email and password are required")};const{error:_}=await me.auth.signInWithPassword({email:v.trim(),password:w});return _?{error:_}:{error:null}}catch(_){const k=_ instanceof Error?_:new Error(String(_));return console.error("Unexpected error during sign in:",k),{error:k}}},m=async()=>{try{const{error:v}=await me.auth.signOut();v&&console.error("Error signing out:",v),r(null),s(null),a(null),c(null)}catch(v){console.error("Unexpected error during sign out:",v),r(null),s(null),a(null),c(null)}},b=!!e&&!!n,y=b;return o.jsx(H_.Provider,{value:{user:e,session:n,profile:i,userRole:l,isOwner:b,canAddProducts:y,loading:u,signUp:p,signIn:x,signOut:m,refreshUserData:g},children:t})}function Wa(){const t=h.useContext(H_);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function Ns({children:t,requireAdmin:e=!1}){const{user:r,loading:n,isOwner:s}=Wa();return n?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:o.jsx(Xi,{className:"w-8 h-8 animate-spin text-primary"})}):!r||!s?o.jsx(hy,{to:"/auth",replace:!0}):e&&!s?o.jsx(hy,{to:"/auth",replace:!0}):o.jsx(o.Fragment,{children:t})}const Vm=ui("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),fe=h.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...s},i)=>{const a=n?YN:"button";return o.jsx(a,{className:Z(Vm({variant:e,size:r,className:t})),ref:i,...s})});fe.displayName="Button";const ka=h.forwardRef(({className:t,...e},r)=>o.jsx("div",{ref:r,className:Z("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ka.displayName="Card";const Sa=h.forwardRef(({className:t,...e},r)=>o.jsx("div",{ref:r,className:Z("flex flex-col space-y-1.5 p-6",t),...e}));Sa.displayName="CardHeader";const Rl=h.forwardRef(({className:t,...e},r)=>o.jsx("h3",{ref:r,className:Z("text-2xl font-semibold leading-none tracking-tight",t),...e}));Rl.displayName="CardTitle";const md=h.forwardRef(({className:t,...e},r)=>o.jsx("p",{ref:r,className:Z("text-sm text-muted-foreground",t),...e}));md.displayName="CardDescription";const ja=h.forwardRef(({className:t,...e},r)=>o.jsx("div",{ref:r,className:Z("p-6 pt-0",t),...e}));ja.displayName="CardContent";const lD=h.forwardRef(({className:t,...e},r)=>o.jsx("div",{ref:r,className:Z("flex items-center p-6 pt-0",t),...e}));lD.displayName="CardFooter";const cD=ui("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Wm=h.forwardRef(({className:t,variant:e,...r},n)=>o.jsx("div",{ref:n,role:"alert",className:Z(cD({variant:e}),t),...r}));Wm.displayName="Alert";const qm=h.forwardRef(({className:t,...e},r)=>o.jsx("h5",{ref:r,className:Z("mb-1 font-medium leading-none tracking-tight",t),...e}));qm.displayName="AlertTitle";const Hm=h.forwardRef(({className:t,...e},r)=>o.jsx("div",{ref:r,className:Z("text-sm [&_p]:leading-relaxed",t),...e}));Hm.displayName="AlertDescription";class _n extends h.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("Route ErrorBoundary caught an error:",e,r),this.setState({error:e})}render(){return this.state.hasError?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:o.jsxs(ka,{className:"w-full max-w-2xl",children:[o.jsx(Sa,{children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 rounded-xl bg-destructive/10 flex items-center justify-center",children:o.jsx(Zn,{className:"w-6 h-6 text-destructive"})}),o.jsxs("div",{children:[o.jsx(Rl,{className:"text-2xl",children:"Page Error"}),o.jsx(md,{children:"This page encountered an error. Please try refreshing or navigating away."})]})]})}),o.jsxs(ja,{children:[this.state.error&&o.jsxs(Wm,{variant:"destructive",className:"mb-4",children:[o.jsx(Zn,{className:"h-4 w-4"}),o.jsx(qm,{children:"Error"}),o.jsx(Hm,{children:this.state.error.message||"An unexpected error occurred"})]}),o.jsx(fe,{onClick:()=>window.location.reload(),variant:"default",children:"Refresh Page"})]})]})}):this.props.children}}const K_=h.createContext(void 0);function uD({children:t}){const[e,r]=h.useState(null),[n,s]=h.useState(!1);return o.jsx(K_.Provider,{value:{receiptData:e,showReceipt:n,setReceiptData:r,setShowReceipt:s},children:t})}function G_(){const t=h.useContext(K_);if(t===void 0)throw new Error("useReceipt must be used within a ReceiptProvider");return t}function _e(t){return`Rs. ${t.toLocaleString("en-PK",{minimumFractionDigits:0,maximumFractionDigits:0})}`}function it(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function cs(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function dl(t,e){const r=it(t);return isNaN(e)?cs(t,NaN):(r.setDate(r.getDate()+e),r)}const Y_=6048e5,dD=864e5,Q_=6e4,Z_=36e5;let fD={};function gd(){return fD}function fl(t,e){var l,c,u,d;const r=gd(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=it(t),i=s.getDay(),a=(i<n?7:0)+i-n;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function bu(t){return fl(t,{weekStartsOn:1})}function J_(t){const e=it(t),r=e.getFullYear(),n=cs(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=bu(n),i=cs(t,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const a=bu(i);return e.getTime()>=s.getTime()?r+1:e.getTime()>=a.getTime()?r:r-1}function hl(t){const e=it(t);return e.setHours(0,0,0,0),e}function By(t){const e=it(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function X_(t,e){const r=hl(t),n=hl(e),s=+r-By(r),i=+n-By(n);return Math.round((s-i)/dD)}function hD(t){const e=J_(t),r=cs(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),bu(r)}function pD(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function mD(t){if(!pD(t)&&typeof t!="number")return!1;const e=it(t);return!isNaN(Number(e))}function gD(t,e){const r=it(t),n=it(e),s=zy(r,n),i=Math.abs(X_(r,n));r.setDate(r.getDate()-s*i);const a=+(zy(r,n)===-s),l=s*(i-a);return l===0?0:l}function zy(t,e){const r=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return r<0?-1:r>0?1:r}function Vy(t){const e=it(t);return e.setHours(23,59,59,999),e}function vD(t){const e=it(t),r=cs(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const yD={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},xD=(t,e,r)=>{let n;const s=yD[t];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Tf(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const wD={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},bD={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},_D={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},kD={date:Tf({formats:wD,defaultWidth:"full"}),time:Tf({formats:bD,defaultWidth:"full"}),dateTime:Tf({formats:_D,defaultWidth:"full"})},SD={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},jD=(t,e,r,n)=>SD[t];function oo(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):a;s=t.formattingValues[l]||t.formattingValues[a]}else{const a=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;s=t.values[l]||t.values[a]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const ED={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ND={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},CD={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},TD={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},PD={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},RD={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},AD=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},OD={ordinalNumber:AD,era:oo({values:ED,defaultWidth:"wide"}),quarter:oo({values:ND,defaultWidth:"wide",argumentCallback:t=>t-1}),month:oo({values:CD,defaultWidth:"wide"}),day:oo({values:TD,defaultWidth:"wide"}),dayPeriod:oo({values:PD,defaultWidth:"wide",formattingValues:RD,defaultFormattingWidth:"wide"})};function lo(t){return(e,r={})=>{const n=r.width,s=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const a=i[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?DD(l,f=>f.test(a)):ID(l,f=>f.test(a));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(a.length);return{value:u,rest:d}}}function ID(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function DD(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function MD(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const s=n[0],i=e.match(t.parsePattern);if(!i)return null;let a=t.valueCallback?t.valueCallback(i[0]):i[0];a=r.valueCallback?r.valueCallback(a):a;const l=e.slice(s.length);return{value:a,rest:l}}}const $D=/^(\d+)(th|st|nd|rd)?/i,LD=/\d+/i,FD={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},UD={any:[/^b/i,/^(a|c)/i]},BD={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},zD={any:[/1/i,/2/i,/3/i,/4/i]},VD={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},WD={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},qD={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},HD={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},KD={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},GD={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},YD={ordinalNumber:MD({matchPattern:$D,parsePattern:LD,valueCallback:t=>parseInt(t,10)}),era:lo({matchPatterns:FD,defaultMatchWidth:"wide",parsePatterns:UD,defaultParseWidth:"any"}),quarter:lo({matchPatterns:BD,defaultMatchWidth:"wide",parsePatterns:zD,defaultParseWidth:"any",valueCallback:t=>t+1}),month:lo({matchPatterns:VD,defaultMatchWidth:"wide",parsePatterns:WD,defaultParseWidth:"any"}),day:lo({matchPatterns:qD,defaultMatchWidth:"wide",parsePatterns:HD,defaultParseWidth:"any"}),dayPeriod:lo({matchPatterns:KD,defaultMatchWidth:"any",parsePatterns:GD,defaultParseWidth:"any"})},QD={code:"en-US",formatDistance:xD,formatLong:kD,formatRelative:jD,localize:OD,match:YD,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ZD(t){const e=it(t);return X_(e,vD(e))+1}function JD(t){const e=it(t),r=+bu(e)-+hD(e);return Math.round(r/Y_)+1}function e1(t,e){var d,f,g,p;const r=it(t),n=r.getFullYear(),s=gd(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(g=s.locale)==null?void 0:g.options)==null?void 0:p.firstWeekContainsDate)??1,a=cs(t,0);a.setFullYear(n+1,0,i),a.setHours(0,0,0,0);const l=fl(a,e),c=cs(t,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=fl(c,e);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function XD(t,e){var l,c,u,d;const r=gd(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=e1(t,e),i=cs(t,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),fl(i,e)}function eM(t,e){const r=it(t),n=+fl(r,e)-+XD(r,e);return Math.round(n/Y_)+1}function Ae(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const kn={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return Ae(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Ae(r+1,2)},d(t,e){return Ae(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Ae(t.getHours()%12||12,e.length)},H(t,e){return Ae(t.getHours(),e.length)},m(t,e){return Ae(t.getMinutes(),e.length)},s(t,e){return Ae(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Ae(s,e.length)}},Si={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Wy={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return kn.y(t,e)},Y:function(t,e,r,n){const s=e1(t,n),i=s>0?s:1-s;if(e==="YY"){const a=i%100;return Ae(a,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):Ae(i,e.length)},R:function(t,e){const r=J_(t);return Ae(r,e.length)},u:function(t,e){const r=t.getFullYear();return Ae(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Ae(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Ae(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return kn.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return Ae(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const s=eM(t,n);return e==="wo"?r.ordinalNumber(s,{unit:"week"}):Ae(s,e.length)},I:function(t,e,r){const n=JD(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):Ae(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):kn.d(t,e)},D:function(t,e,r){const n=ZD(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Ae(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const s=t.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Ae(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const s=t.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Ae(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),s=n===0?7:n;switch(e){case"i":return String(s);case"ii":return Ae(s,e.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let s;switch(n===12?s=Si.noon:n===0?s=Si.midnight:s=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let s;switch(n>=17?s=Si.evening:n>=12?s=Si.afternoon:n>=4?s=Si.morning:s=Si.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return kn.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):kn.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Ae(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):Ae(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):kn.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):kn.s(t,e)},S:function(t,e){return kn.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return Hy(n);case"XXXX":case"XX":return Rs(n);case"XXXXX":case"XXX":default:return Rs(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return Hy(n);case"xxxx":case"xx":return Rs(n);case"xxxxx":case"xxx":default:return Rs(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+qy(n,":");case"OOOO":default:return"GMT"+Rs(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+qy(n,":");case"zzzz":default:return"GMT"+Rs(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return Ae(n,e.length)},T:function(t,e,r){const n=t.getTime();return Ae(n,e.length)}};function qy(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+e+Ae(i,2)}function Hy(t,e){return t%60===0?(t>0?"-":"+")+Ae(Math.abs(t)/60,2):Rs(t,e)}function Rs(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Ae(Math.trunc(n/60),2),i=Ae(n%60,2);return r+s+e+i}const Ky=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},t1=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},tM=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return Ky(t,e);let i;switch(n){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",Ky(n,e)).replace("{{time}}",t1(s,e))},rM={p:t1,P:tM},nM=/^D+$/,sM=/^Y+$/,iM=["D","DD","YY","YYYY"];function aM(t){return nM.test(t)}function oM(t){return sM.test(t)}function lM(t,e,r){const n=cM(t,e,r);if(console.warn(n),iM.includes(t))throw new RangeError(n)}function cM(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const uM=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,dM=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,fM=/^'([^]*?)'?$/,hM=/''/g,pM=/[a-zA-Z]/;function kt(t,e,r){var d,f,g,p;const n=gd(),s=n.locale??QD,i=n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,a=n.weekStartsOn??((p=(g=n.locale)==null?void 0:g.options)==null?void 0:p.weekStartsOn)??0,l=it(t);if(!mD(l))throw new RangeError("Invalid time value");let c=e.match(dM).map(x=>{const m=x[0];if(m==="p"||m==="P"){const b=rM[m];return b(x,s.formatLong)}return x}).join("").match(uM).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const m=x[0];if(m==="'")return{isToken:!1,value:mM(x)};if(Wy[m])return{isToken:!0,value:x};if(m.match(pM))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:x}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return c.map(x=>{if(!x.isToken)return x.value;const m=x.value;(oM(m)||aM(m))&&lM(m,e,String(t));const b=Wy[m[0]];return b(l,m,s.localize,u)}).join("")}function mM(t){const e=t.match(fM);return e?e[1].replace(hM,"'"):t}function Fr(t,e){const r=it(t),n=it(e);return+r<+n}function gM(t,e){const r=+it(t),[n,s]=[+it(e.start),+it(e.end)].sort((i,a)=>i-a);return r>=n&&r<=s}function tr(t,e){const n=wM(t);let s;if(n.date){const c=bM(n.date,2);s=_M(c.restDateString,c.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let a=0,l;if(n.time&&(a=kM(n.time),isNaN(a)))return new Date(NaN);if(n.timezone){if(l=SM(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+a),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(i+a+l)}const pc={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},vM=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,yM=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,xM=/^([+-])(\d{2})(?::?(\d{2}))?$/;function wM(t){const e={},r=t.split(pc.dateTimeDelimiter);let n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],pc.timeZoneDelimiter.test(e.date)&&(e.date=t.split(pc.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const s=pc.timezone.exec(n);s?(e.time=n.replace(s[1],""),e.timezone=s[1]):e.time=n}return e}function bM(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?s:i*100,restDateString:t.slice((n[1]||n[2]).length)}}function _M(t,e){if(e===null)return new Date(NaN);const r=t.match(vM);if(!r)return new Date(NaN);const n=!!r[4],s=co(r[1]),i=co(r[2])-1,a=co(r[3]),l=co(r[4]),c=co(r[5])-1;if(n)return TM(e,l,c)?jM(e,l,c):new Date(NaN);{const u=new Date(0);return!NM(e,i,a)||!CM(e,s)?new Date(NaN):(u.setUTCFullYear(e,i,Math.max(s,a)),u)}}function co(t){return t?parseInt(t):1}function kM(t){const e=t.match(yM);if(!e)return NaN;const r=Pf(e[1]),n=Pf(e[2]),s=Pf(e[3]);return PM(r,n,s)?r*Z_+n*Q_+s*1e3:NaN}function Pf(t){return t&&parseFloat(t.replace(",","."))||0}function SM(t){if(t==="Z")return 0;const e=t.match(xM);if(!e)return 0;const r=e[1]==="+"?-1:1,n=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return RM(n,s)?r*(n*Z_+s*Q_):NaN}function jM(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const s=n.getUTCDay()||7,i=(e-1)*7+r+1-s;return n.setUTCDate(n.getUTCDate()+i),n}const EM=[31,null,31,30,31,30,31,31,30,31,30,31];function r1(t){return t%400===0||t%4===0&&t%100!==0}function NM(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(EM[e]||(r1(t)?29:28))}function CM(t,e){return e>=1&&e<=(r1(t)?366:365)}function TM(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function PM(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function RM(t,e){return e>=0&&e<=59}function vd(){return hl(Date.now())}const n1=h.forwardRef(({items:t,total:e,discount:r=0,finalTotal:n,paymentMethod:s,saleId:i},a)=>{const l=n!==void 0?n:e;return o.jsxs("div",{ref:a,className:"receipt-content bg-white text-black p-6 w-[300px] font-mono text-sm",style:{fontFamily:"monospace"},children:[o.jsxs("div",{className:"receipt-header text-center border-b border-dashed border-gray-400 pb-4 mb-4",children:[o.jsx("h1",{className:"text-xl font-bold",children:"ZamZam Medical Store"}),o.jsx("p",{className:"text-xs mt-1",children:"ZamZam Medical Store,  Near Shama Bakers, Nawan-Shehr Abbottabad"}),o.jsx("p",{className:"text-xs text-gray-600 mt-2",children:kt(new Date,"MMM dd, yyyy hh:mm a")}),i&&o.jsxs("p",{className:"text-xs text-gray-600",children:["Receipt #: ",i]})]}),o.jsxs("div",{className:"receipt-items border-b border-dashed border-gray-400 pb-4 mb-4",children:[o.jsxs("div",{className:"flex justify-between text-xs font-bold mb-2",children:[o.jsx("span",{children:"Item"}),o.jsx("span",{children:"Amount"})]}),t.map((c,u)=>o.jsxs("div",{className:"receipt-item mb-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"truncate max-w-[180px]",children:c.productName}),o.jsx("span",{className:"font-semibold",children:_e(c.total)})]}),o.jsxs("div",{className:"text-xs text-gray-600",children:[c.quantity,"  ",_e(c.unitPrice)]})]},u))]}),o.jsxs("div",{className:"receipt-totals space-y-1 mb-4",children:[o.jsxs("div",{className:"flex justify-between text-xs",children:[o.jsx("span",{children:"Subtotal:"}),o.jsx("span",{children:_e(e)})]}),r>0&&o.jsxs("div",{className:"flex justify-between text-xs",children:[o.jsx("span",{children:"Discount:"}),o.jsxs("span",{className:"text-red-600",children:["-",_e(r)]})]}),o.jsxs("div",{className:"flex justify-between font-bold text-base border-t border-gray-400 pt-2 mt-2",children:[o.jsx("span",{children:"TOTAL:"}),o.jsx("span",{children:_e(l)})]})]}),o.jsxs("div",{className:"receipt-footer text-center border-t border-dashed border-gray-400 pt-4",children:[o.jsxs("p",{className:"text-xs",children:["Payment Method: ",o.jsx("span",{className:"capitalize font-semibold",children:s})]}),o.jsx("p",{className:"text-xs mt-3 font-semibold text-gray-700",children:"No return after 2 days"}),o.jsx("p",{className:"text-xs mt-3 text-gray-600",children:"Thank you for choosing ZamZam Medical Store."}),o.jsx("div",{className:"mt-4 text-xs text-gray-400",children:"--------------------------------"})]})]})});n1.displayName="ReceiptPrint";function AM(){const{receiptData:t,showReceipt:e}=G_(),r=h.useRef(null);return t?o.jsx("div",{id:"receipt-print-container",className:"receipt-print-container",style:{position:"absolute",left:"-9999px",top:"-9999px",visibility:"hidden",opacity:0,pointerEvents:"none",zIndex:-1},"aria-hidden":"true",children:o.jsx("div",{className:"print-receipt",children:o.jsx(n1,{ref:r,items:t.items,total:t.total,discount:t.discount,finalTotal:t.finalTotal,paymentMethod:t.paymentMethod,saleId:t.saleId})})}):null}const OM=ui("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ze({className:t,variant:e,...r}){return o.jsx("div",{className:Z(OM({variant:e}),t),...r})}var Rf="focusScope.autoFocusOnMount",Af="focusScope.autoFocusOnUnmount",Gy={bubbles:!1,cancelable:!0},IM="FocusScope",yd=h.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=t,[l,c]=h.useState(null),u=cr(s),d=cr(i),f=h.useRef(null),g=Pe(e,m=>c(m)),p=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(n){let m=function(w){if(p.paused||!l)return;const _=w.target;l.contains(_)?f.current=_:jn(f.current,{select:!0})},b=function(w){if(p.paused||!l)return;const _=w.relatedTarget;_!==null&&(l.contains(_)||jn(f.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const k of w)k.removedNodes.length>0&&jn(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",b);const v=new MutationObserver(y);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",b),v.disconnect()}}},[n,l,p.paused]),h.useEffect(()=>{if(l){Qy.add(p);const m=document.activeElement;if(!l.contains(m)){const y=new CustomEvent(Rf,Gy);l.addEventListener(Rf,u),l.dispatchEvent(y),y.defaultPrevented||(DM(UM(s1(l)),{select:!0}),document.activeElement===m&&jn(l))}return()=>{l.removeEventListener(Rf,u),setTimeout(()=>{const y=new CustomEvent(Af,Gy);l.addEventListener(Af,d),l.dispatchEvent(y),y.defaultPrevented||jn(m??document.body,{select:!0}),l.removeEventListener(Af,d),Qy.remove(p)},0)}}},[l,u,d,p]);const x=h.useCallback(m=>{if(!r&&!n||p.paused)return;const b=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,y=document.activeElement;if(b&&y){const v=m.currentTarget,[w,_]=MM(v);w&&_?!m.shiftKey&&y===_?(m.preventDefault(),r&&jn(w,{select:!0})):m.shiftKey&&y===w&&(m.preventDefault(),r&&jn(_,{select:!0})):y===v&&m.preventDefault()}},[r,n,p.paused]);return o.jsx(ce.div,{tabIndex:-1,...a,ref:g,onKeyDown:x})});yd.displayName=IM;function DM(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(jn(n,{select:e}),document.activeElement!==r)return}function MM(t){const e=s1(t),r=Yy(e,t),n=Yy(e.reverse(),t);return[r,n]}function s1(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Yy(t,e){for(const r of t)if(!$M(r,{upTo:e}))return r}function $M(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function LM(t){return t instanceof HTMLInputElement&&"select"in t}function jn(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&LM(t)&&e&&t.select()}}var Qy=FM();function FM(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=Zy(t,e),t.unshift(e)},remove(e){var r;t=Zy(t,e),(r=t[0])==null||r.resume()}}}function Zy(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function UM(t){return t.filter(e=>e.tagName!=="A")}var Of=0;function Km(){h.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Jy()),document.body.insertAdjacentElement("beforeend",t[1]??Jy()),Of++,()=>{Of===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Of--}},[])}function Jy(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Ic="right-scroll-bar-position",Dc="width-before-scroll-bar",BM="with-scroll-bars-hidden",zM="--removed-body-scroll-bar-size";function If(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function VM(t,e){var r=h.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=e,r.facade}var WM=typeof window<"u"?h.useLayoutEffect:h.useEffect,Xy=new WeakMap;function qM(t,e){var r=VM(null,function(n){return t.forEach(function(s){return If(s,n)})});return WM(function(){var n=Xy.get(r);if(n){var s=new Set(n),i=new Set(t),a=r.current;s.forEach(function(l){i.has(l)||If(l,null)}),i.forEach(function(l){s.has(l)||If(l,a)})}Xy.set(r,t)},[t]),r}function HM(t){return t}function KM(t,e){e===void 0&&(e=HM);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(i){var a=e(i,n);return r.push(a),function(){r=r.filter(function(l){return l!==a})}},assignSyncMedium:function(i){for(n=!0;r.length;){var a=r;r=[],a.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var a=[];if(r.length){var l=r;r=[],l.forEach(i),a=r}var c=function(){var d=a;a=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),r}}}};return s}function GM(t){t===void 0&&(t={});var e=KM(null);return e.options=Br({async:!0,ssr:!1},t),e}var i1=function(t){var e=t.sideCar,r=za(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return h.createElement(n,Br({},r))};i1.isSideCarExport=!0;function YM(t,e){return t.useMedium(e),i1}var a1=GM(),Df=function(){},xd=h.forwardRef(function(t,e){var r=h.useRef(null),n=h.useState({onScrollCapture:Df,onWheelCapture:Df,onTouchMoveCapture:Df}),s=n[0],i=n[1],a=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,g=t.sideCar,p=t.noRelative,x=t.noIsolation,m=t.inert,b=t.allowPinchZoom,y=t.as,v=y===void 0?"div":y,w=t.gapMode,_=za(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=g,E=qM([r,e]),S=Br(Br({},_),s);return h.createElement(h.Fragment,null,d&&h.createElement(k,{sideCar:a1,removeScrollBar:u,shards:f,noRelative:p,noIsolation:x,inert:m,setCallbacks:i,allowPinchZoom:!!b,lockRef:r,gapMode:w}),a?h.cloneElement(h.Children.only(l),Br(Br({},S),{ref:E})):h.createElement(v,Br({},S,{className:c,ref:E}),l))});xd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};xd.classNames={fullWidth:Dc,zeroRight:Ic};var QM=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function ZM(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=QM();return e&&t.setAttribute("nonce",e),t}function JM(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function XM(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var e$=function(){var t=0,e=null;return{add:function(r){t==0&&(e=ZM())&&(JM(e,r),XM(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},t$=function(){var t=e$();return function(e,r){h.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},o1=function(){var t=t$(),e=function(r){var n=r.styles,s=r.dynamic;return t(n,s),null};return e},r$={left:0,top:0,right:0,gap:0},Mf=function(t){return parseInt(t||"",10)||0},n$=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Mf(r),Mf(n),Mf(s)]},s$=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return r$;var e=n$(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},i$=o1(),na="data-scroll-locked",a$=function(t,e,r,n){var s=t.left,i=t.top,a=t.right,l=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(BM,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(na,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ic,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Dc,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Ic," .").concat(Ic,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Dc," .").concat(Dc,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(na,`] {
    `).concat(zM,": ").concat(l,`px;
  }
`)},ex=function(){var t=parseInt(document.body.getAttribute(na)||"0",10);return isFinite(t)?t:0},o$=function(){h.useEffect(function(){return document.body.setAttribute(na,(ex()+1).toString()),function(){var t=ex()-1;t<=0?document.body.removeAttribute(na):document.body.setAttribute(na,t.toString())}},[])},l$=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,s=n===void 0?"margin":n;o$();var i=h.useMemo(function(){return s$(s)},[s]);return h.createElement(i$,{styles:a$(i,!e,s,r?"":"!important")})},ap=!1;if(typeof window<"u")try{var mc=Object.defineProperty({},"passive",{get:function(){return ap=!0,!0}});window.addEventListener("test",mc,mc),window.removeEventListener("test",mc,mc)}catch{ap=!1}var ji=ap?{passive:!1}:!1,c$=function(t){return t.tagName==="TEXTAREA"},l1=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!c$(t)&&r[e]==="visible")},u$=function(t){return l1(t,"overflowY")},d$=function(t){return l1(t,"overflowX")},tx=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=c1(t,n);if(s){var i=u1(t,n),a=i[1],l=i[2];if(a>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},f$=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},h$=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},c1=function(t,e){return t==="v"?u$(e):d$(e)},u1=function(t,e){return t==="v"?f$(e):h$(e)},p$=function(t,e){return t==="h"&&e==="rtl"?-1:1},m$=function(t,e,r,n,s){var i=p$(t,window.getComputedStyle(e).direction),a=i*n,l=r.target,c=e.contains(l),u=!1,d=a>0,f=0,g=0;do{if(!l)break;var p=u1(t,l),x=p[0],m=p[1],b=p[2],y=m-b-i*x;(x||y)&&c1(t,l)&&(f+=y,g+=x);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(g)<1||!s))&&(u=!0),u},gc=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},rx=function(t){return[t.deltaX,t.deltaY]},nx=function(t){return t&&"current"in t?t.current:t},g$=function(t,e){return t[0]===e[0]&&t[1]===e[1]},v$=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},y$=0,Ei=[];function x$(t){var e=h.useRef([]),r=h.useRef([0,0]),n=h.useRef(),s=h.useState(y$++)[0],i=h.useState(o1)[0],a=h.useRef(t);h.useEffect(function(){a.current=t},[t]),h.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var m=TO([t.lockRef.current],(t.shards||[]).map(nx),!0).filter(Boolean);return m.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=h.useCallback(function(m,b){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!a.current.allowPinchZoom;var y=gc(m),v=r.current,w="deltaX"in m?m.deltaX:v[0]-y[0],_="deltaY"in m?m.deltaY:v[1]-y[1],k,E=m.target,S=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in m&&S==="h"&&E.type==="range")return!1;var R=tx(S,E);if(!R)return!0;if(R?k=S:(k=S==="v"?"h":"v",R=tx(S,E)),!R)return!1;if(!n.current&&"changedTouches"in m&&(w||_)&&(n.current=k),!k)return!0;var $=n.current||k;return m$($,b,m,$==="h"?w:_,!0)},[]),c=h.useCallback(function(m){var b=m;if(!(!Ei.length||Ei[Ei.length-1]!==i)){var y="deltaY"in b?rx(b):gc(b),v=e.current.filter(function(k){return k.name===b.type&&(k.target===b.target||b.target===k.shadowParent)&&g$(k.delta,y)})[0];if(v&&v.should){b.cancelable&&b.preventDefault();return}if(!v){var w=(a.current.shards||[]).map(nx).filter(Boolean).filter(function(k){return k.contains(b.target)}),_=w.length>0?l(b,w[0]):!a.current.noIsolation;_&&b.cancelable&&b.preventDefault()}}},[]),u=h.useCallback(function(m,b,y,v){var w={name:m,delta:b,target:y,should:v,shadowParent:w$(y)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(_){return _!==w})},1)},[]),d=h.useCallback(function(m){r.current=gc(m),n.current=void 0},[]),f=h.useCallback(function(m){u(m.type,rx(m),m.target,l(m,t.lockRef.current))},[]),g=h.useCallback(function(m){u(m.type,gc(m),m.target,l(m,t.lockRef.current))},[]);h.useEffect(function(){return Ei.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:g}),document.addEventListener("wheel",c,ji),document.addEventListener("touchmove",c,ji),document.addEventListener("touchstart",d,ji),function(){Ei=Ei.filter(function(m){return m!==i}),document.removeEventListener("wheel",c,ji),document.removeEventListener("touchmove",c,ji),document.removeEventListener("touchstart",d,ji)}},[]);var p=t.removeScrollBar,x=t.inert;return h.createElement(h.Fragment,null,x?h.createElement(i,{styles:v$(s)}):null,p?h.createElement(l$,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function w$(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const b$=YM(a1,x$);var wd=h.forwardRef(function(t,e){return h.createElement(xd,Br({},t,{ref:e,sideCar:b$}))});wd.classNames=xd.classNames;var _$=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ni=new WeakMap,vc=new WeakMap,yc={},$f=0,d1=function(t){return t&&(t.host||d1(t.parentNode))},k$=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=d1(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},S$=function(t,e,r,n){var s=k$(e,Array.isArray(t)?t:[t]);yc[r]||(yc[r]=new WeakMap);var i=yc[r],a=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(g){if(l.has(g))d(g);else try{var p=g.getAttribute(n),x=p!==null&&p!=="false",m=(Ni.get(g)||0)+1,b=(i.get(g)||0)+1;Ni.set(g,m),i.set(g,b),a.push(g),m===1&&x&&vc.set(g,!0),b===1&&g.setAttribute(r,"true"),x||g.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",g,y)}})};return d(e),l.clear(),$f++,function(){a.forEach(function(f){var g=Ni.get(f)-1,p=i.get(f)-1;Ni.set(f,g),i.set(f,p),g||(vc.has(f)||f.removeAttribute(n),vc.delete(f)),p||f.removeAttribute(r)}),$f--,$f||(Ni=new WeakMap,Ni=new WeakMap,vc=new WeakMap,yc={})}},Gm=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),s=_$(t);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),S$(n,s,r,"aria-hidden")):function(){return null}},bd="Dialog",[f1,h1]=ur(bd),[j$,Or]=f1(bd),p1=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:a=!0}=t,l=h.useRef(null),c=h.useRef(null),[u,d]=Pr({prop:n,defaultProp:s??!1,onChange:i,caller:bd});return o.jsx(j$,{scope:e,triggerRef:l,contentRef:c,contentId:Tt(),titleId:Tt(),descriptionId:Tt(),open:u,onOpenChange:d,onOpenToggle:h.useCallback(()=>d(f=>!f),[d]),modal:a,children:r})};p1.displayName=bd;var m1="DialogTrigger",g1=h.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Or(m1,r),i=Pe(e,s.triggerRef);return o.jsx(ce.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Zm(s.open),...n,ref:i,onClick:ae(t.onClick,s.onOpenToggle)})});g1.displayName=m1;var Ym="DialogPortal",[E$,v1]=f1(Ym,{forceMount:void 0}),y1=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:s}=t,i=Or(Ym,e);return o.jsx(E$,{scope:e,forceMount:r,children:h.Children.map(n,a=>o.jsx(Gr,{present:r||i.open,children:o.jsx(El,{asChild:!0,container:s,children:a})}))})};y1.displayName=Ym;var _u="DialogOverlay",x1=h.forwardRef((t,e)=>{const r=v1(_u,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,i=Or(_u,t.__scopeDialog);return i.modal?o.jsx(Gr,{present:n||i.open,children:o.jsx(C$,{...s,ref:e})}):null});x1.displayName=_u;var N$=Xs("DialogOverlay.RemoveScroll"),C$=h.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Or(_u,r);return o.jsx(wd,{as:N$,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(ce.div,{"data-state":Zm(s.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),ti="DialogContent",w1=h.forwardRef((t,e)=>{const r=v1(ti,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,i=Or(ti,t.__scopeDialog);return o.jsx(Gr,{present:n||i.open,children:i.modal?o.jsx(T$,{...s,ref:e}):o.jsx(P$,{...s,ref:e})})});w1.displayName=ti;var T$=h.forwardRef((t,e)=>{const r=Or(ti,t.__scopeDialog),n=h.useRef(null),s=Pe(e,r.contentRef,n);return h.useEffect(()=>{const i=n.current;if(i)return Gm(i)},[]),o.jsx(b1,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ae(t.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:ae(t.onPointerDownOutside,i=>{const a=i.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&i.preventDefault()}),onFocusOutside:ae(t.onFocusOutside,i=>i.preventDefault())})}),P$=h.forwardRef((t,e)=>{const r=Or(ti,t.__scopeDialog),n=h.useRef(!1),s=h.useRef(!1);return o.jsx(b1,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=t.onCloseAutoFocus)==null||a.call(t,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),b1=h.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=t,l=Or(ti,r),c=h.useRef(null),u=Pe(e,c);return Km(),o.jsxs(o.Fragment,{children:[o.jsx(yd,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(Ia,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Zm(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(A$,{titleId:l.titleId}),o.jsx(I$,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Qm="DialogTitle",_1=h.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Or(Qm,r);return o.jsx(ce.h2,{id:s.titleId,...n,ref:e})});_1.displayName=Qm;var k1="DialogDescription",S1=h.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Or(k1,r);return o.jsx(ce.p,{id:s.descriptionId,...n,ref:e})});S1.displayName=k1;var j1="DialogClose",E1=h.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Or(j1,r);return o.jsx(ce.button,{type:"button",...n,ref:e,onClick:ae(t.onClick,()=>s.onOpenChange(!1))})});E1.displayName=j1;function Zm(t){return t?"open":"closed"}var N1="DialogTitleWarning",[R$,C1]=KN(N1,{contentName:ti,titleName:Qm,docsSlug:"dialog"}),A$=({titleId:t})=>{const e=C1(N1),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return h.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},O$="DialogDescriptionWarning",I$=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${C1(O$).contentName}}.`;return h.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},_d=p1,T1=g1,kd=y1,qa=x1,Ha=w1,Al=_1,Ol=S1,Sd=E1;const D$=_d,M$=kd,P1=h.forwardRef(({className:t,...e},r)=>o.jsx(qa,{className:Z("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));P1.displayName=qa.displayName;const $$=ui("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),R1=h.forwardRef(({side:t="right",className:e,children:r,...n},s)=>o.jsxs(M$,{children:[o.jsx(P1,{}),o.jsxs(Ha,{ref:s,className:Z($$({side:t}),e),...n,children:[r,o.jsxs(Sd,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[o.jsx(Da,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));R1.displayName=Ha.displayName;const L$=h.forwardRef(({className:t,...e},r)=>o.jsx(Al,{ref:r,className:Z("text-lg font-semibold text-foreground",t),...e}));L$.displayName=Al.displayName;const F$=h.forwardRef(({className:t,...e},r)=>o.jsx(Ol,{ref:r,className:Z("text-sm text-muted-foreground",t),...e}));F$.displayName=Ol.displayName;const U$=[{icon:HC,label:"Dashboard",path:"/",adminOnly:!1},{icon:tT,label:"Point of Sale",path:"/pos",adminOnly:!1},{icon:_t,label:"Products",path:"/products",adminOnly:!1},{icon:uu,label:"Stock Purchases",path:"/purchases",adminOnly:!1},{icon:zC,label:"Sales Report",path:"/sales",adminOnly:!1},{icon:jb,label:"Racks",path:"/racks",adminOnly:!1}];function B$({isOpen:t,onClose:e}){const r=di(),{profile:n,isOwner:s,signOut:i}=Wa(),a=s?U$:[],l=()=>{e&&e()},c=o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"p-4 sm:p-6 border-b border-border/60",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-2xl bg-gradient-to-br from-primary to-primary/80 flex items-center justify-center shadow-lg flex-shrink-0",children:o.jsx(Eb,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary-foreground"})}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("h1",{className:"text-lg sm:text-xl font-bold text-foreground tracking-tight truncate",children:"ZamZam Medical Store"}),o.jsx("p",{className:"text-xs text-muted-foreground font-medium",children:"Management System"})]})]})}),o.jsx("nav",{className:"flex-1 p-4 space-y-1.5 overflow-y-auto",children:a.map(u=>{const d=r.pathname===u.path;return o.jsxs(EO,{to:u.path,onClick:l,className:Z("nav-item",d&&"nav-item-active"),children:[o.jsx(u.icon,{className:"w-5 h-5 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:u.label})]},u.path)})}),o.jsxs("div",{className:"p-4 border-t border-border/60 space-y-3",children:[o.jsx("div",{className:"p-3 rounded-xl bg-muted/50",children:o.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[o.jsx("p",{className:"text-sm font-medium text-foreground truncate min-w-0 flex-1",children:(n==null?void 0:n.full_name)||"User"}),o.jsxs(Ze,{variant:"default",className:"text-xs capitalize flex-shrink-0",children:[o.jsx(eT,{className:"w-3 h-3 mr-1"}),"Owner"]})]})}),o.jsxs(fe,{variant:"outline",className:"w-full justify-start",onClick:i,children:[o.jsx(KC,{className:"w-4 h-4 mr-2 flex-shrink-0"}),"Sign Out"]})]})]});return o.jsxs(o.Fragment,{children:[o.jsx("aside",{className:"hidden lg:flex fixed left-0 top-0 h-screen w-64 bg-card border-r border-border/60 flex-col shadow-sm z-40",children:c}),o.jsx(D$,{open:t,onOpenChange:u=>!u&&e&&e(),children:o.jsx(R1,{side:"left",className:"w-64 p-0",children:o.jsx("div",{className:"flex flex-col h-full",children:c})})})]})}function ri({children:t}){const[e,r]=h.useState(!1);return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("div",{className:"lg:hidden fixed top-0 left-0 right-0 z-50 bg-card border-b border-border/60 p-4 flex items-center justify-between shadow-sm",children:[o.jsx(fe,{variant:"ghost",size:"icon",onClick:()=>r(!0),className:"lg:hidden",children:o.jsx(GC,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 rounded-xl bg-gradient-to-br from-primary to-primary/80 flex items-center justify-center",children:o.jsx("span",{className:"text-primary-foreground text-sm font-bold",children:"HH"})}),o.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Health Haven"})]}),o.jsx("div",{className:"w-10"})," "]}),o.jsx(B$,{isOpen:e,onClose:()=>r(!1)}),o.jsx("main",{className:"lg:ml-64 min-h-screen pt-16 lg:pt-0",children:t})]})}const z$={default:"bg-card stat-card-gradient",warning:"bg-warning/5 border-warning/20",danger:"bg-destructive/5 border-destructive/20",success:"bg-success/5 border-success/20"},V$={default:"bg-primary/10 text-primary",warning:"bg-warning/15 text-warning",danger:"bg-destructive/15 text-destructive",success:"bg-success/15 text-success"};function Bn({title:t,value:e,icon:r,trend:n,variant:s="default"}){return o.jsx("div",{className:Z("stat-card fade-in",z$[s]),children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t}),o.jsx("p",{className:"mt-2 text-2xl font-bold text-foreground tracking-tight",children:e}),n&&o.jsxs("p",{className:Z("mt-2 text-sm font-medium",n.isPositive?"text-success":"text-destructive"),children:[n.isPositive?"+":"",n.value,"% from yesterday"]})]}),o.jsx("div",{className:Z("p-3 rounded-xl",V$[s]),children:r})]})})}function fi(){const[t,e]=h.useState([]),[r,n]=h.useState([]),[s,i]=h.useState(!0),[a,l]=h.useState(null),{user:c}=Wa(),u=1e3,d=h.useCallback(async(N,A)=>{try{l(null);let I=me.from("products").select(`
          *,
          rack:racks(id, name, color)
        `);if(N&&N.trim()!==""){const Q=N.trim().replace(/%/g,"\\%").replace(/_/g,"\\_");I=I.or(`name.ilike.${Q}%,barcode.eq.${Q}`)}A&&A.trim()!==""&&(I=I.eq("rack_id",A)),I=I.order("name"),(!N||N.trim()==="")&&(I=I.limit(u));const{data:D,error:W}=await I;if(W){const V=W&&typeof W=="object"?W:null;throw console.error("Error fetching products:",{message:W.message,code:W.code,details:W.details,hint:W.hint,error:W}),W}e(Array.isArray(D)?D:[])}catch(I){const D=I instanceof Error?I.message:"Failed to load products",W=I&&typeof I=="object"&&"code"in I?I:null;console.error("Error fetching products:",{message:D,error:I,details:W}),l(D),H.error("Failed to load products"),e([])}},[]),f=h.useCallback(async()=>{try{l(null);const{data:N,error:A}=await me.from("stock_batches").select("id, product_id, batch_number, quantity, cost_price, selling_price, expiry_date, purchase_date, supplier, created_by, created_at").order("expiry_date").limit(u);if(A)throw A;n(Array.isArray(N)?N:[])}catch(N){const A=N instanceof Error?N.message:"Failed to load batches";console.error("Error fetching batches:",N),l(A),H.error("Failed to load stock batches"),n([])}},[]),g=h.useCallback(async()=>{i(!0),l(null);try{await Promise.all([d(void 0,void 0),f()])}catch(N){console.error("Error in fetchAll:",N)}finally{i(!1)}},[d,f]);h.useEffect(()=>{g()},[g]),h.useEffect(()=>{const N=me.channel("products-changes").on("postgres_changes",{event:"*",schema:"public",table:"products"},I=>{I.eventType==="DELETE"&&I.old?e(D=>D.filter(W=>W.id!==I.old.id)):d(void 0,void 0)}).subscribe(),A=me.channel("batches-changes").on("postgres_changes",{event:"*",schema:"public",table:"stock_batches"},I=>{I.eventType==="INSERT"&&I.new?n(D=>D.some(Q=>Q.id===I.new.id)?D:[...D,I.new].sort((Q,C)=>Q.expiry_date.localeCompare(C.expiry_date))):I.eventType==="UPDATE"&&I.new?n(D=>D.map(W=>W.id===I.new.id?I.new:W).sort((W,V)=>W.expiry_date.localeCompare(V.expiry_date))):I.eventType==="DELETE"&&I.old?n(D=>D.filter(W=>W.id!==I.old.id)):f()}).subscribe();return()=>{me.removeChannel(N),me.removeChannel(A)}},[d,f]);const p=async()=>{try{const{data:N,error:A}=await me.rpc("generate_ean13");if(A)throw A;return N&&typeof N=="string"?N:null}catch(N){return console.error("Error generating barcode:",N),H.error("Failed to generate barcode"),null}},x=async N=>{var A,I,D,W,V,Q;try{if(!(c!=null&&c.id))return H.error("You must be logged in to add products"),null;const{data:C,error:j}=await me.from("user_roles").select("id").eq("user_id",c.id).maybeSingle();if(j||!C){console.warn("User missing role, creating owner role:",c.id);const{error:U}=await me.from("user_roles").insert({user_id:c.id,role:"owner",can_add_products:!0}).select("id").single();if(U)return console.error("Failed to create user role:",U),H.error("Permission setup failed",{description:"Unable to set up your permissions. Please contact support or try logging out and back in."}),null}if(!N.name||N.name.trim()==="")return H.error("Product name is required"),null;if(!N.rack_id||typeof N.rack_id=="string"&&N.rack_id.trim()==="")return H.error("Rack assignment is required"),null;if(typeof N.min_stock!="number"||isNaN(N.min_stock)||N.min_stock<0)return H.error("Minimum stock must be a valid number"),null;let L=((A=N.barcode)==null?void 0:A.trim())||null;if(!L){const U=await p();U?L=U:L=`HH-${Date.now()}-${Math.random().toString(36).substring(2,9)}`}const q=U=>{if(!U||typeof U!="string")return null;const M=U.trim();return M===""?null:M},T={name:N.name.trim(),barcode:L,strength:q(N.strength),dosage_form:q(N.dosage_form),category:q(N.category),manufacturer:q(N.manufacturer),rack_id:N.rack_id,min_stock:N.min_stock,is_active:!0,created_by:c.id},B=q(N.salt_formula);B!==null&&(T.salt_formula=B);const{data:F,error:P}=await me.from("products").insert(T).select(`
          *,
          rack:racks(id, name, color)
        `).single();if(P){if(console.error("Product insert error:",P),P.code==="23505")return H.error("Barcode already exists",{description:"Please use a different barcode or leave empty to auto-generate"}),null;if((I=P.message)!=null&&I.includes("row-level security policy")||P.code==="42501"){if(console.error("RLS Policy Error - User ID:",c==null?void 0:c.id,"Authenticated:",!!c),c!=null&&c.id){const{error:ne}=await me.from("user_roles").upsert({user_id:c.id,role:"owner",can_add_products:!0},{onConflict:"user_id,role"});if(!ne){const oe=await me.from("products").insert(T).select(`
                  *,
                  rack:racks(id, name, color)
                `).single();if(!oe.error&&oe.data)return e(ue=>[...ue,oe.data].sort((We,Re)=>We.name.localeCompare(Re.name))),H.success("Product added successfully"),oe.data}}return H.error("Permission denied",{description:"You do not have permission to add products. Please ensure you are logged in and have the proper role assigned. If the problem persists, try logging out and back in."}),null}if((D=P.message)!=null&&D.includes("Could not find")&&((W=P.message)!=null&&W.includes("column"))&&T.salt_formula){const{salt_formula:ne,...oe}=T,ue=await me.from("products").insert(oe).select(`
              *,
              rack:racks(id, name, color)
            `).single();if(!ue.error&&ue.data)return e(pe=>[...pe,ue.data].sort((Re,$e)=>Re.name.localeCompare($e.name))),H.success("Product added successfully (salt/formula field not available yet)"),ue.data}if((V=P.message)!=null&&V.includes("Could not find")&&((Q=P.message)!=null&&Q.includes("column")))return H.error("Database schema needs update",{description:"Please apply the latest migration to add the salt_formula column, or contact your administrator."}),null;const U=P.message||P.details||"Unknown error",M=P.hint||"",J=P.code||"";return console.error("Product insert failed:",{code:J,message:U,hint:M,details:P.details,user:c==null?void 0:c.id}),H.error("Failed to add product",{description:`${U}${J?` (Error: ${J})`:""}${M?` - ${M}`:""}`}),null}return F?(e(U=>[...U,F].sort((J,ne)=>J.name.localeCompare(ne.name))),H.success("Product added successfully"),F):(H.error("Product was not created",{description:"No data returned from server. Please try again"}),null)}catch(C){const j=C instanceof Error?C.message:"Failed to add product";return console.error("Error adding product:",C),H.error(j),null}},m=async(N,A)=>{var I,D,W,V,Q;try{if(!N||typeof N!="string")return H.error("Invalid product ID"),null;if(!(c!=null&&c.id))return H.error("You must be logged in to update products"),null;const{data:C}=await me.from("user_roles").select("id").eq("user_id",c.id).maybeSingle();C||await me.from("user_roles").insert({user_id:c.id,role:"owner",can_add_products:!0});const{rack:j,salt_formula:L,...q}=A,T=U=>{if(!U||typeof U!="string")return null;const M=U.trim();return M===""?null:M},B={...q};if(L!==void 0){const U=T(L);B.salt_formula=U}const{data:F,error:P}=await me.from("products").update(B).eq("id",N).select(`
          *,
          rack:racks(id, name, color)
        `).single();if(P){if((I=P.message)!=null&&I.includes("row-level security policy")||P.code==="42501")return H.error("Permission denied",{description:"You do not have permission to update products. Please ensure you are logged in and have the proper role assigned."}),null;if((D=P.message)!=null&&D.includes("Could not find")&&((W=P.message)!=null&&W.includes("column"))&&B.salt_formula!==void 0){const{salt_formula:J,...ne}=B,oe=await me.from("products").update(ne).eq("id",N).select(`
              *,
              rack:racks(id, name, color)
            `).single();if(!oe.error&&oe.data)return e(ue=>ue.map(pe=>pe.id===N?oe.data:pe)),H.success("Product updated (salt/formula field not available yet)"),oe.data}if((V=P.message)!=null&&V.includes("Could not find")&&((Q=P.message)!=null&&Q.includes("column")))return H.error("Database schema needs update",{description:"Please apply the latest migration to add the salt_formula column, or contact your administrator."}),null;const U=P.message||P.details||"Unknown error",M=P.code||"";return console.error("Product update failed:",{code:M,message:U,user:c==null?void 0:c.id}),H.error("Failed to update product",{description:`${U}${M?` (Error: ${M})`:""}`}),null}return F?(e(U=>U.map(M=>M.id===N?F:M)),H.success("Product updated"),F):(H.error("Product was not found"),null)}catch(C){const j=C instanceof Error?C.message:"Failed to update product";return console.error("Error updating product:",C),H.error(j),null}},b=async N=>{var A;try{if(!N||typeof N!="string")return H.error("Invalid product ID"),!1;if(!(c!=null&&c.id))return H.error("You must be logged in to disable products"),!1;const{data:I,error:D}=await me.from("products").update({is_active:!1}).eq("id",N).select(`
          *,
          rack:racks(id, name, color)
        `).single();if(D){if((A=D.message)!=null&&A.includes("row-level security policy")||D.code==="42501")return H.error("Permission denied",{description:"You do not have permission to disable products. Please ensure you are logged in and have the proper role assigned."}),!1;throw D}return I?(e(W=>W.map(V=>V.id===N?I:V)),H.success("Product disabled"),!0):(H.error("Product was not found"),!1)}catch(I){const D=I instanceof Error?I.message:"Failed to disable product";return console.error("Error disabling product:",I),H.error(D),!1}},y=async N=>{var A;try{if(!N||typeof N!="string")return H.error("Invalid product ID"),!1;if(!(c!=null&&c.id))return H.error("You must be logged in to enable products"),!1;const{data:I,error:D}=await me.from("products").update({is_active:!0}).eq("id",N).select(`
          *,
          rack:racks(id, name, color)
        `).single();if(D){if((A=D.message)!=null&&A.includes("row-level security policy")||D.code==="42501")return H.error("Permission denied",{description:"You do not have permission to enable products. Please ensure you are logged in and have the proper role assigned."}),!1;throw D}return I?(e(W=>W.map(V=>V.id===N?I:V)),H.success("Product enabled"),!0):(H.error("Product was not found"),!1)}catch(I){const D=I instanceof Error?I.message:"Failed to enable product";return console.error("Error enabling product:",I),H.error(D),!1}},v=h.useCallback(N=>{if(!N||typeof N!="string")return;const A=N.trim();if(A)return t.find(I=>I.barcode&&I.barcode.trim()===A&&I.is_active!==!1)||void 0},[t]),w=h.useCallback(N=>{if(!N||typeof N!="string")return 0;const A=new Date().toISOString().split("T")[0];return r.filter(I=>I&&I.product_id===N&&I.expiry_date>=A).reduce((I,D)=>I+(D.quantity||0),0)},[r]),_=h.useCallback(N=>!N||typeof N!="string"?[]:r.filter(A=>A&&A.product_id===N),[r]),k=h.useCallback(N=>{if(!N||typeof N!="string")return[];const A=new Date().toISOString().split("T")[0];return r.filter(I=>I&&I.product_id===N&&(I.quantity||0)>0&&I.expiry_date>=A).sort((I,D)=>I.expiry_date.localeCompare(D.expiry_date))},[r]),E=h.useCallback((N=30)=>{const A=new Date,I=new Date(A);I.setDate(I.getDate()+N);const D=A.toISOString().split("T")[0],W=I.toISOString().split("T")[0];return r.filter(V=>V.quantity>0&&V.expiry_date>=D&&V.expiry_date<=W).sort((V,Q)=>V.expiry_date.localeCompare(Q.expiry_date))},[r]),S=h.useCallback(()=>{const N=new Date().toISOString().split("T")[0];return r.filter(A=>A.quantity>0&&A.expiry_date<N).sort((A,I)=>A.expiry_date.localeCompare(I.expiry_date))},[r]),R=async N=>{try{if(!(c!=null&&c.id))return H.error("You must be logged in to add stock batches"),null;const{data:A,error:I}=await me.from("stock_batches").insert({...N,created_by:c.id}).select().single();if(I)throw I;return A?(n(D=>[...D,A].sort((V,Q)=>V.expiry_date.localeCompare(Q.expiry_date))),H.success("Stock batch added"),A):(H.error("Stock batch was not created"),null)}catch(A){const I=A instanceof Error?A.message:"Failed to add stock batch";return console.error("Error adding batch:",A),H.error(I),null}},$=async(N,A)=>{try{const{error:I}=await me.from("stock_batches").update({quantity:A}).eq("id",N);if(I)throw I;return n(D=>D.map(W=>W.id===N?{...W,quantity:A}:W)),!0}catch(I){const D=I instanceof Error?I.message:"Failed to update batch";return console.error("Error updating batch:",I),H.error(D),!1}},O=h.useCallback(()=>g(),[g]);return{products:t,batches:r,loading:s,error:a,addProduct:x,updateProduct:m,disableProduct:b,enableProduct:y,getProductByBarcode:v,getProductStock:w,getProductBatches:_,getAvailableBatches:k,getExpiringBatches:E,getExpiredBatches:S,generateBarcode:p,addBatch:R,updateBatchQuantity:$,refetch:O,fetchProducts:d}}function jd(){const[t,e]=h.useState([]),[r,n]=h.useState(!0),[s,i]=h.useState(null),{user:a}=Wa(),l=1e3,c=h.useCallback(async()=>{var x;try{i(null);const{data:m,error:b}=await me.from("sales").select(`
          id, receipt_number, total, payment_method, cashier_id, created_at, discount,
          items:sale_items(id, sale_id, product_id, product_name, quantity, unit_price, total, batch_deductions),
          returns:sales_returns(id, receipt_number, created_at, return_items(id, sale_item_id, quantity, product_id))
        `).order("created_at",{ascending:!1}).limit(l);if(b){if((x=b.message)!=null&&x.includes("discount")||b.code==="42703"||b.code==="PGRST116"){console.warn("Discount column not found, retrying without it");const{data:y,error:v}=await me.from("sales").select(`
              id, receipt_number, total, payment_method, cashier_id, created_at,
              items:sale_items(id, sale_id, product_id, product_name, quantity, unit_price, total, batch_deductions),
              returns:sales_returns(id, receipt_number, created_at, return_items(id, sale_item_id, quantity, product_id))
            `).order("created_at",{ascending:!1}).limit(l);if(v)throw v;e(Array.isArray(y)?y:[]);return}throw b}e(Array.isArray(m)?m:[])}catch(m){const b=m instanceof Error?m.message:"Failed to load sales",y=m&&typeof m=="object"&&"code"in m?m:null;console.error("Error fetching sales:",{message:b,error:m,details:y,code:y&&"code"in y?y.code:void 0}),i(b),H.error("Failed to load sales"),e([])}finally{n(!1)}},[]);h.useEffect(()=>{c()},[c]);const u=async()=>{try{const{data:x}=await me.from("sales").select("receipt_number").ilike("receipt_number","ZZ-%").order("created_at",{ascending:!1}).limit(1).maybeSingle();let m=1;if(x&&x.receipt_number){const b=x.receipt_number.split("-");if(b.length===2){const y=parseInt(b[1],10);isNaN(y)||(m=y+1)}}return`ZZ-${m.toString().padStart(5,"0")}`}catch(x){console.error("Error generating receipt number:",x);const m=new Date;return m.toISOString().slice(0,10).replace(/-/g,""),`ZZ-${m.getTime().toString().slice(-6).slice(-5)}`}},d=async(x,m,b)=>{try{const y=[];for(const O of x){if(!O||!O.product_id||!O.product_name)return{success:!1,error:"Invalid cart item"};const N=b(O.product_id),A=N.reduce((W,V)=>W+((V==null?void 0:V.quantity)||0),0);if(A<O.quantity)return{success:!1,error:`Insufficient stock for ${O.product_name}. Available: ${A}`};let I=O.quantity;const D=[];for(const W of N){if(I<=0||!W)break;const V=Math.min(W.quantity||0,I);V<=0||(D.push({batch_id:W.id,batch_number:W.batch_number||"",quantity:V,expiry_date:W.expiry_date||""}),I-=V)}y.push({product_id:O.product_id,product_name:O.product_name,quantity:O.quantity,unit_price:O.unit_price,total:O.total,batch_deductions:D})}const v=await u(),w=x.reduce((O,N)=>O+N.total,0),{data:_,error:k}=await me.from("sales").insert({receipt_number:v,total:w,payment_method:m,cashier_id:a==null?void 0:a.id}).select().single();if(k)throw k;const E=y.map(O=>({sale_id:_.id,product_id:O.product_id,product_name:O.product_name,quantity:O.quantity,unit_price:O.unit_price,total:O.total,batch_deductions:O.batch_deductions})),{error:S}=await me.from("sale_items").insert(E);if(S)throw S;const R=[],$=new Set;for(const O of y)for(const N of O.batch_deductions)$.add(N.batch_id);if($.size>0){const{data:O}=await me.from("stock_batches").select("id, quantity").in("id",Array.from($));if(O){const N=new Map(O.map(A=>[A.id,A.quantity]));for(const A of y)for(const I of A.batch_deductions){const W=(N.get(I.batch_id)||0)-I.quantity;R.push({id:I.batch_id,quantity:W})}await Promise.all(R.map(A=>me.from("stock_batches").update({quantity:A.quantity}).eq("id",A.id)))}}return await c(),_?{success:!0,sale:_}:{success:!1,error:"Sale was not created"}}catch(y){const v=y instanceof Error?y.message:"Failed to process sale";return console.error("Error processing sale:",y),{success:!1,error:v}}},f=async(x,m,b)=>{try{if(!x||!m.length)return{success:!1,error:"Invalid return request"};const y=new Date,v=y.toISOString().slice(0,10).replace(/-/g,""),w=y.getTime().toString().slice(-6),_=`RET-${v}-${w}`,{data:k,error:E}=await me.from("sales_returns").insert({sale_id:x,receipt_number:_,return_reason:b,returned_by:a==null?void 0:a.id}).select().single();if(E)throw E;const S=[],R=[],$=new Set;for(const O of m){let N=O.quantity;if(O.batch_deductions&&O.batch_deductions.length>0)for(const A of O.batch_deductions){if(N<=0)break;const I=Math.min(A.quantity,N);I>0&&(S.push({return_id:k.id,sale_item_id:O.sale_item_id,product_id:O.product_id,batch_id:A.batch_id,quantity:I}),$.add(A.batch_id),N-=I)}else S.push({return_id:k.id,sale_item_id:O.sale_item_id,product_id:O.product_id,batch_id:null,quantity:N})}if(S.length>0){const{error:O}=await me.from("return_items").insert(S);if(O)throw O}if($.size>0){const{data:O}=await me.from("stock_batches").select("id, quantity").in("id",Array.from($));if(O){const N=new Map(O.map(A=>[A.id,A.quantity]));for(const A of S)if(A.batch_id){const D=(N.get(A.batch_id)||0)+A.quantity;R.push({id:A.batch_id,quantity:D}),N.set(A.batch_id,D)}await Promise.all(R.map(A=>me.from("stock_batches").update({quantity:A.quantity}).eq("id",A.id)))}}return await c(),{success:!0}}catch(y){const v=y instanceof Error?y.message:"Failed to process return";return console.error("Error processing return:",y),{success:!1,error:v}}},g=async x=>{try{if(!x||typeof x!="string")return null;const{data:m,error:b}=await me.from("sales").select(`
          *,
          items:sale_items(*),
          returns:sales_returns(id, receipt_number, created_at, return_items(id, sale_item_id, quantity, product_id))
        `).eq("receipt_number",x).maybeSingle();if(b)throw b;return m||null}catch(m){const b=m instanceof Error?m.message:"Failed to fetch sale";return console.error("Error fetching sale:",m),H.error(b),null}},p=h.useCallback(()=>c(),[c]);return{sales:t,loading:r,error:s,processSale:d,processReturn:f,getSaleByReceipt:g,refetch:p}}const nr=h.forwardRef(({className:t,...e},r)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:r,className:Z("w-full caption-bottom text-sm",t),...e})}));nr.displayName="Table";const sr=h.forwardRef(({className:t,...e},r)=>o.jsx("thead",{ref:r,className:Z("[&_tr]:border-b",t),...e}));sr.displayName="TableHeader";const ir=h.forwardRef(({className:t,...e},r)=>o.jsx("tbody",{ref:r,className:Z("[&_tr:last-child]:border-0",t),...e}));ir.displayName="TableBody";const W$=h.forwardRef(({className:t,...e},r)=>o.jsx("tfoot",{ref:r,className:Z("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));W$.displayName="TableFooter";const Oe=h.forwardRef(({className:t,...e},r)=>o.jsx("tr",{ref:r,className:Z("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",t),...e}));Oe.displayName="TableRow";const le=h.forwardRef(({className:t,...e},r)=>o.jsx("th",{ref:r,className:Z("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));le.displayName="TableHead";const te=h.forwardRef(({className:t,...e},r)=>o.jsx("td",{ref:r,className:Z("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));te.displayName="TableCell";const q$=h.forwardRef(({className:t,...e},r)=>o.jsx("caption",{ref:r,className:Z("mt-4 text-sm text-muted-foreground",t),...e}));q$.displayName="TableCaption";function H$(){const{products:t,getProductStock:e,getExpiringBatches:r,getExpiredBatches:n}=fi(),{sales:s}=jd(),i=vd(),[a,l]=h.useState(!1),[c,u]=h.useState(null);h.useEffect(()=>{(async()=>{try{const{count:m,error:b}=await me.from("products").select("*",{count:"exact",head:!0}).neq("is_active",!1);!b&&m!==null&&u(m)}catch(m){console.error("Error fetching product count:",m)}})()},[]);const d=r(30),f=n(),g=h.useMemo(()=>{const x=Array.isArray(s)?s:[],m=Array.isArray(t)?t.filter(k=>k.is_active!==!1):[],b=Array.isArray(d)?d:[],y=Array.isArray(f)?f:[],v=x.filter(k=>k&&k.created_at&&kt(new Date(k.created_at),"yyyy-MM-dd")===kt(i,"yyyy-MM-dd")).reduce((k,E)=>k+((E==null?void 0:E.total)||0),0),w=m.filter(k=>{if(!k||!k.id)return!1;const E=e(k.id);return E<=(k.min_stock||0)&&E>0}),_=m.filter(k=>!k||!k.id?!1:e(k.id)<=0);return{todaySales:v,totalProducts:c!==null?c:m.length,lowStockCount:w.length,outOfStockCount:_.length,expiringCount:b.length,expiredCount:y.length,lowStockProducts:w,outOfStockProducts:_}},[t,s,i,e,d,f,c]),p=h.useMemo(()=>[...Array.isArray(s)?s:[]].filter(m=>m&&m.created_at).sort((m,b)=>{const y=m.created_at?new Date(m.created_at).getTime():0;return(b.created_at?new Date(b.created_at).getTime():0)-y}).slice(0,5),[s]);return o.jsx(ri,{children:o.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[o.jsxs("div",{className:"page-header mb-6 sm:mb-8",children:[o.jsx("h1",{className:"page-title text-2xl sm:text-3xl",children:"Dashboard"}),o.jsxs("p",{className:"page-subtitle text-sm sm:text-base",children:["Welcome back! Here's your pharmacy overview for ",kt(i,"MMMM d, yyyy")]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[o.jsx(Bn,{title:"Today's Sales",value:_e(g.todaySales),icon:o.jsx(lu,{className:"w-6 h-6"}),variant:"success"}),o.jsx(Bn,{title:"Total Products",value:g.totalProducts,icon:o.jsx(_t,{className:"w-6 h-6"})}),o.jsx(Bn,{title:"Low Stock Items",value:g.lowStockCount,icon:o.jsx(Zn,{className:"w-6 h-6"}),variant:g.lowStockCount>0?"warning":"default"}),o.jsx(Bn,{title:"Expiring Batches (30d)",value:g.expiringCount,icon:o.jsx(Ov,{className:"w-6 h-6"}),variant:g.expiringCount>0?"danger":"default"})]}),g.expiredCount>0&&!a&&o.jsxs("div",{className:"mb-4 sm:mb-6 p-3 sm:p-4 bg-destructive/10 border border-destructive/30 rounded-2xl relative",children:[o.jsxs("div",{className:"flex items-start sm:items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-xl bg-destructive/20 flex items-center justify-center flex-shrink-0",children:o.jsx(Zn,{className:"w-5 h-5 text-destructive"})}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("h3",{className:"font-semibold text-destructive text-sm sm:text-base",children:"Expired Stock Alert"}),o.jsxs("p",{className:"text-xs sm:text-sm text-destructive/80",children:[g.expiredCount," batch(es) have expired and cannot be sold. Consider disposing of expired stock."]})]})]}),o.jsx("button",{onClick:()=>l(!0),className:"absolute right-2 top-2 rounded-md p-1 text-destructive/70 hover:text-destructive hover:bg-destructive/20 transition-colors focus:outline-none focus:ring-2 focus:ring-destructive/50","aria-label":"Dismiss notification",children:o.jsx(Da,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[o.jsxs("div",{className:"bg-card rounded-2xl border border-border/60 p-4 sm:p-6 shadow-sm",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-5",children:[o.jsx("div",{className:"w-10 h-10 rounded-xl bg-warning/15 flex items-center justify-center flex-shrink-0",children:o.jsx(Zn,{className:"w-5 h-5 text-warning"})}),o.jsx("h2",{className:"text-base sm:text-lg font-semibold text-foreground",children:"Low Stock Alert"})]}),g.lowStockProducts.length>0?o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(nr,{children:[o.jsx(sr,{children:o.jsxs(Oe,{children:[o.jsx(le,{children:"Product"}),o.jsx(le,{className:"text-right",children:"Stock"}),o.jsx(le,{className:"text-right",children:"Min Stock"})]})}),o.jsx(ir,{children:g.lowStockProducts.slice(0,5).map(x=>!x||!x.id?null:o.jsxs(Oe,{children:[o.jsxs(te,{className:"font-medium",children:[x.name||"Unknown Product"," ",x.strength&&o.jsx("span",{className:"text-primary text-xs",children:x.strength})]}),o.jsx(te,{className:"text-right",children:o.jsx(Ze,{variant:"destructive",children:e(x.id)})}),o.jsx(te,{className:"text-right text-muted-foreground",children:x.min_stock??0})]},x.id))})]})}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"w-12 h-12 rounded-xl bg-muted/50 flex items-center justify-center mx-auto mb-3",children:o.jsx(_t,{className:"w-6 h-6 text-muted-foreground/50"})}),o.jsx("p",{className:"text-muted-foreground text-sm sm:text-base",children:"All products are well stocked!"})]})]}),o.jsxs("div",{className:"bg-card rounded-2xl border border-border/60 p-4 sm:p-6 shadow-sm",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-5",children:[o.jsx("div",{className:"w-10 h-10 rounded-xl bg-destructive/15 flex items-center justify-center flex-shrink-0",children:o.jsx(Ov,{className:"w-5 h-5 text-destructive"})}),o.jsx("h2",{className:"text-base sm:text-lg font-semibold text-foreground",children:"Expiring Soon (30 days)"})]}),d.length>0?o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(nr,{children:[o.jsx(sr,{children:o.jsxs(Oe,{children:[o.jsx(le,{children:"Product / Batch"}),o.jsx(le,{className:"text-right",children:"Expiry"}),o.jsx(le,{className:"text-right",children:"Qty"})]})}),o.jsx(ir,{children:d.slice(0,5).map(x=>{if(!x||!x.id)return null;const m=t.find(b=>b&&b.id===x.product_id);return o.jsxs(Oe,{children:[o.jsx(te,{children:o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:(m==null?void 0:m.name)||"Unknown Product"}),o.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:x.batch_number||"N/A"})]})}),o.jsx(te,{className:"text-right",children:o.jsx(Ze,{className:"bg-warning text-warning-foreground",children:x.expiry_date?kt(tr(x.expiry_date),"MMM d, yyyy"):"N/A"})}),o.jsx(te,{className:"text-right text-muted-foreground",children:x.quantity??0})]},x.id)})})]})}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"w-12 h-12 rounded-xl bg-muted/50 flex items-center justify-center mx-auto mb-3",children:o.jsx(cu,{className:"w-6 h-6 text-muted-foreground/50"})}),o.jsx("p",{className:"text-muted-foreground text-sm sm:text-base",children:"No batches expiring soon!"})]})]}),o.jsxs("div",{className:"bg-card rounded-2xl border border-border/60 p-4 sm:p-6 shadow-sm lg:col-span-2",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-5",children:[o.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/15 flex items-center justify-center flex-shrink-0",children:o.jsx(uu,{className:"w-5 h-5 text-primary"})}),o.jsx("h2",{className:"text-base sm:text-lg font-semibold text-foreground",children:"Recent Sales"})]}),p.length>0?o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(nr,{children:[o.jsx(sr,{children:o.jsxs(Oe,{children:[o.jsx(le,{children:"Sale ID"}),o.jsx(le,{children:"Items"}),o.jsx(le,{children:"Payment"}),o.jsx(le,{children:"Date"}),o.jsx(le,{className:"text-right",children:"Total"})]})}),o.jsx(ir,{children:p.map(x=>!x||!x.id?null:o.jsxs(Oe,{children:[o.jsxs(te,{className:"font-mono text-sm",children:["#",x.id]}),o.jsxs(te,{children:[Array.isArray(x.items)?x.items.length:0," items"]}),o.jsx(te,{children:o.jsx(Ze,{variant:"outline",className:"capitalize",children:x.payment_method||"N/A"})}),o.jsx(te,{className:"text-muted-foreground",children:x.created_at?kt(new Date(x.created_at),"MMM d, h:mm a"):"N/A"}),o.jsx(te,{className:"text-right font-semibold text-primary",children:_e(x.total||0)})]},x.id))})]})}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"w-12 h-12 rounded-xl bg-muted/50 flex items-center justify-center mx-auto mb-3",children:o.jsx(uu,{className:"w-6 h-6 text-muted-foreground/50"})}),o.jsx("p",{className:"text-muted-foreground text-sm sm:text-base",children:"No sales yet. Start selling to see data here!"})]})]})]})]})})}const K$=()=>o.jsx(H$,{}),Ie=h.forwardRef(({className:t,type:e,...r},n)=>o.jsx("input",{type:e,className:Z("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));Ie.displayName="Input";var G$="Label",A1=h.forwardRef((t,e)=>o.jsx(ce.label,{...t,ref:e,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));A1.displayName=G$;var O1=A1;const Y$=ui("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),je=h.forwardRef(({className:t,...e},r)=>o.jsx(O1,{ref:r,className:Z(Y$(),t),...e}));je.displayName=O1.displayName;var Q$=h.createContext(void 0);function Ed(t){const e=h.useContext(Q$);return t||e||"ltr"}var Lf="rovingFocusGroup.onEntryFocus",Z$={bubbles:!1,cancelable:!0},Il="RovingFocusGroup",[op,I1,J$]=vm(Il),[X$,Nd]=ur(Il,[J$]),[e4,t4]=X$(Il),D1=h.forwardRef((t,e)=>o.jsx(op.Provider,{scope:t.__scopeRovingFocusGroup,children:o.jsx(op.Slot,{scope:t.__scopeRovingFocusGroup,children:o.jsx(r4,{...t,ref:e})})}));D1.displayName=Il;var r4=h.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,g=h.useRef(null),p=Pe(e,g),x=Ed(i),[m,b]=Pr({prop:a,defaultProp:l??null,onChange:c,caller:Il}),[y,v]=h.useState(!1),w=cr(u),_=I1(r),k=h.useRef(!1),[E,S]=h.useState(0);return h.useEffect(()=>{const R=g.current;if(R)return R.addEventListener(Lf,w),()=>R.removeEventListener(Lf,w)},[w]),o.jsx(e4,{scope:r,orientation:n,dir:x,loop:s,currentTabStopId:m,onItemFocus:h.useCallback(R=>b(R),[b]),onItemShiftTab:h.useCallback(()=>v(!0),[]),onFocusableItemAdd:h.useCallback(()=>S(R=>R+1),[]),onFocusableItemRemove:h.useCallback(()=>S(R=>R-1),[]),children:o.jsx(ce.div,{tabIndex:y||E===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...t.style},onMouseDown:ae(t.onMouseDown,()=>{k.current=!0}),onFocus:ae(t.onFocus,R=>{const $=!k.current;if(R.target===R.currentTarget&&$&&!y){const O=new CustomEvent(Lf,Z$);if(R.currentTarget.dispatchEvent(O),!O.defaultPrevented){const N=_().filter(V=>V.focusable),A=N.find(V=>V.active),I=N.find(V=>V.id===m),W=[A,I,...N].filter(Boolean).map(V=>V.ref.current);L1(W,d)}}k.current=!1}),onBlur:ae(t.onBlur,()=>v(!1))})})}),M1="RovingFocusGroupItem",$1=h.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:a,...l}=t,c=Tt(),u=i||c,d=t4(M1,r),f=d.currentTabStopId===u,g=I1(r),{onFocusableItemAdd:p,onFocusableItemRemove:x,currentTabStopId:m}=d;return h.useEffect(()=>{if(n)return p(),()=>x()},[n,p,x]),o.jsx(op.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:o.jsx(ce.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:e,onMouseDown:ae(t.onMouseDown,b=>{n?d.onItemFocus(u):b.preventDefault()}),onFocus:ae(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:ae(t.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const y=i4(b,d.orientation,d.dir);if(y!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let w=g().filter(_=>_.focusable).map(_=>_.ref.current);if(y==="last")w.reverse();else if(y==="prev"||y==="next"){y==="prev"&&w.reverse();const _=w.indexOf(b.currentTarget);w=d.loop?a4(w,_+1):w.slice(_+1)}setTimeout(()=>L1(w))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:m!=null}):a})})});$1.displayName=M1;var n4={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function s4(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function i4(t,e,r){const n=s4(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return n4[n]}function L1(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function a4(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var F1=D1,U1=$1,Cd="Tabs",[o4,WF]=ur(Cd,[Nd]),B1=Nd(),[l4,Jm]=o4(Cd),z1=h.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=t,d=Ed(l),[f,g]=Pr({prop:n,onChange:s,defaultProp:i??"",caller:Cd});return o.jsx(l4,{scope:r,baseId:Tt(),value:f,onValueChange:g,orientation:a,dir:d,activationMode:c,children:o.jsx(ce.div,{dir:d,"data-orientation":a,...u,ref:e})})});z1.displayName=Cd;var V1="TabsList",W1=h.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...s}=t,i=Jm(V1,r),a=B1(r);return o.jsx(F1,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:n,children:o.jsx(ce.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});W1.displayName=V1;var q1="TabsTrigger",H1=h.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=t,a=Jm(q1,r),l=B1(r),c=Y1(a.baseId,n),u=Q1(a.baseId,n),d=n===a.value;return o.jsx(U1,{asChild:!0,...l,focusable:!s,active:d,children:o.jsx(ce.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:e,onMouseDown:ae(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?a.onValueChange(n):f.preventDefault()}),onKeyDown:ae(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(n)}),onFocus:ae(t.onFocus,()=>{const f=a.activationMode!=="manual";!d&&!s&&f&&a.onValueChange(n)})})})});H1.displayName=q1;var K1="TabsContent",G1=h.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...a}=t,l=Jm(K1,r),c=Y1(l.baseId,n),u=Q1(l.baseId,n),d=n===l.value,f=h.useRef(d);return h.useEffect(()=>{const g=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(g)},[]),o.jsx(Gr,{present:s||d,children:({present:g})=>o.jsx(ce.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!g,id:u,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:g&&i})})});G1.displayName=K1;function Y1(t,e){return`${t}-trigger-${e}`}function Q1(t,e){return`${t}-content-${e}`}var c4=z1,Z1=W1,J1=H1,X1=G1;const ek=c4,Xm=h.forwardRef(({className:t,...e},r)=>o.jsx(Z1,{ref:r,className:Z("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Xm.displayName=Z1.displayName;const pl=h.forwardRef(({className:t,...e},r)=>o.jsx(J1,{ref:r,className:Z("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));pl.displayName=J1.displayName;const ml=h.forwardRef(({className:t,...e},r)=>o.jsx(X1,{ref:r,className:Z("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));ml.displayName=X1.displayName;var Te;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{const i={};for(const a of s)i[a]=a;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),a={};for(const l of i)a[l]=s[l];return t.objectValues(a)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},t.find=(s,i)=>{for(const a of s)if(i(a))return a},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}t.joinValues=n,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Te||(Te={}));var sx;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(sx||(sx={}));const re=Te.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Tn=t=>{switch(typeof t){case"undefined":return re.undefined;case"string":return re.string;case"number":return Number.isNaN(t)?re.nan:re.number;case"boolean":return re.boolean;case"function":return re.function;case"bigint":return re.bigint;case"symbol":return re.symbol;case"object":return Array.isArray(t)?re.array:t===null?re.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?re.promise:typeof Map<"u"&&t instanceof Map?re.map:typeof Set<"u"&&t instanceof Set?re.set:typeof Date<"u"&&t instanceof Date?re.date:re.object;default:return re.unknown}},Y=Te.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ar extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(i){return i.message},n={_errors:[]},s=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)n._errors.push(r(a));else{let l=n,c=0;for(;c<a.path.length;){const u=a.path[c];c===a.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(a))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),n}static assert(e){if(!(e instanceof ar))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Te.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];r[i]=r[i]||[],r[i].push(e(s))}else n.push(e(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}ar.create=t=>new ar(t);const lp=(t,e)=>{let r;switch(t.code){case Y.invalid_type:t.received===re.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case Y.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Te.jsonStringifyReplacer)}`;break;case Y.unrecognized_keys:r=`Unrecognized key(s) in object: ${Te.joinValues(t.keys,", ")}`;break;case Y.invalid_union:r="Invalid input";break;case Y.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Te.joinValues(t.options)}`;break;case Y.invalid_enum_value:r=`Invalid enum value. Expected ${Te.joinValues(t.options)}, received '${t.received}'`;break;case Y.invalid_arguments:r="Invalid function arguments";break;case Y.invalid_return_type:r="Invalid function return type";break;case Y.invalid_date:r="Invalid date";break;case Y.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Te.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case Y.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case Y.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case Y.custom:r="Invalid input";break;case Y.invalid_intersection_types:r="Intersection results could not be merged";break;case Y.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case Y.not_finite:r="Number must be finite";break;default:r=e.defaultError,Te.assertNever(t)}return{message:r}};let u4=lp;function d4(){return u4}const f4=t=>{const{data:e,path:r,errorMaps:n,issueData:s}=t,i=[...r,...s.path||[]],a={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(a,{data:e,defaultError:l}).message;return{...s,path:i,message:l}};function X(t,e){const r=d4(),n=f4({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===lp?void 0:lp].filter(s=>!!s)});t.common.issues.push(n)}class Kt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const s of r){if(s.status==="aborted")return ge;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const s of r){const i=await s.key,a=await s.value;n.push({key:i,value:a})}return Kt.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const s of r){const{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return ge;i.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(n[i.value]=a.value)}return{status:e.value,value:n}}}const ge=Object.freeze({status:"aborted"}),yo=t=>({status:"dirty",value:t}),dr=t=>({status:"valid",value:t}),ix=t=>t.status==="aborted",ax=t=>t.status==="dirty",Ea=t=>t.status==="valid",ku=t=>typeof Promise<"u"&&t instanceof Promise;var se;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(se||(se={}));class us{constructor(e,r,n,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ox=(t,e)=>{if(Ea(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new ar(t.common.issues);return this._error=r,this._error}}};function ke(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:s}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(a,l)=>{const{message:c}=t;return a.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:a.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:s}}class Ne{get description(){return this._def.description}_getType(e){return Tn(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Tn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Kt,ctx:{common:e.parent.common,data:e.data,parsedType:Tn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(ku(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Tn(e)},s=this._parseSync({data:e,path:n.path,parent:n});return ox(n,s)}"~validate"(e){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Tn(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:r});return Ea(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(s=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(i=>Ea(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Tn(e)},s=this._parse({data:e,path:n.path,parent:n}),i=await(ku(s)?s:Promise.resolve(s));return ox(n,i)}refine(e,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const a=e(s),l=()=>i.addIssue({code:Y.custom,...n(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(l(),!1)):a?!0:(l(),!1)})}refinement(e,r){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(e){return new Ca({schema:this,typeName:ve.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Xn.create(this,this._def)}nullable(){return Ta.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Hr.create(this)}promise(){return Nu.create(this,this._def)}or(e){return ju.create([this,e],this._def)}and(e){return Eu.create(this,e,this._def)}transform(e){return new Ca({...ke(this._def),schema:this,typeName:ve.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new up({...ke(this._def),innerType:this,defaultValue:r,typeName:ve.ZodDefault})}brand(){return new D4({typeName:ve.ZodBranded,type:this,...ke(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new dp({...ke(this._def),innerType:this,catchValue:r,typeName:ve.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return eg.create(this,e)}readonly(){return fp.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const h4=/^c[^\s-]{8,}$/i,p4=/^[0-9a-z]+$/,m4=/^[0-9A-HJKMNP-TV-Z]{26}$/i,g4=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,v4=/^[a-z0-9_-]{21}$/i,y4=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,x4=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,w4=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,b4="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ff;const _4=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,k4=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,S4=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,j4=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,E4=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,N4=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,tk="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",C4=new RegExp(`^${tk}$`);function rk(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function T4(t){return new RegExp(`^${rk(t)}$`)}function P4(t){let e=`${tk}T${rk(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function R4(t,e){return!!((e==="v4"||!e)&&_4.test(t)||(e==="v6"||!e)&&S4.test(t))}function A4(t,e){if(!y4.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function O4(t,e){return!!((e==="v4"||!e)&&k4.test(t)||(e==="v6"||!e)&&j4.test(t))}class zn extends Ne{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==re.string){const i=this._getOrReturnCtx(e);return X(i,{code:Y.invalid_type,expected:re.string,received:i.parsedType}),ge}const n=new Kt;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),X(s,{code:Y.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),X(s,{code:Y.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const a=e.data.length>i.value,l=e.data.length<i.value;(a||l)&&(s=this._getOrReturnCtx(e,s),a?X(s,{code:Y.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&X(s,{code:Y.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")w4.test(e.data)||(s=this._getOrReturnCtx(e,s),X(s,{validation:"email",code:Y.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Ff||(Ff=new RegExp(b4,"u")),Ff.test(e.data)||(s=this._getOrReturnCtx(e,s),X(s,{validation:"emoji",code:Y.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")g4.test(e.data)||(s=this._getOrReturnCtx(e,s),X(s,{validation:"uuid",code:Y.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")v4.test(e.data)||(s=this._getOrReturnCtx(e,s),X(s,{validation:"nanoid",code:Y.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")h4.test(e.data)||(s=this._getOrReturnCtx(e,s),X(s,{validation:"cuid",code:Y.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")p4.test(e.data)||(s=this._getOrReturnCtx(e,s),X(s,{validation:"cuid2",code:Y.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")m4.test(e.data)||(s=this._getOrReturnCtx(e,s),X(s,{validation:"ulid",code:Y.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),X(s,{validation:"url",code:Y.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),X(s,{validation:"regex",code:Y.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),X(s,{code:Y.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),X(s,{code:Y.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),X(s,{code:Y.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?P4(i).test(e.data)||(s=this._getOrReturnCtx(e,s),X(s,{code:Y.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?C4.test(e.data)||(s=this._getOrReturnCtx(e,s),X(s,{code:Y.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?T4(i).test(e.data)||(s=this._getOrReturnCtx(e,s),X(s,{code:Y.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?x4.test(e.data)||(s=this._getOrReturnCtx(e,s),X(s,{validation:"duration",code:Y.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?R4(e.data,i.version)||(s=this._getOrReturnCtx(e,s),X(s,{validation:"ip",code:Y.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?A4(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),X(s,{validation:"jwt",code:Y.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?O4(e.data,i.version)||(s=this._getOrReturnCtx(e,s),X(s,{validation:"cidr",code:Y.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?E4.test(e.data)||(s=this._getOrReturnCtx(e,s),X(s,{validation:"base64",code:Y.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?N4.test(e.data)||(s=this._getOrReturnCtx(e,s),X(s,{validation:"base64url",code:Y.invalid_string,message:i.message}),n.dirty()):Te.assertNever(i);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(s=>e.test(s),{validation:r,code:Y.invalid_string,...se.errToObj(n)})}_addCheck(e){return new zn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...se.errToObj(e)})}url(e){return this._addCheck({kind:"url",...se.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...se.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...se.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...se.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...se.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...se.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...se.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...se.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...se.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...se.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...se.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...se.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...se.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...se.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...se.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...se.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...se.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...se.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...se.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...se.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...se.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...se.errToObj(r)})}nonempty(e){return this.min(1,se.errToObj(e))}trim(){return new zn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new zn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new zn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}zn.create=t=>new zn({checks:[],typeName:ve.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...ke(t)});function I4(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=r>n?r:n,i=Number.parseInt(t.toFixed(s).replace(".","")),a=Number.parseInt(e.toFixed(s).replace(".",""));return i%a/10**s}class gl extends Ne{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==re.number){const i=this._getOrReturnCtx(e);return X(i,{code:Y.invalid_type,expected:re.number,received:i.parsedType}),ge}let n;const s=new Kt;for(const i of this._def.checks)i.kind==="int"?Te.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),X(n,{code:Y.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),X(n,{code:Y.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),X(n,{code:Y.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?I4(e.data,i.value)!==0&&(n=this._getOrReturnCtx(e,n),X(n,{code:Y.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),X(n,{code:Y.not_finite,message:i.message}),s.dirty()):Te.assertNever(i);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,se.toString(r))}gt(e,r){return this.setLimit("min",e,!1,se.toString(r))}lte(e,r){return this.setLimit("max",e,!0,se.toString(r))}lt(e,r){return this.setLimit("max",e,!1,se.toString(r))}setLimit(e,r,n,s){return new gl({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:se.toString(s)}]})}_addCheck(e){return new gl({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:se.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:se.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:se.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:se.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:se.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:se.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:se.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:se.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:se.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Te.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}gl.create=t=>new gl({checks:[],typeName:ve.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...ke(t)});class vl extends Ne{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==re.bigint)return this._getInvalidInput(e);let n;const s=new Kt;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),X(n,{code:Y.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),X(n,{code:Y.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),X(n,{code:Y.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Te.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return X(r,{code:Y.invalid_type,expected:re.bigint,received:r.parsedType}),ge}gte(e,r){return this.setLimit("min",e,!0,se.toString(r))}gt(e,r){return this.setLimit("min",e,!1,se.toString(r))}lte(e,r){return this.setLimit("max",e,!0,se.toString(r))}lt(e,r){return this.setLimit("max",e,!1,se.toString(r))}setLimit(e,r,n,s){return new vl({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:se.toString(s)}]})}_addCheck(e){return new vl({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:se.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:se.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:se.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:se.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:se.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}vl.create=t=>new vl({checks:[],typeName:ve.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...ke(t)});class lx extends Ne{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==re.boolean){const n=this._getOrReturnCtx(e);return X(n,{code:Y.invalid_type,expected:re.boolean,received:n.parsedType}),ge}return dr(e.data)}}lx.create=t=>new lx({typeName:ve.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...ke(t)});class Su extends Ne{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==re.date){const i=this._getOrReturnCtx(e);return X(i,{code:Y.invalid_type,expected:re.date,received:i.parsedType}),ge}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return X(i,{code:Y.invalid_date}),ge}const n=new Kt;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),X(s,{code:Y.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),X(s,{code:Y.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Te.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Su({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:se.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:se.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Su.create=t=>new Su({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ve.ZodDate,...ke(t)});class cx extends Ne{_parse(e){if(this._getType(e)!==re.symbol){const n=this._getOrReturnCtx(e);return X(n,{code:Y.invalid_type,expected:re.symbol,received:n.parsedType}),ge}return dr(e.data)}}cx.create=t=>new cx({typeName:ve.ZodSymbol,...ke(t)});class ux extends Ne{_parse(e){if(this._getType(e)!==re.undefined){const n=this._getOrReturnCtx(e);return X(n,{code:Y.invalid_type,expected:re.undefined,received:n.parsedType}),ge}return dr(e.data)}}ux.create=t=>new ux({typeName:ve.ZodUndefined,...ke(t)});class dx extends Ne{_parse(e){if(this._getType(e)!==re.null){const n=this._getOrReturnCtx(e);return X(n,{code:Y.invalid_type,expected:re.null,received:n.parsedType}),ge}return dr(e.data)}}dx.create=t=>new dx({typeName:ve.ZodNull,...ke(t)});class fx extends Ne{constructor(){super(...arguments),this._any=!0}_parse(e){return dr(e.data)}}fx.create=t=>new fx({typeName:ve.ZodAny,...ke(t)});class hx extends Ne{constructor(){super(...arguments),this._unknown=!0}_parse(e){return dr(e.data)}}hx.create=t=>new hx({typeName:ve.ZodUnknown,...ke(t)});class ds extends Ne{_parse(e){const r=this._getOrReturnCtx(e);return X(r,{code:Y.invalid_type,expected:re.never,received:r.parsedType}),ge}}ds.create=t=>new ds({typeName:ve.ZodNever,...ke(t)});class px extends Ne{_parse(e){if(this._getType(e)!==re.undefined){const n=this._getOrReturnCtx(e);return X(n,{code:Y.invalid_type,expected:re.void,received:n.parsedType}),ge}return dr(e.data)}}px.create=t=>new px({typeName:ve.ZodVoid,...ke(t)});class Hr extends Ne{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),s=this._def;if(r.parsedType!==re.array)return X(r,{code:Y.invalid_type,expected:re.array,received:r.parsedType}),ge;if(s.exactLength!==null){const a=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(a||l)&&(X(r,{code:a?Y.too_big:Y.too_small,minimum:l?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(X(r,{code:Y.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(X(r,{code:Y.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((a,l)=>s.type._parseAsync(new us(r,a,r.path,l)))).then(a=>Kt.mergeArray(n,a));const i=[...r.data].map((a,l)=>s.type._parseSync(new us(r,a,r.path,l)));return Kt.mergeArray(n,i)}get element(){return this._def.type}min(e,r){return new Hr({...this._def,minLength:{value:e,message:se.toString(r)}})}max(e,r){return new Hr({...this._def,maxLength:{value:e,message:se.toString(r)}})}length(e,r){return new Hr({...this._def,exactLength:{value:e,message:se.toString(r)}})}nonempty(e){return this.min(1,e)}}Hr.create=(t,e)=>new Hr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ve.ZodArray,...ke(e)});function Ri(t){if(t instanceof Xe){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=Xn.create(Ri(n))}return new Xe({...t._def,shape:()=>e})}else return t instanceof Hr?new Hr({...t._def,type:Ri(t.element)}):t instanceof Xn?Xn.create(Ri(t.unwrap())):t instanceof Ta?Ta.create(Ri(t.unwrap())):t instanceof ni?ni.create(t.items.map(e=>Ri(e))):t}class Xe extends Ne{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Te.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==re.object){const u=this._getOrReturnCtx(e);return X(u,{code:Y.invalid_type,expected:re.object,received:u.parsedType}),ge}const{status:n,ctx:s}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),l=[];if(!(this._def.catchall instanceof ds&&this._def.unknownKeys==="strip"))for(const u in s.data)a.includes(u)||l.push(u);const c=[];for(const u of a){const d=i[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new us(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof ds){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(X(s,{code:Y.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new us(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,g=await d.value;u.push({key:f,value:g,alwaysSet:d.alwaysSet})}return u}).then(u=>Kt.mergeObjectSync(n,u)):Kt.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return se.errToObj,new Xe({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,a;const s=((a=(i=this._def).errorMap)==null?void 0:a.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:se.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new Xe({...this._def,unknownKeys:"strip"})}passthrough(){return new Xe({...this._def,unknownKeys:"passthrough"})}extend(e){return new Xe({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Xe({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ve.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Xe({...this._def,catchall:e})}pick(e){const r={};for(const n of Te.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Xe({...this._def,shape:()=>r})}omit(e){const r={};for(const n of Te.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new Xe({...this._def,shape:()=>r})}deepPartial(){return Ri(this)}partial(e){const r={};for(const n of Te.objectKeys(this.shape)){const s=this.shape[n];e&&!e[n]?r[n]=s:r[n]=s.optional()}return new Xe({...this._def,shape:()=>r})}required(e){const r={};for(const n of Te.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Xn;)i=i._def.innerType;r[n]=i}return new Xe({...this._def,shape:()=>r})}keyof(){return nk(Te.objectKeys(this.shape))}}Xe.create=(t,e)=>new Xe({shape:()=>t,unknownKeys:"strip",catchall:ds.create(),typeName:ve.ZodObject,...ke(e)});Xe.strictCreate=(t,e)=>new Xe({shape:()=>t,unknownKeys:"strict",catchall:ds.create(),typeName:ve.ZodObject,...ke(e)});Xe.lazycreate=(t,e)=>new Xe({shape:t,unknownKeys:"strip",catchall:ds.create(),typeName:ve.ZodObject,...ke(e)});class ju extends Ne{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const a=i.map(l=>new ar(l.ctx.common.issues));return X(r,{code:Y.invalid_union,unionErrors:a}),ge}if(r.common.async)return Promise.all(n.map(async i=>{const a={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:a}),ctx:a}})).then(s);{let i;const a=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&a.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=a.map(c=>new ar(c));return X(r,{code:Y.invalid_union,unionErrors:l}),ge}}get options(){return this._def.options}}ju.create=(t,e)=>new ju({options:t,typeName:ve.ZodUnion,...ke(e)});function cp(t,e){const r=Tn(t),n=Tn(e);if(t===e)return{valid:!0,data:t};if(r===re.object&&n===re.object){const s=Te.objectKeys(e),i=Te.objectKeys(t).filter(l=>s.indexOf(l)!==-1),a={...t,...e};for(const l of i){const c=cp(t[l],e[l]);if(!c.valid)return{valid:!1};a[l]=c.data}return{valid:!0,data:a}}else if(r===re.array&&n===re.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const a=t[i],l=e[i],c=cp(a,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===re.date&&n===re.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Eu extends Ne{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=(i,a)=>{if(ix(i)||ix(a))return ge;const l=cp(i.value,a.value);return l.valid?((ax(i)||ax(a))&&r.dirty(),{status:r.value,value:l.data}):(X(n,{code:Y.invalid_intersection_types}),ge)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Eu.create=(t,e,r)=>new Eu({left:t,right:e,typeName:ve.ZodIntersection,...ke(r)});class ni extends Ne{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==re.array)return X(n,{code:Y.invalid_type,expected:re.array,received:n.parsedType}),ge;if(n.data.length<this._def.items.length)return X(n,{code:Y.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ge;!this._def.rest&&n.data.length>this._def.items.length&&(X(n,{code:Y.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((a,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new us(n,a,n.path,l)):null}).filter(a=>!!a);return n.common.async?Promise.all(i).then(a=>Kt.mergeArray(r,a)):Kt.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new ni({...this._def,rest:e})}}ni.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ni({items:t,typeName:ve.ZodTuple,rest:null,...ke(e)})};class mx extends Ne{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==re.map)return X(n,{code:Y.invalid_type,expected:re.map,received:n.parsedType}),ge;const s=this._def.keyType,i=this._def.valueType,a=[...n.data.entries()].map(([l,c],u)=>({key:s._parse(new us(n,l,n.path,[u,"key"])),value:i._parse(new us(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of a){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return ge;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of a){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return ge;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}mx.create=(t,e,r)=>new mx({valueType:e,keyType:t,typeName:ve.ZodMap,...ke(r)});class yl extends Ne{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==re.set)return X(n,{code:Y.invalid_type,expected:re.set,received:n.parsedType}),ge;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(X(n,{code:Y.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(X(n,{code:Y.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function a(c){const u=new Set;for(const d of c){if(d.status==="aborted")return ge;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new us(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>a(c)):a(l)}min(e,r){return new yl({...this._def,minSize:{value:e,message:se.toString(r)}})}max(e,r){return new yl({...this._def,maxSize:{value:e,message:se.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}yl.create=(t,e)=>new yl({valueType:t,minSize:null,maxSize:null,typeName:ve.ZodSet,...ke(e)});class gx extends Ne{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}gx.create=(t,e)=>new gx({getter:t,typeName:ve.ZodLazy,...ke(e)});class vx extends Ne{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return X(r,{received:r.data,code:Y.invalid_literal,expected:this._def.value}),ge}return{status:"valid",value:e.data}}get value(){return this._def.value}}vx.create=(t,e)=>new vx({value:t,typeName:ve.ZodLiteral,...ke(e)});function nk(t,e){return new Na({values:t,typeName:ve.ZodEnum,...ke(e)})}class Na extends Ne{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return X(r,{expected:Te.joinValues(n),received:r.parsedType,code:Y.invalid_type}),ge}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return X(r,{received:r.data,code:Y.invalid_enum_value,options:n}),ge}return dr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Na.create(e,{...this._def,...r})}exclude(e,r=this._def){return Na.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}Na.create=nk;class yx extends Ne{_parse(e){const r=Te.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==re.string&&n.parsedType!==re.number){const s=Te.objectValues(r);return X(n,{expected:Te.joinValues(s),received:n.parsedType,code:Y.invalid_type}),ge}if(this._cache||(this._cache=new Set(Te.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=Te.objectValues(r);return X(n,{received:n.data,code:Y.invalid_enum_value,options:s}),ge}return dr(e.data)}get enum(){return this._def.values}}yx.create=(t,e)=>new yx({values:t,typeName:ve.ZodNativeEnum,...ke(e)});class Nu extends Ne{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==re.promise&&r.common.async===!1)return X(r,{code:Y.invalid_type,expected:re.promise,received:r.parsedType}),ge;const n=r.parsedType===re.promise?r.data:Promise.resolve(r.data);return dr(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Nu.create=(t,e)=>new Nu({type:t,typeName:ve.ZodPromise,...ke(e)});class Ca extends Ne{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ve.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:a=>{X(n,a),a.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const a=s.transform(n.data,i);if(n.common.async)return Promise.resolve(a).then(async l=>{if(r.value==="aborted")return ge;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?ge:c.status==="dirty"||r.value==="dirty"?yo(c.value):c});{if(r.value==="aborted")return ge;const l=this._def.schema._parseSync({data:a,path:n.path,parent:n});return l.status==="aborted"?ge:l.status==="dirty"||r.value==="dirty"?yo(l.value):l}}if(s.type==="refinement"){const a=l=>{const c=s.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?ge:(l.status==="dirty"&&r.dirty(),a(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?ge:(l.status==="dirty"&&r.dirty(),a(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Ea(a))return ge;const l=s.transform(a.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>Ea(a)?Promise.resolve(s.transform(a.value,i)).then(l=>({status:r.value,value:l})):ge);Te.assertNever(s)}}Ca.create=(t,e,r)=>new Ca({schema:t,typeName:ve.ZodEffects,effect:e,...ke(r)});Ca.createWithPreprocess=(t,e,r)=>new Ca({schema:e,effect:{type:"preprocess",transform:t},typeName:ve.ZodEffects,...ke(r)});class Xn extends Ne{_parse(e){return this._getType(e)===re.undefined?dr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Xn.create=(t,e)=>new Xn({innerType:t,typeName:ve.ZodOptional,...ke(e)});class Ta extends Ne{_parse(e){return this._getType(e)===re.null?dr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ta.create=(t,e)=>new Ta({innerType:t,typeName:ve.ZodNullable,...ke(e)});class up extends Ne{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===re.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}up.create=(t,e)=>new up({innerType:t,typeName:ve.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ke(e)});class dp extends Ne{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return ku(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ar(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ar(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}dp.create=(t,e)=>new dp({innerType:t,typeName:ve.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ke(e)});class xx extends Ne{_parse(e){if(this._getType(e)!==re.nan){const n=this._getOrReturnCtx(e);return X(n,{code:Y.invalid_type,expected:re.nan,received:n.parsedType}),ge}return{status:"valid",value:e.data}}}xx.create=t=>new xx({typeName:ve.ZodNaN,...ke(t)});class D4 extends Ne{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class eg extends Ne{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?ge:i.status==="dirty"?(r.dirty(),yo(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?ge:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,r){return new eg({in:e,out:r,typeName:ve.ZodPipeline})}}class fp extends Ne{_parse(e){const r=this._def.innerType._parse(e),n=s=>(Ea(s)&&(s.value=Object.freeze(s.value)),s);return ku(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}fp.create=(t,e)=>new fp({innerType:t,typeName:ve.ZodReadonly,...ke(e)});Xe.lazycreate;var ve;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ve||(ve={}));const tg=zn.create;ds.create;Hr.create;Xe.create;Xe.strictCreate;ju.create;Eu.create;ni.create;Na.create;Nu.create;Xn.create;Ta.create;const M4=tg().email("Invalid email address"),$4=tg().min(6,"Password must be at least 6 characters"),L4=tg().min(2,"Name must be at least 2 characters");function F4(){const[t,e]=h.useState(!1),[r,n]=h.useState(""),[s,i]=h.useState(""),[a,l]=h.useState(""),[c,u]=h.useState({}),{user:d,signIn:f,signUp:g,loading:p}=Wa(),x=Tl();h.useEffect(()=>{!p&&d&&x("/")},[d,p,x]);const m=v=>{const w={};try{M4.parse(r)}catch(_){_ instanceof ar&&(w.email=_.errors[0].message)}try{$4.parse(s)}catch(_){_ instanceof ar&&(w.password=_.errors[0].message)}if(v)try{L4.parse(a)}catch(_){_ instanceof ar&&(w.name=_.errors[0].message)}return u(w),Object.keys(w).length===0},b=async v=>{if(v.preventDefault(),!m(!1))return;e(!0);const{error:w}=await f(r,s);e(!1),w?w.message.includes("Invalid login credentials")?H.error("Invalid email or password"):H.error(w.message):(H.success("Welcome back!"),x("/"))},y=async v=>{if(v.preventDefault(),!m(!0))return;e(!0);const{error:w}=await g(r,s,a);e(!1),w?w.message.includes("already registered")?H.error("This email is already registered. Please sign in instead."):H.error(w.message):(H.success("Account created successfully! You are now logged in."),x("/"))};return p?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:o.jsx(Xi,{className:"w-8 h-8 animate-spin text-primary"})}):o.jsx("div",{className:"min-h-screen w-full flex items-center justify-center p-4 relative overflow-hidden bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url(/Images/login-bg.png)",backgroundColor:"rgba(0, 0, 0, 0.3)",backgroundBlendMode:"darken"},children:o.jsxs(ka,{className:"w-full max-w-[350px] shadow-2xl border-0 bg-white/95 dark:bg-zinc-900/95 backdrop-blur-xl ring-1 ring-black/5 relative z-10",children:[o.jsxs(Sa,{className:"space-y-2 text-center pb-4",children:[o.jsx("div",{className:"mx-auto w-12 h-12 bg-primary/10 rounded-xl flex items-center justify-center mb-2 border border-primary/20",children:o.jsx(Eb,{className:"w-6 h-6 text-primary"})}),o.jsx(Rl,{className:"text-xl font-bold tracking-tight",children:"ZamZam Medical Store"}),o.jsx(md,{className:"text-xs",children:"Owner Management System"})]}),o.jsx(ja,{className:"space-y-4",children:o.jsxs(ek,{defaultValue:"signin",className:"w-full",children:[o.jsxs(Xm,{className:"grid w-full grid-cols-2 mb-4 h-9 p-1 bg-muted/50 rounded-lg",children:[o.jsx(pl,{value:"signin",className:"rounded-md transition-all text-xs",children:"Sign In"}),o.jsx(pl,{value:"signup",className:"rounded-md transition-all text-xs",children:"Sign Up"})]}),o.jsx(ml,{value:"signin",className:"space-y-4 focus-visible:outline-none focus-visible:ring-0",children:o.jsxs("form",{onSubmit:b,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(je,{htmlFor:"signin-email",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(Mv,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground transition-colors group-focus-within:text-primary"}),o.jsx(Ie,{id:"signin-email",type:"email",placeholder:"admin@pharmacy.com",value:r,onChange:v=>n(v.target.value),className:"pl-10 h-9 bg-background/50 transition-all focus:bg-background"})]}),c.email&&o.jsx("p",{className:"text-sm text-destructive font-medium animate-in slide-in-from-left-1",children:c.email})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsx(je,{htmlFor:"signin-password",children:"Password"})}),o.jsxs("div",{className:"relative",children:[o.jsx(Dv,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground transition-colors group-focus-within:text-primary"}),o.jsx(Ie,{id:"signin-password",type:"password",placeholder:"",value:s,onChange:v=>i(v.target.value),className:"pl-10 h-9 bg-background/50 transition-all focus:bg-background"})]}),c.password&&o.jsx("p",{className:"text-sm text-destructive font-medium animate-in slide-in-from-left-1",children:c.password})]}),o.jsx(fe,{type:"submit",className:"w-full h-9 font-medium text-sm shadow-lg shadow-primary/20 transition-all hover:shadow-primary/30",disabled:t,children:t?o.jsxs(o.Fragment,{children:[o.jsx(Xi,{className:"w-4 h-4 mr-2 animate-spin"}),"Signing in..."]}):"Sign In"})]})}),o.jsx(ml,{value:"signup",className:"space-y-4 focus-visible:outline-none focus-visible:ring-0",children:o.jsxs("form",{onSubmit:y,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(je,{htmlFor:"signup-name",children:"Full Name"}),o.jsxs("div",{className:"relative",children:[o.jsx(nT,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(Ie,{id:"signup-name",type:"text",placeholder:"John Doe",value:a,onChange:v=>l(v.target.value),className:"pl-10 h-9 bg-background/50 transition-all focus:bg-background"})]}),c.name&&o.jsx("p",{className:"text-sm text-destructive font-medium animate-in slide-in-from-left-1",children:c.name})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(je,{htmlFor:"signup-email",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(Mv,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(Ie,{id:"signup-email",type:"email",placeholder:"admin@pharmacy.com",value:r,onChange:v=>n(v.target.value),className:"pl-10 h-9 bg-background/50 transition-all focus:bg-background"})]}),c.email&&o.jsx("p",{className:"text-sm text-destructive font-medium animate-in slide-in-from-left-1",children:c.email})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(je,{htmlFor:"signup-password",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Dv,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(Ie,{id:"signup-password",type:"password",placeholder:"",value:s,onChange:v=>i(v.target.value),className:"pl-10 h-9 bg-background/50 transition-all focus:bg-background"})]}),c.password&&o.jsx("p",{className:"text-sm text-destructive font-medium animate-in slide-in-from-left-1",children:c.password})]}),o.jsxs("div",{className:"text-sm text-muted-foreground bg-primary/5 border border-primary/10 p-3 rounded-lg",children:[o.jsx("strong",{className:"font-semibold text-primary",children:"Note:"})," This is an owner-only system. All authenticated users have full access."]}),o.jsx(fe,{type:"submit",className:"w-full h-9 font-medium text-sm shadow-lg shadow-primary/20 transition-all hover:shadow-primary/30",disabled:t,children:t?o.jsxs(o.Fragment,{children:[o.jsx(Xi,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating account..."]}):"Create Account"})]})})]})})]})})}const U4=h.memo(function({item:e,onUpdateQuantity:r,onRemove:n}){return o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-4 p-4 bg-muted/40 rounded-xl border border-border/40 transition-all hover:bg-muted/60",children:[o.jsxs("div",{className:"flex-1 min-w-0 w-full sm:w-auto",children:[o.jsx("p",{className:"text-sm leading-normal break-words whitespace-normal font-medium text-foreground",children:e.productName}),o.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[_e(e.unitPrice)," each"]})]}),o.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto justify-between sm:justify-start",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(fe,{variant:"outline",size:"icon",className:"h-9 w-9 sm:h-8 sm:w-8 rounded-lg flex-shrink-0",onClick:()=>r(e.quantity-1),disabled:e.quantity<=1,children:o.jsx(YC,{className:"w-4 h-4"})}),o.jsx("span",{className:"w-10 sm:w-8 text-center font-semibold",children:e.quantity}),o.jsx(fe,{variant:"outline",size:"icon",className:"h-9 w-9 sm:h-8 sm:w-8 rounded-lg flex-shrink-0",onClick:()=>r(e.quantity+1),children:o.jsx(td,{className:"w-4 h-4"})})]}),o.jsx("div",{className:"text-right sm:text-left font-bold text-primary text-base sm:text-sm",children:_e(e.total)}),o.jsx(fe,{variant:"ghost",size:"icon",className:"h-9 w-9 sm:h-8 sm:w-8 text-destructive hover:text-destructive hover:bg-destructive/10 rounded-lg flex-shrink-0",onClick:n,children:o.jsx(wa,{className:"w-4 h-4"})})]})]})});function sk(t,e=300){const[r,n]=h.useState(t);return h.useEffect(()=>{const s=setTimeout(()=>{n(t)},e);return()=>{clearTimeout(s)}},[t,e]),r}var ik="Toggle",rg=h.forwardRef((t,e)=>{const{pressed:r,defaultPressed:n,onPressedChange:s,...i}=t,[a,l]=Pr({prop:r,onChange:s,defaultProp:n??!1,caller:ik});return o.jsx(ce.button,{type:"button","aria-pressed":a,"data-state":a?"on":"off","data-disabled":t.disabled?"":void 0,...i,ref:e,onClick:ae(t.onClick,()=>{t.disabled||l(!a)})})});rg.displayName=ik;var ak=rg,ys="ToggleGroup",[ok,qF]=ur(ys,[Nd]),lk=Nd(),ng=K.forwardRef((t,e)=>{const{type:r,...n}=t;if(r==="single"){const s=n;return o.jsx(B4,{...s,ref:e})}if(r==="multiple"){const s=n;return o.jsx(z4,{...s,ref:e})}throw new Error(`Missing prop \`type\` expected on \`${ys}\``)});ng.displayName=ys;var[ck,uk]=ok(ys),B4=K.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...i}=t,[a,l]=Pr({prop:r,defaultProp:n??"",onChange:s,caller:ys});return o.jsx(ck,{scope:t.__scopeToggleGroup,type:"single",value:K.useMemo(()=>a?[a]:[],[a]),onItemActivate:l,onItemDeactivate:K.useCallback(()=>l(""),[l]),children:o.jsx(dk,{...i,ref:e})})}),z4=K.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...i}=t,[a,l]=Pr({prop:r,defaultProp:n??[],onChange:s,caller:ys}),c=K.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=K.useCallback(d=>l((f=[])=>f.filter(g=>g!==d)),[l]);return o.jsx(ck,{scope:t.__scopeToggleGroup,type:"multiple",value:a,onItemActivate:c,onItemDeactivate:u,children:o.jsx(dk,{...i,ref:e})})});ng.displayName=ys;var[V4,W4]=ok(ys),dk=K.forwardRef((t,e)=>{const{__scopeToggleGroup:r,disabled:n=!1,rovingFocus:s=!0,orientation:i,dir:a,loop:l=!0,...c}=t,u=lk(r),d=Ed(a),f={role:"group",dir:d,...c};return o.jsx(V4,{scope:r,rovingFocus:s,disabled:n,children:s?o.jsx(F1,{asChild:!0,...u,orientation:i,dir:d,loop:l,children:o.jsx(ce.div,{...f,ref:e})}):o.jsx(ce.div,{...f,ref:e})})}),Cu="ToggleGroupItem",fk=K.forwardRef((t,e)=>{const r=uk(Cu,t.__scopeToggleGroup),n=W4(Cu,t.__scopeToggleGroup),s=lk(t.__scopeToggleGroup),i=r.value.includes(t.value),a=n.disabled||t.disabled,l={...t,pressed:i,disabled:a},c=K.useRef(null);return n.rovingFocus?o.jsx(U1,{asChild:!0,...s,focusable:!a,active:i,ref:c,children:o.jsx(wx,{...l,ref:e})}):o.jsx(wx,{...l,ref:e})});fk.displayName=Cu;var wx=K.forwardRef((t,e)=>{const{__scopeToggleGroup:r,value:n,...s}=t,i=uk(Cu,r),a={role:"radio","aria-checked":t.pressed,"aria-pressed":void 0},l=i.type==="single"?a:void 0;return o.jsx(rg,{...l,...s,ref:e,onPressedChange:c=>{c?i.onItemActivate(n):i.onItemDeactivate(n)}})}),hk=ng,pk=fk;const mk=ui("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}}),q4=h.forwardRef(({className:t,variant:e,size:r,...n},s)=>o.jsx(ak,{ref:s,className:Z(mk({variant:e,size:r,className:t})),...n}));q4.displayName=ak.displayName;const gk=h.createContext({size:"default",variant:"default"}),vk=h.forwardRef(({className:t,variant:e,size:r,children:n,...s},i)=>o.jsx(hk,{ref:i,className:Z("flex items-center justify-center gap-1",t),...s,children:o.jsx(gk.Provider,{value:{variant:e,size:r},children:n})}));vk.displayName=hk.displayName;const hp=h.forwardRef(({className:t,children:e,variant:r,size:n,...s},i)=>{const a=h.useContext(gk);return o.jsx(pk,{ref:i,className:Z(mk({variant:a.variant||r,size:a.size||n}),t),...s,children:e})});hp.displayName=pk.displayName;const Hs=_d,H4=T1,K4=kd,yk=h.forwardRef(({className:t,...e},r)=>o.jsx(qa,{ref:r,className:Z("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));yk.displayName=qa.displayName;const es=h.forwardRef(({className:t,children:e,...r},n)=>o.jsxs(K4,{children:[o.jsx(yk,{}),o.jsxs(Ha,{ref:n,className:Z("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-4 sm:p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-lg max-h-[90vh] overflow-y-auto",t),...r,children:[e,o.jsxs(Sd,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[o.jsx(Da,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));es.displayName=Ha.displayName;const ts=({className:t,...e})=>o.jsx("div",{className:Z("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});ts.displayName="DialogHeader";const rs=h.forwardRef(({className:t,...e},r)=>o.jsx(Al,{ref:r,className:Z("text-lg font-semibold leading-none tracking-tight",t),...e}));rs.displayName=Al.displayName;const ns=h.forwardRef(({className:t,...e},r)=>o.jsx(Ol,{ref:r,className:Z("text-sm text-muted-foreground",t),...e}));ns.displayName=Ol.displayName;var xk="AlertDialog",[G4,HF]=ur(xk,[h1]),mn=h1(),wk=t=>{const{__scopeAlertDialog:e,...r}=t,n=mn(e);return o.jsx(_d,{...n,...r,modal:!0})};wk.displayName=xk;var Y4="AlertDialogTrigger",Q4=h.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=mn(r);return o.jsx(T1,{...s,...n,ref:e})});Q4.displayName=Y4;var Z4="AlertDialogPortal",bk=t=>{const{__scopeAlertDialog:e,...r}=t,n=mn(e);return o.jsx(kd,{...n,...r})};bk.displayName=Z4;var J4="AlertDialogOverlay",_k=h.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=mn(r);return o.jsx(qa,{...s,...n,ref:e})});_k.displayName=J4;var sa="AlertDialogContent",[X4,eL]=G4(sa),tL=Y0("AlertDialogContent"),kk=h.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...s}=t,i=mn(r),a=h.useRef(null),l=Pe(e,a),c=h.useRef(null);return o.jsx(R$,{contentName:sa,titleName:Sk,docsSlug:"alert-dialog",children:o.jsx(X4,{scope:r,cancelRef:c,children:o.jsxs(Ha,{role:"alertdialog",...i,...s,ref:l,onOpenAutoFocus:ae(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(tL,{children:n}),o.jsx(nL,{contentRef:a})]})})})});kk.displayName=sa;var Sk="AlertDialogTitle",jk=h.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=mn(r);return o.jsx(Al,{...s,...n,ref:e})});jk.displayName=Sk;var Ek="AlertDialogDescription",Nk=h.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=mn(r);return o.jsx(Ol,{...s,...n,ref:e})});Nk.displayName=Ek;var rL="AlertDialogAction",Ck=h.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=mn(r);return o.jsx(Sd,{...s,...n,ref:e})});Ck.displayName=rL;var Tk="AlertDialogCancel",Pk=h.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:s}=eL(Tk,r),i=mn(r),a=Pe(e,s);return o.jsx(Sd,{...i,...n,ref:a})});Pk.displayName=Tk;var nL=({contentRef:t})=>{const e=`\`${sa}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${sa}\` by passing a \`${Ek}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${sa}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return h.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},sL=wk,iL=bk,Rk=_k,Ak=kk,Ok=Ck,Ik=Pk,Dk=jk,Mk=Nk;const pp=sL,aL=iL,$k=h.forwardRef(({className:t,...e},r)=>o.jsx(Rk,{className:Z("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));$k.displayName=Rk.displayName;const Tu=h.forwardRef(({className:t,...e},r)=>o.jsxs(aL,{children:[o.jsx($k,{}),o.jsx(Ak,{ref:r,className:Z("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-4 sm:p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-lg max-h-[90vh] overflow-y-auto",t),...e})]}));Tu.displayName=Ak.displayName;const Pu=({className:t,...e})=>o.jsx("div",{className:Z("flex flex-col space-y-2 text-center sm:text-left",t),...e});Pu.displayName="AlertDialogHeader";const Ru=({className:t,...e})=>o.jsx("div",{className:Z("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Ru.displayName="AlertDialogFooter";const Au=h.forwardRef(({className:t,...e},r)=>o.jsx(Dk,{ref:r,className:Z("text-lg font-semibold",t),...e}));Au.displayName=Dk.displayName;const Ou=h.forwardRef(({className:t,...e},r)=>o.jsx(Mk,{ref:r,className:Z("text-sm text-muted-foreground",t),...e}));Ou.displayName=Mk.displayName;const Iu=h.forwardRef(({className:t,...e},r)=>o.jsx(Ok,{ref:r,className:Z(Vm(),t),...e}));Iu.displayName=Ok.displayName;const Du=h.forwardRef(({className:t,...e},r)=>o.jsx(Ik,{ref:r,className:Z(Vm({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));Du.displayName=Ik.displayName;function oL(){const[t,e]=h.useState([]),[r,n]=h.useState("percent"),[s,i]=h.useState(""),[a,l]=h.useState(!1),[c,u]=h.useState(!1),[d,f]=h.useState(null),[g,p]=h.useState(""),[x,m]=h.useState(!1),{products:b,getProductByBarcode:y,getProductStock:v,getAvailableBatches:w,getExpiringBatches:_,refetch:k,fetchProducts:E}=fi(),{processSale:S}=jd(),{receiptData:R,setReceiptData:$}=G_(),O=sk(g,300),N=vd(),A=h.useMemo(()=>_(30),[_]);h.useEffect(()=>{E(O)},[O,E]),h.useEffect(()=>{k()},[]);const I=h.useMemo(()=>Array.isArray(b)?b.filter(P=>{var U;if(!P||!P.id)return!1;if(O&&O.trim()!==""){const M=O.toLowerCase().trim(),J=P.name.toLowerCase().startsWith(M),ne=((U=P.barcode)==null?void 0:U.toLowerCase())===M;return J||ne}return!0}):[],[b,O]),D=P=>{var Re;const U=y(P);if(!U){H.error("Product not found",{description:`No product with barcode ${P}`});return}const M=v(U.id);if(M<=0){H.error("Out of stock",{description:`${U.name} is out of stock or expired`});return}const J=t.find($e=>$e.productId===U.id);if(((J==null?void 0:J.quantity)||0)>=M){H.error("Insufficient stock",{description:`Only ${M} units available (non-expired)`});return}const oe=((Re=U.rack)==null?void 0:Re.name)||"N/A",ue=w(U.id),pe=ue.length>0?ue[0].selling_price:0;if(J)e($e=>$e.map(Ue=>Ue.productId===U.id?{...Ue,quantity:Ue.quantity+1,total:(Ue.quantity+1)*Ue.unitPrice}:Ue));else{if(ue.length>0){const $e=ue[0],Ue=tr($e.expiry_date);Fr(Ue,dl(N,30))&&H.warning("Expiring soon!",{description:`${U.name} batch expires on ${kt(Ue,"MMM d, yyyy")}`})}e($e=>[...$e,{productId:U.id,productName:`${U.name}${U.strength?` ${U.strength}`:""}`,quantity:1,unitPrice:pe,total:pe}])}const We=[`Product: ${U.name}${U.strength?` ${U.strength}`:""}`,`Barcode: ${P}`,`Price: ${_e(pe)}`,`Quantity: ${M}`,`Rack: ${oe}`].join("  ");H.success("Added to cart",{description:We,duration:4e3})},W=(P,U)=>{const M=v(P);if(U>M){H.error("Insufficient stock",{description:`Only ${M} units available (non-expired)`});return}e(J=>J.map(ne=>ne.productId===P?{...ne,quantity:U,total:U*ne.unitPrice}:ne))},V=P=>{e(U=>U.filter(M=>M.productId!==P))},Q=()=>{e([]),i(""),H.info("Cart cleared")},C=async P=>{var We;if(t.length===0){H.error("Cart is empty");return}const U=Array.isArray(t)?t.reduce((Re,$e)=>Re+(($e==null?void 0:$e.total)||0),0):0,M=s?r==="percent"?U*parseFloat(s)/100:parseFloat(s):0,J=Math.max(0,U-M),ne=t.map(Re=>{const $e=b.find(Ue=>Ue.id===Re.productId);return{product_id:Re.productId,product_name:Re.productName,strength:($e==null?void 0:$e.strength)||null,quantity:Re.quantity,unit_price:Re.unitPrice,total:Re.total,available_stock:v(Re.productId)}}),ue=await S(ne,P,Re=>w(Re).map(Ue=>({id:Ue.id,batch_number:Ue.batch_number,quantity:Ue.quantity,expiry_date:Ue.expiry_date})));if(!ue.success){H.error("Sale failed",{description:ue.error}),u(!1),f(null);return}await k();const pe=((We=ue.sale)==null?void 0:We.receipt_number)||"";$({items:[...t],total:U,discount:M,finalTotal:J,paymentMethod:P,saleId:pe}),l(!0),u(!1),f(null),e([]),i(""),H.success("Sale completed!",{description:`Payment received via ${P}. Stock deducted using FEFO.`})},j=P=>{if(t.length===0){H.error("Cart is empty");return}f(P),u(!0)},L=()=>{l(!1),setTimeout(()=>{window.print()},300)},q=Array.isArray(t)?t.reduce((P,U)=>P+((U==null?void 0:U.total)||0),0):0,T=s?r==="percent"?q*parseFloat(s)/100:parseFloat(s):0,B=Math.max(0,q-T),F=Array.isArray(t)?t.reduce((P,U)=>P+((U==null?void 0:U.quantity)||0),0):0;return o.jsxs(ri,{children:[o.jsx("div",{className:"p-4 sm:p-6 lg:p-8 h-[calc(100vh-4rem)] lg:h-[calc(100vh-2rem)] flex flex-col overflow-hidden",children:o.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 lg:gap-6 flex-1 min-h-0",children:[o.jsxs("div",{className:"flex-1 flex flex-col min-h-0 overflow-hidden",children:[o.jsxs("div",{className:"page-header mb-4 sm:mb-8 flex-shrink-0",children:[o.jsx("h1",{className:"page-title text-2xl sm:text-3xl",children:"Point of Sale"}),o.jsx("p",{className:"page-subtitle text-sm sm:text-base",children:"Scan barcode or select products  FEFO auto-deduction active"})]}),A.length>0&&!x&&o.jsxs("div",{className:"mb-4 p-3 bg-warning/10 border border-warning/30 rounded-xl flex items-start sm:items-center gap-3 relative flex-shrink-0",children:[o.jsx(Zn,{className:"w-5 h-5 text-warning flex-shrink-0 mt-0.5 sm:mt-0"}),o.jsxs("p",{className:"text-xs sm:text-sm text-warning flex-1",children:[o.jsxs("strong",{children:[A.length," batch(es)"]})," expiring within 30 days. These will be sold first (FEFO)."]}),o.jsx("button",{onClick:()=>m(!0),className:"absolute right-2 top-2 rounded-md p-1 text-warning/70 hover:text-warning hover:bg-warning/20 transition-colors focus:outline-none focus:ring-2 focus:ring-warning/50","aria-label":"Dismiss notification",children:o.jsx(Da,{className:"h-4 w-4"})})]}),o.jsx("div",{className:"mb-4 sm:mb-6 space-y-3 sm:space-y-4 flex-shrink-0",children:o.jsxs("div",{className:"relative",children:[o.jsx(rd,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),o.jsx(Ie,{placeholder:"Search products by name...",value:g,onChange:P=>p(P.target.value),className:"pl-10 h-12 text-lg",autoFocus:!0})]})}),o.jsx("div",{className:"flex-1 overflow-auto pr-0 sm:pr-2 min-h-0",children:o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 sm:gap-4",children:I.map(P=>{var ue;if(!P||!P.id)return null;const U=v(P.id),M=w(P.id),J=U<=(P.min_stock||0),ne=Array.isArray(M)&&M.some(pe=>pe&&pe.expiry_date&&Fr(tr(pe.expiry_date),dl(N,30))),oe=M.length>0?M[0].selling_price:0;return o.jsxs("button",{onClick:()=>P.barcode&&D(P.barcode),disabled:U<=0,className:"product-card text-left disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:transform-none relative",children:[ne&&U>0&&o.jsx("div",{className:"absolute -top-1 -right-1",children:o.jsxs("span",{className:"flex h-3 w-3",children:[o.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-warning opacity-75"}),o.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-warning"})]})}),o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/10 flex items-center justify-center",children:o.jsx(_t,{className:"w-5 h-5 text-primary"})}),o.jsxs("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${U<=0?"bg-destructive/10 text-destructive":J?"bg-warning/15 text-warning":"bg-muted text-muted-foreground"}`,children:[U," left"]})]}),o.jsx("p",{className:"font-semibold text-foreground truncate mb-0.5",children:P.name}),P.strength&&o.jsx("p",{className:"text-xs text-primary font-medium mb-1",children:P.strength}),o.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:P.category||"Uncategorized"}),((ue=P.rack)==null?void 0:ue.name)&&o.jsxs("p",{className:"text-xs font-medium mb-2",style:{color:P.rack.color},children:["Rack: ",P.rack.name]}),o.jsx("p",{className:"price-tag",children:_e(oe)})]},P.id)})})})]}),o.jsxs("div",{className:"w-full lg:w-96 cart-panel flex flex-col max-h-[50vh] lg:max-h-[calc(100vh-2rem)] lg:sticky lg:top-4 lg:self-start",children:[o.jsx("div",{className:"p-4 sm:p-5 border-b border-border flex-shrink-0",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/10 flex items-center justify-center flex-shrink-0",children:o.jsx(Fv,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("h2",{className:"font-semibold text-foreground truncate",children:"Cart"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[F," items"]})]})]}),t.length>0&&o.jsxs(fe,{variant:"ghost",size:"sm",onClick:Q,className:"text-destructive hover:text-destructive hover:bg-destructive/10 flex-shrink-0",children:[o.jsx(wa,{className:"w-4 h-4 sm:mr-1"}),o.jsx("span",{className:"hidden sm:inline",children:"Clear"})]})]})}),o.jsx("div",{className:"flex-1 overflow-auto p-4 space-y-3 min-h-0",children:t.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-muted-foreground py-8",children:[o.jsx("div",{className:"w-16 h-16 rounded-2xl bg-muted/50 flex items-center justify-center mb-4",children:o.jsx(Fv,{className:"w-8 h-8 opacity-50"})}),o.jsx("p",{className:"font-medium",children:"Cart is empty"}),o.jsx("p",{className:"text-sm text-center",children:"Scan a product to get started"})]}):Array.isArray(t)&&t.map(P=>!P||!P.productId?null:o.jsx(U4,{item:P,onUpdateQuantity:U=>W(P.productId,U),onRemove:()=>V(P.productId)},P.productId))}),o.jsxs("div",{className:"p-4 sm:p-5 border-t border-border space-y-4 bg-muted/30 flex-shrink-0",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Subtotal"}),o.jsx("span",{className:"text-sm font-medium",children:_e(q)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-1 scrollbar-thin scrollbar-thumb-border scrollbar-track-transparent",children:[o.jsx(je,{className:"text-sm text-muted-foreground whitespace-nowrap flex-shrink-0",children:"Discount Type:"}),o.jsxs(vk,{type:"single",value:r,onValueChange:P=>{(P==="percent"||P==="rupees")&&(n(P),i(""))},className:"flex-shrink-0",children:[o.jsx(hp,{value:"percent","aria-label":"Discount Percentage",className:"text-xs sm:text-sm whitespace-nowrap",children:"Discount %"}),o.jsx(hp,{value:"rupees","aria-label":"Discount Rupees",className:"text-xs sm:text-sm whitespace-nowrap",children:"Discount Rs"})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2",children:[o.jsx(je,{htmlFor:"discount",className:"text-sm text-muted-foreground whitespace-nowrap",children:r==="percent"?"Discount (%)":"Discount (Rs)"}),o.jsxs("div",{className:"relative w-full sm:flex-1",children:[r==="percent"?o.jsx(ZC,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}):o.jsx(lu,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(Ie,{id:"discount",type:"number",min:"0",max:r==="percent"?"100":q.toString(),step:r==="percent"?"0.1":"1",value:s,onChange:P=>{const U=P.target.value;if(U===""){i("");return}const M=parseFloat(U);isNaN(M)||M<0||r==="percent"&&M>100||r==="rupees"&&M>q||i(U)},placeholder:"0",className:"pl-8 h-10 sm:h-9"})]})]})]}),T>0&&o.jsxs("div",{className:"flex justify-between items-center text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Discount"}),o.jsxs("span",{className:"text-destructive font-medium",children:["-",_e(T)]})]}),o.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-border",children:[o.jsx("span",{className:"text-base sm:text-lg font-semibold text-foreground",children:"Total"}),o.jsx("span",{className:"text-xl sm:text-2xl font-bold text-primary",children:_e(B)})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-2 sm:gap-3",children:[o.jsxs(fe,{onClick:()=>j("cash"),disabled:t.length===0,className:"btn-checkout bg-primary hover:bg-primary/90 h-12 sm:h-auto py-3 sm:py-4",children:[o.jsx(lu,{className:"w-4 h-4 sm:w-5 sm:h-5"}),o.jsx("span",{className:"text-xs",children:"Cash"})]}),o.jsxs(fe,{onClick:()=>j("card"),disabled:t.length===0,className:"btn-checkout bg-primary hover:bg-primary/90 h-12 sm:h-auto py-3 sm:py-4",children:[o.jsx(qC,{className:"w-4 h-4 sm:w-5 sm:h-5"}),o.jsx("span",{className:"text-xs",children:"Card"})]}),o.jsxs(fe,{onClick:()=>j("mobile"),disabled:t.length===0,className:"btn-checkout bg-primary hover:bg-primary/90 h-12 sm:h-auto py-3 sm:py-4",children:[o.jsx(rT,{className:"w-4 h-4 sm:w-5 sm:h-5"}),o.jsx("span",{className:"text-xs",children:"Mobile"})]})]})]})]})]})}),o.jsx(pp,{open:c,onOpenChange:u,children:o.jsxs(Tu,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsxs(Pu,{children:[o.jsx(Au,{children:"Confirm Order"}),o.jsx(Ou,{children:"Review your order before finalizing. This action will complete the sale and deduct stock."})]}),o.jsxs("div",{className:"max-h-96 overflow-auto space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"font-semibold text-sm",children:"Items:"}),o.jsx("div",{className:"space-y-2",children:t.map(P=>o.jsxs("div",{className:"flex justify-between items-start text-sm p-2 bg-muted/50 rounded",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium break-words",children:P.productName}),o.jsxs("p",{className:"text-muted-foreground",children:["Qty: ",P.quantity,"  ",_e(P.unitPrice)]})]}),o.jsx("p",{className:"font-semibold ml-4",children:_e(P.total)})]},P.productId))})]}),o.jsxs("div",{className:"border-t border-border pt-4 space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Subtotal:"}),o.jsx("span",{children:_e(q)})]}),T>0&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsxs("span",{className:"text-muted-foreground",children:["Discount ",r==="percent"?`(${s}%)`:`(Rs ${s})`,":"]}),o.jsxs("span",{className:"text-destructive",children:["-",_e(T)]})]}),o.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-border",children:[o.jsx("span",{className:"font-semibold",children:"Final Total:"}),o.jsx("span",{className:"text-lg font-bold text-primary",children:_e(B)})]}),o.jsx("div",{className:"pt-2",children:o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Payment Method: ",o.jsx("span",{className:"capitalize font-medium",children:d})]})})]})]}),o.jsxs(Ru,{children:[o.jsx(Du,{onClick:()=>{u(!1),f(null)},children:"Add More"}),o.jsx(Iu,{onClick:()=>d&&C(d),children:"Confirm Order"})]})]})}),o.jsx(Hs,{open:a,onOpenChange:P=>{l(P),P||$(null)},children:o.jsxs(es,{className:"max-w-md w-[95vw] sm:w-auto max-h-[90vh] overflow-y-auto no-print",children:[o.jsxs(ts,{children:[o.jsxs(rs,{className:"flex items-center gap-2",children:[o.jsx(Lv,{className:"w-5 h-5"}),"Sale Completed Successfully"]}),o.jsx(ns,{children:"Your receipt is ready to print. Click the button below to print it."})]}),o.jsxs("div",{className:"flex flex-col items-center space-y-4 py-4",children:[R&&o.jsxs("div",{className:"w-full space-y-3 p-4 bg-muted/50 rounded-lg border border-border",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Receipt #:"}),o.jsx("span",{className:"text-sm font-semibold",children:R.saleId})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Items:"}),o.jsx("span",{className:"text-sm font-semibold",children:R.items.length})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Total:"}),o.jsx("span",{className:"text-lg font-bold text-primary",children:_e(R.finalTotal)})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Payment:"}),o.jsx("span",{className:"text-sm font-semibold capitalize",children:R.paymentMethod})]})]}),o.jsxs(fe,{onClick:L,className:"w-full no-print",children:[o.jsx(Lv,{className:"w-4 h-4 mr-2"}),"Print Receipt"]})]})]})})]})}function bx(t,[e,r]){return Math.min(r,Math.max(e,t))}function Lk(t){const e=h.useRef({value:t,previous:t});return h.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var lL=[" ","Enter","ArrowUp","ArrowDown"],cL=[" ","Enter"],si="Select",[Td,Pd,uL]=vm(si),[Ka,KF]=ur(si,[uL,Fa]),Rd=Fa(),[dL,xs]=Ka(si),[fL,hL]=Ka(si),Fk=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:s,onOpenChange:i,value:a,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:g,required:p,form:x}=t,m=Rd(e),[b,y]=h.useState(null),[v,w]=h.useState(null),[_,k]=h.useState(!1),E=Ed(u),[S,R]=Pr({prop:n,defaultProp:s??!1,onChange:i,caller:si}),[$,O]=Pr({prop:a,defaultProp:l,onChange:c,caller:si}),N=h.useRef(null),A=b?x||!!b.closest("form"):!0,[I,D]=h.useState(new Set),W=Array.from(I).map(V=>V.props.value).join(";");return o.jsx(i_,{...m,children:o.jsxs(dL,{required:p,scope:e,trigger:b,onTriggerChange:y,valueNode:v,onValueNodeChange:w,valueNodeHasChildren:_,onValueNodeHasChildrenChange:k,contentId:Tt(),value:$,onValueChange:O,open:S,onOpenChange:R,dir:E,triggerPointerDownPosRef:N,disabled:g,children:[o.jsx(Td.Provider,{scope:e,children:o.jsx(fL,{scope:t.__scopeSelect,onNativeOptionAdd:h.useCallback(V=>{D(Q=>new Set(Q).add(V))},[]),onNativeOptionRemove:h.useCallback(V=>{D(Q=>{const C=new Set(Q);return C.delete(V),C})},[]),children:r})}),A?o.jsxs(cS,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:$,onChange:V=>O(V.target.value),disabled:g,form:x,children:[$===void 0?o.jsx("option",{value:""}):null,Array.from(I)]},W):null]})})};Fk.displayName=si;var Uk="SelectTrigger",Bk=h.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...s}=t,i=Rd(r),a=xs(Uk,r),l=a.disabled||n,c=Pe(e,a.onTriggerChange),u=Pd(r),d=h.useRef("touch"),[f,g,p]=dS(m=>{const b=u().filter(w=>!w.disabled),y=b.find(w=>w.value===a.value),v=fS(b,m,y);v!==void 0&&a.onValueChange(v.value)}),x=m=>{l||(a.onOpenChange(!0),p()),m&&(a.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return o.jsx(ad,{asChild:!0,...i,children:o.jsx(ce.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":uS(a.value)?"":void 0,...s,ref:c,onClick:ae(s.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&x(m)}),onPointerDown:ae(s.onPointerDown,m=>{d.current=m.pointerType;const b=m.target;b.hasPointerCapture(m.pointerId)&&b.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(x(m),m.preventDefault())}),onKeyDown:ae(s.onKeyDown,m=>{const b=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&g(m.key),!(b&&m.key===" ")&&lL.includes(m.key)&&(x(),m.preventDefault())})})})});Bk.displayName=Uk;var zk="SelectValue",Vk=h.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:a="",...l}=t,c=xs(zk,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=Pe(e,c.onValueNodeChange);return gt(()=>{u(d)},[u,d]),o.jsx(ce.span,{...l,ref:f,style:{pointerEvents:"none"},children:uS(c.value)?o.jsx(o.Fragment,{children:a}):i})});Vk.displayName=zk;var pL="SelectIcon",Wk=h.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...s}=t;return o.jsx(ce.span,{"aria-hidden":!0,...s,ref:e,children:n||""})});Wk.displayName=pL;var mL="SelectPortal",qk=t=>o.jsx(El,{asChild:!0,...t});qk.displayName=mL;var ii="SelectContent",Hk=h.forwardRef((t,e)=>{const r=xs(ii,t.__scopeSelect),[n,s]=h.useState();if(gt(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?ci.createPortal(o.jsx(Kk,{scope:t.__scopeSelect,children:o.jsx(Td.Slot,{scope:t.__scopeSelect,children:o.jsx("div",{children:t.children})})}),i):null}return o.jsx(Gk,{...t,ref:e})});Hk.displayName=ii;var yr=10,[Kk,ws]=Ka(ii),gL="SelectContentImpl",vL=Xs("SelectContent.RemoveScroll"),Gk=h.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:g,collisionPadding:p,sticky:x,hideWhenDetached:m,avoidCollisions:b,...y}=t,v=xs(ii,r),[w,_]=h.useState(null),[k,E]=h.useState(null),S=Pe(e,M=>_(M)),[R,$]=h.useState(null),[O,N]=h.useState(null),A=Pd(r),[I,D]=h.useState(!1),W=h.useRef(!1);h.useEffect(()=>{if(w)return Gm(w)},[w]),Km();const V=h.useCallback(M=>{const[J,...ne]=A().map(pe=>pe.ref.current),[oe]=ne.slice(-1),ue=document.activeElement;for(const pe of M)if(pe===ue||(pe==null||pe.scrollIntoView({block:"nearest"}),pe===J&&k&&(k.scrollTop=0),pe===oe&&k&&(k.scrollTop=k.scrollHeight),pe==null||pe.focus(),document.activeElement!==ue))return},[A,k]),Q=h.useCallback(()=>V([R,w]),[V,R,w]);h.useEffect(()=>{I&&Q()},[I,Q]);const{onOpenChange:C,triggerPointerDownPosRef:j}=v;h.useEffect(()=>{if(w){let M={x:0,y:0};const J=oe=>{var ue,pe;M={x:Math.abs(Math.round(oe.pageX)-(((ue=j.current)==null?void 0:ue.x)??0)),y:Math.abs(Math.round(oe.pageY)-(((pe=j.current)==null?void 0:pe.y)??0))}},ne=oe=>{M.x<=10&&M.y<=10?oe.preventDefault():w.contains(oe.target)||C(!1),document.removeEventListener("pointermove",J),j.current=null};return j.current!==null&&(document.addEventListener("pointermove",J),document.addEventListener("pointerup",ne,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",J),document.removeEventListener("pointerup",ne,{capture:!0})}}},[w,C,j]),h.useEffect(()=>{const M=()=>C(!1);return window.addEventListener("blur",M),window.addEventListener("resize",M),()=>{window.removeEventListener("blur",M),window.removeEventListener("resize",M)}},[C]);const[L,q]=dS(M=>{const J=A().filter(ue=>!ue.disabled),ne=J.find(ue=>ue.ref.current===document.activeElement),oe=fS(J,M,ne);oe&&setTimeout(()=>oe.ref.current.focus())}),T=h.useCallback((M,J,ne)=>{const oe=!W.current&&!ne;(v.value!==void 0&&v.value===J||oe)&&($(M),oe&&(W.current=!0))},[v.value]),B=h.useCallback(()=>w==null?void 0:w.focus(),[w]),F=h.useCallback((M,J,ne)=>{const oe=!W.current&&!ne;(v.value!==void 0&&v.value===J||oe)&&N(M)},[v.value]),P=n==="popper"?mp:Yk,U=P===mp?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:g,collisionPadding:p,sticky:x,hideWhenDetached:m,avoidCollisions:b}:{};return o.jsx(Kk,{scope:r,content:w,viewport:k,onViewportChange:E,itemRefCallback:T,selectedItem:R,onItemLeave:B,itemTextRefCallback:F,focusSelectedItem:Q,selectedItemText:O,position:n,isPositioned:I,searchRef:L,children:o.jsx(wd,{as:vL,allowPinchZoom:!0,children:o.jsx(yd,{asChild:!0,trapped:v.open,onMountAutoFocus:M=>{M.preventDefault()},onUnmountAutoFocus:ae(s,M=>{var J;(J=v.trigger)==null||J.focus({preventScroll:!0}),M.preventDefault()}),children:o.jsx(Ia,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:M=>M.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:o.jsx(P,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:M=>M.preventDefault(),...y,...U,onPlaced:()=>D(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:ae(y.onKeyDown,M=>{const J=M.ctrlKey||M.altKey||M.metaKey;if(M.key==="Tab"&&M.preventDefault(),!J&&M.key.length===1&&q(M.key),["ArrowUp","ArrowDown","Home","End"].includes(M.key)){let oe=A().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);if(["ArrowUp","End"].includes(M.key)&&(oe=oe.slice().reverse()),["ArrowUp","ArrowDown"].includes(M.key)){const ue=M.target,pe=oe.indexOf(ue);oe=oe.slice(pe+1)}setTimeout(()=>V(oe)),M.preventDefault()}})})})})})})});Gk.displayName=gL;var yL="SelectItemAlignedPosition",Yk=h.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...s}=t,i=xs(ii,r),a=ws(ii,r),[l,c]=h.useState(null),[u,d]=h.useState(null),f=Pe(e,S=>d(S)),g=Pd(r),p=h.useRef(!1),x=h.useRef(!0),{viewport:m,selectedItem:b,selectedItemText:y,focusSelectedItem:v}=a,w=h.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&m&&b&&y){const S=i.trigger.getBoundingClientRect(),R=u.getBoundingClientRect(),$=i.valueNode.getBoundingClientRect(),O=y.getBoundingClientRect();if(i.dir!=="rtl"){const ue=O.left-R.left,pe=$.left-ue,We=S.left-pe,Re=S.width+We,$e=Math.max(Re,R.width),Ue=window.innerWidth-yr,_s=bx(pe,[yr,Math.max(yr,Ue-$e)]);l.style.minWidth=Re+"px",l.style.left=_s+"px"}else{const ue=R.right-O.right,pe=window.innerWidth-$.right-ue,We=window.innerWidth-S.right-pe,Re=S.width+We,$e=Math.max(Re,R.width),Ue=window.innerWidth-yr,_s=bx(pe,[yr,Math.max(yr,Ue-$e)]);l.style.minWidth=Re+"px",l.style.right=_s+"px"}const N=g(),A=window.innerHeight-yr*2,I=m.scrollHeight,D=window.getComputedStyle(u),W=parseInt(D.borderTopWidth,10),V=parseInt(D.paddingTop,10),Q=parseInt(D.borderBottomWidth,10),C=parseInt(D.paddingBottom,10),j=W+V+I+C+Q,L=Math.min(b.offsetHeight*5,j),q=window.getComputedStyle(m),T=parseInt(q.paddingTop,10),B=parseInt(q.paddingBottom,10),F=S.top+S.height/2-yr,P=A-F,U=b.offsetHeight/2,M=b.offsetTop+U,J=W+V+M,ne=j-J;if(J<=F){const ue=N.length>0&&b===N[N.length-1].ref.current;l.style.bottom="0px";const pe=u.clientHeight-m.offsetTop-m.offsetHeight,We=Math.max(P,U+(ue?B:0)+pe+Q),Re=J+We;l.style.height=Re+"px"}else{const ue=N.length>0&&b===N[0].ref.current;l.style.top="0px";const We=Math.max(F,W+m.offsetTop+(ue?T:0)+U)+ne;l.style.height=We+"px",m.scrollTop=J-F+m.offsetTop}l.style.margin=`${yr}px 0`,l.style.minHeight=L+"px",l.style.maxHeight=A+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[g,i.trigger,i.valueNode,l,u,m,b,y,i.dir,n]);gt(()=>w(),[w]);const[_,k]=h.useState();gt(()=>{u&&k(window.getComputedStyle(u).zIndex)},[u]);const E=h.useCallback(S=>{S&&x.current===!0&&(w(),v==null||v(),x.current=!1)},[w,v]);return o.jsx(wL,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:E,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:o.jsx(ce.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Yk.displayName=yL;var xL="SelectPopperPosition",mp=h.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=yr,...i}=t,a=Rd(r);return o.jsx(Am,{...a,...i,ref:e,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});mp.displayName=xL;var[wL,sg]=Ka(ii,{}),gp="SelectViewport",Qk=h.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...s}=t,i=ws(gp,r),a=sg(gp,r),l=Pe(e,i.onViewportChange),c=h.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(Td.Slot,{scope:r,children:o.jsx(ce.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ae(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:g}=a;if(g!=null&&g.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const x=window.innerHeight-yr*2,m=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),y=Math.max(m,b);if(y<x){const v=y+p,w=Math.min(x,v),_=v-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});Qk.displayName=gp;var Zk="SelectGroup",[bL,_L]=Ka(Zk),kL=h.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=Tt();return o.jsx(bL,{scope:r,id:s,children:o.jsx(ce.div,{role:"group","aria-labelledby":s,...n,ref:e})})});kL.displayName=Zk;var Jk="SelectLabel",Xk=h.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=_L(Jk,r);return o.jsx(ce.div,{id:s.id,...n,ref:e})});Xk.displayName=Jk;var Mu="SelectItem",[SL,eS]=Ka(Mu),tS=h.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...a}=t,l=xs(Mu,r),c=ws(Mu,r),u=l.value===n,[d,f]=h.useState(i??""),[g,p]=h.useState(!1),x=Pe(e,v=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,v,n,s)}),m=Tt(),b=h.useRef("touch"),y=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(SL,{scope:r,value:n,disabled:s,textId:m,isSelected:u,onItemTextChange:h.useCallback(v=>{f(w=>w||((v==null?void 0:v.textContent)??"").trim())},[]),children:o.jsx(Td.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:o.jsx(ce.div,{role:"option","aria-labelledby":m,"data-highlighted":g?"":void 0,"aria-selected":u&&g,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:x,onFocus:ae(a.onFocus,()=>p(!0)),onBlur:ae(a.onBlur,()=>p(!1)),onClick:ae(a.onClick,()=>{b.current!=="mouse"&&y()}),onPointerUp:ae(a.onPointerUp,()=>{b.current==="mouse"&&y()}),onPointerDown:ae(a.onPointerDown,v=>{b.current=v.pointerType}),onPointerMove:ae(a.onPointerMove,v=>{var w;b.current=v.pointerType,s?(w=c.onItemLeave)==null||w.call(c):b.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ae(a.onPointerLeave,v=>{var w;v.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:ae(a.onKeyDown,v=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&v.key===" "||(cL.includes(v.key)&&y(),v.key===" "&&v.preventDefault())})})})})});tS.displayName=Mu;var xo="SelectItemText",rS=h.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,...i}=t,a=xs(xo,r),l=ws(xo,r),c=eS(xo,r),u=hL(xo,r),[d,f]=h.useState(null),g=Pe(e,y=>f(y),c.onItemTextChange,y=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,y,c.value,c.disabled)}),p=d==null?void 0:d.textContent,x=h.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:b}=u;return gt(()=>(m(x),()=>b(x)),[m,b,x]),o.jsxs(o.Fragment,{children:[o.jsx(ce.span,{id:c.textId,...i,ref:g}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?ci.createPortal(i.children,a.valueNode):null]})});rS.displayName=xo;var nS="SelectItemIndicator",sS=h.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return eS(nS,r).isSelected?o.jsx(ce.span,{"aria-hidden":!0,...n,ref:e}):null});sS.displayName=nS;var vp="SelectScrollUpButton",iS=h.forwardRef((t,e)=>{const r=ws(vp,t.__scopeSelect),n=sg(vp,t.__scopeSelect),[s,i]=h.useState(!1),a=Pe(e,n.onScrollButtonChange);return gt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?o.jsx(oS,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});iS.displayName=vp;var yp="SelectScrollDownButton",aS=h.forwardRef((t,e)=>{const r=ws(yp,t.__scopeSelect),n=sg(yp,t.__scopeSelect),[s,i]=h.useState(!1),a=Pe(e,n.onScrollButtonChange);return gt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?o.jsx(oS,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});aS.displayName=yp;var oS=h.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=t,i=ws("SelectScrollButton",r),a=h.useRef(null),l=Pd(r),c=h.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),gt(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),o.jsx(ce.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ae(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(n,50))}),onPointerMove:ae(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),a.current===null&&(a.current=window.setInterval(n,50))}),onPointerLeave:ae(s.onPointerLeave,()=>{c()})})}),jL="SelectSeparator",lS=h.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return o.jsx(ce.div,{"aria-hidden":!0,...n,ref:e})});lS.displayName=jL;var xp="SelectArrow",EL=h.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=Rd(r),i=xs(xp,r),a=ws(xp,r);return i.open&&a.position==="popper"?o.jsx(Om,{...s,...n,ref:e}):null});EL.displayName=xp;var NL="SelectBubbleInput",cS=h.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const s=h.useRef(null),i=Pe(n,s),a=Lk(e);return h.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==e&&d){const f=new Event("change",{bubbles:!0});d.call(l,e),l.dispatchEvent(f)}},[a,e]),o.jsx(ce.select,{...r,style:{...eb,...r.style},ref:i,defaultValue:e})});cS.displayName=NL;function uS(t){return t===""||t===void 0}function dS(t){const e=cr(t),r=h.useRef(""),n=h.useRef(0),s=h.useCallback(a=>{const l=r.current+a;e(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),i=h.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function fS(t,e,r){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let a=CL(t,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==r));const c=a.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function CL(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var TL=Fk,hS=Bk,PL=Vk,RL=Wk,AL=qk,pS=Hk,OL=Qk,mS=Xk,gS=tS,IL=rS,DL=sS,vS=iS,yS=aS,xS=lS;const Mc=TL,$c=PL,Ao=h.forwardRef(({className:t,children:e,...r},n)=>o.jsxs(hS,{ref:n,className:Z("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,o.jsx(RL,{asChild:!0,children:o.jsx(kb,{className:"h-4 w-4 opacity-50"})})]}));Ao.displayName=hS.displayName;const wS=h.forwardRef(({className:t,...e},r)=>o.jsx(vS,{ref:r,className:Z("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(VC,{className:"h-4 w-4"})}));wS.displayName=vS.displayName;const bS=h.forwardRef(({className:t,...e},r)=>o.jsx(yS,{ref:r,className:Z("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(kb,{className:"h-4 w-4"})}));bS.displayName=yS.displayName;const Oo=h.forwardRef(({className:t,children:e,position:r="popper",...n},s)=>o.jsx(AL,{children:o.jsxs(pS,{ref:s,className:Z("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[o.jsx(wS,{}),o.jsx(OL,{className:Z("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),o.jsx(bS,{})]})}));Oo.displayName=pS.displayName;const ML=h.forwardRef(({className:t,...e},r)=>o.jsx(mS,{ref:r,className:Z("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));ML.displayName=mS.displayName;const Io=h.forwardRef(({className:t,children:e,...r},n)=>o.jsxs(gS,{ref:n,className:Z("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(DL,{children:o.jsx(bm,{className:"h-4 w-4"})})}),o.jsx(IL,{children:e})]}));Io.displayName=gS.displayName;const $L=h.forwardRef(({className:t,...e},r)=>o.jsx(xS,{ref:r,className:Z("-mx-1 my-1 h-px bg-muted",t),...e}));$L.displayName=xS.displayName;function ig(){const[t,e]=h.useState([]),[r,n]=h.useState(!0),[s,i]=h.useState(null),a=1e3,l=h.useCallback(async()=>{try{i(null);const{data:f,error:g}=await me.from("racks").select("*").order("name").limit(a);if(g)throw g;e(Array.isArray(f)?f:[])}catch(f){const g=f instanceof Error?f.message:"Failed to load racks";console.error("Error fetching racks:",f),i(g),H.error("Failed to load racks"),e([])}finally{n(!1)}},[]);return h.useEffect(()=>{l()},[l]),{racks:t,loading:r,error:s,addRack:async(f,g,p)=>{try{if(!f||typeof f!="string"||f.trim()==="")return H.error("Rack name is required"),null;if(!g||typeof g!="string")return H.error("Rack color is required"),null;const{data:x,error:m}=await me.from("racks").insert({name:f.trim(),color:g,description:(p==null?void 0:p.trim())||null}).select().single();if(m){if(m.code==="23505")return H.error("Rack name already exists"),null;throw m}return x?(e(b=>[...b,x].sort((v,w)=>v.name.localeCompare(w.name))),H.success("Rack added successfully"),x):(H.error("Rack was not created"),null)}catch(x){const m=x instanceof Error?x.message:"Failed to add rack";return console.error("Error adding rack:",x),H.error(m),null}},updateRack:async(f,g)=>{try{if(!f||typeof f!="string")return H.error("Invalid rack ID"),!1;const{error:p}=await me.from("racks").update(g).eq("id",f);if(p)throw p;return e(x=>x.map(m=>m.id===f?{...m,...g}:m)),H.success("Rack updated"),!0}catch(p){const x=p instanceof Error?p.message:"Failed to update rack";return console.error("Error updating rack:",p),H.error(x),!1}},deleteRack:async f=>{try{if(!f||typeof f!="string")return H.error("Invalid rack ID"),!1;const{error:g}=await me.from("racks").delete().eq("id",f);if(g)throw g;return e(p=>p.filter(x=>x.id!==f)),H.success("Rack deleted"),!0}catch(g){const p=g instanceof Error?g.message:"Failed to delete rack";return console.error("Error deleting rack:",g),H.error(p),!1}},refetch:l}}const LL=["Pain Relief","Fever","Cold, Flu & Cough","Respiratory / Asthma","Antibiotics","Antifungal","Antibiotic Creams & Ointments","Digestive & Stomach","Acidity & Gas","Diarrhea & Constipation","Diabetes","Blood Pressure & Heart","Allergy","Vitamins & Supplements","Skin Care","Eye & Ear Care","Children / Pediatric","Women's Health","First Aid","OTC (General Medicines)","Insecticide","Depression and Anxiety Disorders","Liver Diseases","Mouth Ulcer","Nasal Drops","Anti Scabies","Anxiolytic/Anti Depresent","Anxilytic/ Antidepressant","Other"],FL=["Tablet","Capsule","Syrup","Injection","Cream","Ointment","Drops","Inhaler","Suspension","Solution","Powder","Granules","Gel","Lotion","Spray","Patch","Suppository","Eye Drops","Ear Drops","Nasal Drops","Sachet","Other"];function UL({product:t,onSubmit:e,onCancel:r}){var p,x;const{generateBarcode:n}=fi(),{racks:s}=ig(),[i,a]=h.useState(!1),l=(t==null?void 0:t.rack_id)||((p=t==null?void 0:t.rack)!=null&&p.id&&t.rack.id.trim()!==""?t.rack.id:""),c=(t==null?void 0:t.barcode)||"",[u,d]=h.useState({name:(t==null?void 0:t.name)||"",strength:(t==null?void 0:t.strength)||"",dosage_form:(t==null?void 0:t.dosage_form)||"",barcode:c,category:(t==null?void 0:t.category)||"",min_stock:((x=t==null?void 0:t.min_stock)==null?void 0:x.toString())||"10",manufacturer:(t==null?void 0:t.manufacturer)||"",salt_formula:(t==null?void 0:t.salt_formula)||"",rack_id:l});h.useEffect(()=>{var m,b;if(t){const y=t.rack_id||((m=t.rack)!=null&&m.id&&t.rack.id.trim()!==""?t.rack.id:"");d({name:t.name||"",strength:t.strength||"",dosage_form:t.dosage_form||"",barcode:t.barcode||"",category:t.category||"",min_stock:((b=t.min_stock)==null?void 0:b.toString())||"10",manufacturer:t.manufacturer||"",salt_formula:t.salt_formula||"",rack_id:y})}else d({name:"",strength:"",dosage_form:"",barcode:"",category:"",min_stock:"10",manufacturer:"",salt_formula:"",rack_id:""})},[t]);const f=async()=>{a(!0);const m=await n();m&&d({...u,barcode:m}),a(!1)},g=async m=>{var w,_,k;if(m.preventDefault(),!u.name||u.name.trim()===""){H.error("Product name is required");return}if(!u.rack_id||u.rack_id.trim()===""){H.error("Please select a rack for this product");return}if(!s.find(E=>E.id===u.rack_id)){H.error("Selected rack is invalid. Please select a valid rack.");return}const y=parseInt(u.min_stock);if(isNaN(y)||y<0){H.error("Minimum stock must be a valid number (0 or greater)");return}let v=u.barcode.trim();if(!v&&!t){a(!0);const E=await n();a(!1),E?v=E:v=`HH-${Date.now()}-${Math.random().toString(36).substring(2,9)}`}if(!v)if(t!=null&&t.barcode)v=t.barcode;else{a(!0);const E=await n();a(!1),E?v=E:v=`HH-${Date.now()}-${Math.random().toString(36).substring(2,9)}`}e({name:u.name.trim(),strength:((w=u.strength)==null?void 0:w.trim())||null,dosage_form:u.dosage_form||null,barcode:v,category:u.category||null,min_stock:y,manufacturer:((_=u.manufacturer)==null?void 0:_.trim())||null,salt_formula:((k=u.salt_formula)==null?void 0:k.trim())||null,rack_id:u.rack_id})};return o.jsxs("form",{onSubmit:g,className:"flex flex-col h-full",children:[o.jsxs("div",{className:"flex-1 overflow-y-auto pr-0 sm:pr-2 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(je,{htmlFor:"name",children:"Medicine Name"}),o.jsx(Ie,{id:"name",value:u.name,onChange:m=>d({...u,name:m.target.value}),placeholder:"e.g., Paracetamol",required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(je,{htmlFor:"strength",children:"Strength"}),o.jsx(Ie,{id:"strength",value:u.strength,onChange:m=>d({...u,strength:m.target.value}),placeholder:"e.g., 500mg, 100ml"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(je,{htmlFor:"dosageForm",children:"Dosage Form"}),o.jsxs(Mc,{value:u.dosage_form||"",onValueChange:m=>d({...u,dosage_form:m}),children:[o.jsx(Ao,{children:o.jsx($c,{placeholder:"Select form"})}),o.jsx(Oo,{children:FL.map(m=>o.jsx(Io,{value:m,children:m},m))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(je,{htmlFor:"barcode",children:"Barcode"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Ie,{id:"barcode",value:u.barcode,onChange:m=>d({...u,barcode:m.target.value}),onKeyDown:m=>{m.key==="Enter"&&u.barcode.trim()&&m.preventDefault()},placeholder:"Scan barcode or enter manually (leave empty to auto-generate)",disabled:!!(t!=null&&t.barcode),autoComplete:"off",autoFocus:!1}),!(t!=null&&t.barcode)&&o.jsx(fe,{type:"button",variant:"outline",onClick:f,disabled:i,children:i?o.jsx(Xi,{className:"w-4 h-4 animate-spin"}):"Generate"})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:t!=null&&t.barcode?"Barcode cannot be changed after creation":"Scan with hardware scanner, type manually, or leave empty to auto-generate"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(je,{htmlFor:"category",children:"Category"}),o.jsxs(Mc,{value:u.category||"",onValueChange:m=>d({...u,category:m}),children:[o.jsx(Ao,{children:o.jsx($c,{placeholder:"Select category"})}),o.jsx(Oo,{children:LL.map(m=>o.jsx(Io,{value:m,children:m},m))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(je,{htmlFor:"rack_id",children:["Rack / Section ",o.jsx("span",{className:"text-destructive",children:"*"})]}),s.length===0?o.jsx("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:o.jsx("p",{className:"text-sm text-muted-foreground",children:"No racks available. Please create a rack first in the Racks page."})}):o.jsxs(o.Fragment,{children:[o.jsxs(Mc,{value:u.rack_id&&u.rack_id.trim()!==""?u.rack_id:"",onValueChange:m=>{m&&m.trim()!==""?d({...u,rack_id:m}):d({...u,rack_id:""})},required:!0,children:[o.jsx(Ao,{className:u.rack_id?"":"border-destructive",children:o.jsx($c,{placeholder:"Search or select rack"})}),o.jsx(Oo,{children:s.filter(m=>m&&m.id&&m.id.trim()!=="").map(m=>o.jsx(Io,{value:m.id,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:m.color||"#10b981"}}),m.name,m.description&&o.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["(",m.description,")"]})]})},m.id))})]}),!u.rack_id&&o.jsx("p",{className:"text-xs text-destructive",children:"Rack selection is required"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(je,{htmlFor:"manufacturer",children:"Manufacturer"}),o.jsx(Ie,{id:"manufacturer",value:u.manufacturer,onChange:m=>d({...u,manufacturer:m.target.value}),placeholder:"e.g., PharmaCo"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(je,{htmlFor:"salt_formula",children:"Salt / Formula"}),o.jsx(Ie,{id:"salt_formula",value:u.salt_formula,onChange:m=>d({...u,salt_formula:m.target.value}),placeholder:"e.g., Paracetamol, Ibuprofen"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Optional - Active ingredient or formula"})]})]}),o.jsx("div",{className:"grid grid-cols-2 gap-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx(je,{htmlFor:"min_stock",children:"Minimum Stock Alert"}),o.jsx(Ie,{id:"min_stock",type:"number",value:u.min_stock,onChange:m=>d({...u,min_stock:m.target.value}),required:!0})]})}),o.jsx("div",{className:"p-4 bg-muted/50 rounded-xl border border-border",children:o.jsxs("p",{className:"text-sm text-muted-foreground",children:[o.jsx("strong",{children:"Note:"})," Product prices are managed at the batch level. When you add stock purchases, you'll set the cost and selling prices for each batch."]})}),o.jsx("div",{className:"p-4 bg-muted/50 rounded-xl border border-border",children:o.jsxs("p",{className:"text-sm text-muted-foreground",children:[o.jsx("strong",{children:"Note:"})," Stock is managed through Stock Purchases with batch tracking. Each purchase creates a new batch with its own expiry date."]})})]}),o.jsxs("div",{className:"flex flex-col-reverse sm:flex-row justify-end gap-3 pt-4 border-t mt-4 flex-shrink-0",children:[o.jsx(fe,{type:"button",variant:"outline",onClick:r,className:"w-full sm:w-auto",children:"Cancel"}),o.jsx(fe,{type:"submit",className:"w-full sm:w-auto",children:t?"Update Product":"Add Product"})]})]})}function BL(){const{products:t,batches:e,loading:r,addProduct:n,updateProduct:s,disableProduct:i,enableProduct:a,getProductStock:l,getProductBatches:c,fetchProducts:u}=fi(),{racks:d}=ig(),[f,g]=h.useState(""),[p,x]=h.useState(""),[m,b]=h.useState(!1),[y,v]=h.useState(),[w,_]=h.useState(null),[k,E]=h.useState(null),[S,R]=h.useState(null),$=vd(),O=sk(f,300);h.useEffect(()=>{u(O,p)},[O,p,u]);const N=h.useMemo(()=>t.filter(j=>{var L,q;if(!j||p&&j.rack_id!==p)return!1;if(O&&O.trim()!==""){const T=O.toLowerCase().trim(),B=((L=j.name)==null?void 0:L.toLowerCase().startsWith(T))||!1,F=((q=j.barcode)==null?void 0:q.toLowerCase())===T;return B||F}return!0}),[t,p,O]),A=async j=>{y?await s(y.id,j)&&(H.success("Product updated successfully"),b(!1),v(void 0)):await n(j)&&(H.success("Product added successfully"),b(!1),v(void 0))},I=j=>{var L;!j.rack_id&&((L=j.rack)!=null&&L.id)&&(j.rack_id=j.rack.id),v(j),b(!0)},D=async()=>{w&&(await i(w)?(H.success("Product disabled successfully"),_(null)):H.error("Failed to disable product. Please try again."))},W=async()=>{k&&(await a(k)?(H.success("Product enabled successfully"),E(null)):H.error("Failed to enable product. Please try again."))},V=(j,L)=>{const q=l(j);return q<=0?o.jsx(Ze,{variant:"destructive",children:"Out of Stock"}):q<=(L||0)?o.jsxs(Ze,{className:"bg-warning text-warning-foreground",children:["Low: ",q]}):o.jsx(Ze,{variant:"secondary",children:q})},Q=t.find(j=>j.id===S),C=S?c(S):[];return o.jsx(ri,{children:o.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6 sm:mb-8",children:[o.jsxs("div",{className:"page-header mb-0",children:[o.jsx("h1",{className:"page-title text-2xl sm:text-3xl",children:"Products"}),o.jsx("p",{className:"page-subtitle text-sm sm:text-base",children:"Manage your medicine catalog  Stock tracked via batches"})]}),o.jsxs(fe,{onClick:()=>b(!0),className:"shadow-sm w-full sm:w-auto",children:[o.jsx(td,{className:"w-4 h-4 mr-2"}),"Add Product"]})]}),o.jsxs("div",{className:"bg-card rounded-2xl border border-border/60 shadow-sm overflow-hidden",children:[o.jsx("div",{className:"p-4 sm:p-5 border-b border-border space-y-4",children:o.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 sm:gap-4",children:[o.jsxs("div",{className:"relative flex-1 w-full",children:[o.jsx(rd,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(Ie,{placeholder:"Search products by name...",value:f,onChange:j=>g(j.target.value),className:"pl-10 h-10 sm:h-9"})]}),o.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto sm:min-w-[200px]",children:[o.jsxs(Mc,{value:p||void 0,onValueChange:j=>{j&&j.trim()!==""?x(j):x("")},children:[o.jsx(Ao,{className:"w-full sm:w-full h-10 sm:h-9",children:o.jsx($c,{placeholder:"Filter by rack..."})}),o.jsx(Oo,{children:d.filter(j=>j&&j.id&&j.id.trim()!=="").map(j=>o.jsx(Io,{value:j.id,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:j.color||"#10b981"}}),j.name]})},j.id))})]}),p&&o.jsx(fe,{variant:"ghost",size:"icon",className:"h-10 w-10 sm:h-9 sm:w-9 flex-shrink-0",onClick:()=>x(""),children:o.jsx(Da,{className:"w-4 h-4"})})]})]})}),o.jsxs("div",{className:"block md:hidden p-4 space-y-3",children:[N.map(j=>{const L=c(j.id);return o.jsxs("div",{className:"bg-muted/30 rounded-xl p-4 border border-border/40 space-y-3",children:[o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[o.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/10 flex items-center justify-center flex-shrink-0",children:o.jsx(_t,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("p",{className:`font-medium break-words ${j.is_active===!1?"line-through text-muted-foreground":"text-foreground"}`,children:j.name}),j.is_active===!1&&o.jsx(Ze,{variant:"destructive",className:"text-xs",children:"Disabled"})]}),o.jsxs("div",{className:"flex items-center gap-2 mt-0.5 flex-wrap",children:[j.strength&&o.jsx("span",{className:"text-xs text-primary font-medium",children:j.strength}),j.dosage_form&&o.jsxs("span",{className:"text-xs text-muted-foreground",children:[" ",j.dosage_form]})]})]})]}),o.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[o.jsx(fe,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>I(j),children:o.jsx($v,{className:"w-4 h-4"})}),j.is_active===!1?o.jsx(fe,{variant:"ghost",size:"icon",className:"h-8 w-8 text-green-600 hover:text-green-600 hover:bg-green-600/10",onClick:()=>E(j.id),children:o.jsx(_t,{className:"w-4 h-4"})}):o.jsx(fe,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive hover:bg-destructive/10",onClick:()=>_(j.id),children:o.jsx(wa,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Barcode:"}),o.jsx("p",{className:"font-mono text-xs mt-0.5",children:j.barcode||"N/A"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Category:"}),o.jsx("div",{className:"mt-0.5",children:o.jsx(Ze,{variant:"outline",className:"text-xs",children:j.category||"Uncategorized"})})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Rack:"}),o.jsx("div",{className:"mt-0.5",children:j.rack?o.jsx(Ze,{variant:"outline",style:{borderColor:j.rack.color,color:j.rack.color},className:"text-xs",children:j.rack.name}):o.jsx("span",{className:"text-muted-foreground text-xs",children:"-"})})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Stock:"}),o.jsx("div",{className:"mt-0.5",children:V(j.id,j.min_stock||0)})]})]}),o.jsx("div",{className:"flex items-center justify-between pt-2 border-t border-border",children:o.jsxs(fe,{variant:"ghost",size:"sm",onClick:()=>R(j.id),className:"text-xs",children:[o.jsx(cu,{className:"w-3 h-3 mr-1"}),L.length," batches"]})})]},j.id)}),N.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-16 h-16 rounded-2xl bg-muted/50 flex items-center justify-center mx-auto mb-4",children:o.jsx(_t,{className:"w-8 h-8 text-muted-foreground/50"})}),o.jsx("p",{className:"text-muted-foreground font-medium",children:"No products found"})]})]}),o.jsx("div",{className:"hidden md:block overflow-x-auto",children:o.jsxs(nr,{children:[o.jsx(sr,{children:o.jsxs(Oe,{className:"table-header",children:[o.jsx(le,{children:"Product"}),o.jsx(le,{children:"Barcode"}),o.jsx(le,{children:"Category"}),o.jsx(le,{children:"Rack"}),o.jsx(le,{className:"text-center",children:"Stock"}),o.jsx(le,{className:"text-center",children:"Batches"}),o.jsx(le,{className:"text-right",children:"Actions"})]})}),o.jsxs(ir,{children:[N.map(j=>{const L=c(j.id);return o.jsxs(Oe,{className:"hover:bg-muted/30",children:[o.jsx(te,{children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/10 flex items-center justify-center",children:o.jsx(_t,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("p",{className:`font-medium break-words ${j.is_active===!1?"line-through text-muted-foreground":"text-foreground"}`,children:j.name}),j.is_active===!1&&o.jsx(Ze,{variant:"destructive",className:"text-xs",children:"Disabled"})]}),o.jsxs("div",{className:"flex items-center gap-2 mt-0.5 flex-wrap",children:[j.strength&&o.jsx("span",{className:"text-xs text-primary font-medium",children:j.strength}),j.dosage_form&&o.jsxs("span",{className:"text-xs text-muted-foreground",children:[" ",j.dosage_form]})]})]})]})}),o.jsx(te,{className:"font-mono text-sm",children:j.barcode||"N/A"}),o.jsx(te,{children:o.jsx(Ze,{variant:"outline",children:j.category||"Uncategorized"})}),o.jsx(te,{children:j.rack?o.jsx(Ze,{variant:"outline",style:{borderColor:j.rack.color,color:j.rack.color},children:j.rack.name}):o.jsx("span",{className:"text-muted-foreground text-sm",children:"-"})}),o.jsx(te,{className:"text-center",children:V(j.id,j.min_stock||0)}),o.jsx(te,{className:"text-center",children:o.jsxs(fe,{variant:"ghost",size:"sm",onClick:()=>R(j.id),className:"hover:bg-primary/10 hover:text-primary",children:[o.jsx(cu,{className:"w-4 h-4 mr-1"}),L.length]})}),o.jsx(te,{className:"text-right",children:o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(fe,{variant:"ghost",size:"icon",onClick:()=>I(j),className:"hover:bg-primary/10 hover:text-primary",children:o.jsx($v,{className:"w-4 h-4"})}),j.is_active===!1?o.jsx(fe,{variant:"ghost",size:"icon",className:"text-green-600 hover:text-green-600 hover:bg-green-600/10",onClick:()=>E(j.id),children:o.jsx(_t,{className:"w-4 h-4"})}):o.jsx(fe,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive hover:bg-destructive/10",onClick:()=>_(j.id),children:o.jsx(wa,{className:"w-4 h-4"})})]})})]},j.id)}),N.length===0&&o.jsx(Oe,{children:o.jsxs(te,{colSpan:7,className:"text-center py-12",children:[o.jsx("div",{className:"w-16 h-16 rounded-2xl bg-muted/50 flex items-center justify-center mx-auto mb-4",children:o.jsx(_t,{className:"w-8 h-8 text-muted-foreground/50"})}),o.jsx("p",{className:"text-muted-foreground font-medium",children:"No products found"})]})})]})]})})]}),o.jsx(Hs,{open:m,onOpenChange:j=>{b(j),j||v(void 0)},children:o.jsxs(es,{className:"max-w-2xl w-[95vw] sm:w-auto max-h-[90vh] overflow-y-auto",children:[o.jsxs(ts,{children:[o.jsx(rs,{children:y?"Edit Product":"Add New Product"}),o.jsx(ns,{children:y?"Update product information below.":"Fill in the product details to add a new item to your inventory."})]}),o.jsx(UL,{product:y,onSubmit:async j=>{await A(j)},onCancel:()=>{b(!1),v(void 0)}})]})}),o.jsx(Hs,{open:!!S,onOpenChange:()=>R(null),children:o.jsxs(es,{className:"max-w-2xl w-[95vw] sm:w-auto max-h-[90vh] overflow-y-auto",children:[o.jsxs(ts,{children:[o.jsxs(rs,{children:["Batch Details  ",Q==null?void 0:Q.name," ",Q==null?void 0:Q.strength]}),o.jsx(ns,{children:"View and manage stock batches for this product. Batches are sorted by expiry date (FEFO)."})]}),o.jsx("div",{className:"max-h-96 overflow-auto",children:o.jsxs(nr,{children:[o.jsx(sr,{children:o.jsxs(Oe,{children:[o.jsx(le,{children:"Batch No."}),o.jsx(le,{className:"text-right",children:"Qty"}),o.jsx(le,{children:"Expiry"}),o.jsx(le,{children:"Status"})]})}),o.jsxs(ir,{children:[C.map(j=>{if(!j||!j.expiry_date)return null;const L=tr(j.expiry_date),q=Fr(L,$),T=!q&&Fr(L,dl($,30));return o.jsxs(Oe,{className:q?"opacity-50":"",children:[o.jsx(te,{className:"font-mono text-sm",children:j.batch_number||"N/A"}),o.jsx(te,{className:"text-right font-medium",children:j.quantity||0}),o.jsx(te,{children:kt(L,"MMM d, yyyy")}),o.jsx(te,{children:q?o.jsx(Ze,{variant:"destructive",children:"Expired"}):T?o.jsx(Ze,{className:"bg-warning text-warning-foreground",children:"Expiring Soon"}):o.jsx(Ze,{variant:"secondary",children:"Active"})})]},j.id)}),C.length===0&&o.jsx(Oe,{children:o.jsx(te,{colSpan:4,className:"text-center py-8 text-muted-foreground",children:"No batches found. Add stock through Stock Purchases."})})]})]})})]})}),o.jsx(pp,{open:!!w,onOpenChange:()=>_(null),children:o.jsxs(Tu,{children:[o.jsxs(Pu,{children:[o.jsx(Au,{children:"Disable Product"}),o.jsx(Ou,{children:"Are you sure you want to disable this product? Disabled products will not appear in POS search, cart, or sales flow, but will remain visible in the Products page for record purposes. This action can be reversed."})]}),o.jsxs(Ru,{children:[o.jsx(Du,{children:"Cancel"}),o.jsx(Iu,{onClick:D,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Disable"})]})]})}),o.jsx(pp,{open:!!k,onOpenChange:()=>E(null),children:o.jsxs(Tu,{children:[o.jsxs(Pu,{children:[o.jsx(Au,{children:"Enable Product"}),o.jsx(Ou,{children:"Are you sure you want to enable this product? Enabled products will appear in POS search, cart, and sales flow."})]}),o.jsxs(Ru,{children:[o.jsx(Du,{children:"Cancel"}),o.jsx(Iu,{onClick:W,className:"bg-green-600 text-white hover:bg-green-700",children:"Enable"})]})]})})]})})}var _x=1,zL=.9,VL=.8,WL=.17,Uf=.1,Bf=.999,qL=.9999,HL=.99,KL=/[\\\/_+.#"@\[\(\{&]/,GL=/[\\\/_+.#"@\[\(\{&]/g,YL=/[\s-]/,_S=/[\s-]/g;function wp(t,e,r,n,s,i,a){if(i===e.length)return s===t.length?_x:HL;var l=`${s},${i}`;if(a[l]!==void 0)return a[l];for(var c=n.charAt(i),u=r.indexOf(c,s),d=0,f,g,p,x;u>=0;)f=wp(t,e,r,n,u+1,i+1,a),f>d&&(u===s?f*=_x:KL.test(t.charAt(u-1))?(f*=VL,p=t.slice(s,u-1).match(GL),p&&s>0&&(f*=Math.pow(Bf,p.length))):YL.test(t.charAt(u-1))?(f*=zL,x=t.slice(s,u-1).match(_S),x&&s>0&&(f*=Math.pow(Bf,x.length))):(f*=WL,s>0&&(f*=Math.pow(Bf,u-s))),t.charAt(u)!==e.charAt(i)&&(f*=qL)),(f<Uf&&r.charAt(u-1)===n.charAt(i+1)||n.charAt(i+1)===n.charAt(i)&&r.charAt(u-1)!==n.charAt(i))&&(g=wp(t,e,r,n,u+1,i+2,a),g*Uf>f&&(f=g*Uf)),f>d&&(d=f),u=r.indexOf(c,u+1);return a[l]=d,d}function kx(t){return t.toLowerCase().replace(_S," ")}function QL(t,e,r){return t=r&&r.length>0?`${t+" "+r.join(" ")}`:t,wp(t,e,kx(t),kx(e),0,0,{})}var uo='[cmdk-group=""]',zf='[cmdk-group-items=""]',ZL='[cmdk-group-heading=""]',kS='[cmdk-item=""]',Sx=`${kS}:not([aria-disabled="true"])`,bp="cmdk-item-select",Ai="data-value",JL=(t,e,r)=>QL(t,e,r),SS=h.createContext(void 0),Dl=()=>h.useContext(SS),jS=h.createContext(void 0),ag=()=>h.useContext(jS),ES=h.createContext(void 0),NS=h.forwardRef((t,e)=>{let r=Oi(()=>{var T,B;return{search:"",value:(B=(T=t.value)!=null?T:t.defaultValue)!=null?B:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=Oi(()=>new Set),s=Oi(()=>new Map),i=Oi(()=>new Map),a=Oi(()=>new Set),l=CS(t),{label:c,children:u,value:d,onValueChange:f,filter:g,shouldFilter:p,loop:x,disablePointerSelection:m=!1,vimBindings:b=!0,...y}=t,v=Tt(),w=Tt(),_=Tt(),k=h.useRef(null),E=cF();ai(()=>{if(d!==void 0){let T=d.trim();r.current.value=T,S.emit()}},[d]),ai(()=>{E(6,I)},[]);let S=h.useMemo(()=>({subscribe:T=>(a.current.add(T),()=>a.current.delete(T)),snapshot:()=>r.current,setState:(T,B,F)=>{var P,U,M,J;if(!Object.is(r.current[T],B)){if(r.current[T]=B,T==="search")A(),O(),E(1,N);else if(T==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let ne=document.getElementById(_);ne?ne.focus():(P=document.getElementById(v))==null||P.focus()}if(E(7,()=>{var ne;r.current.selectedItemId=(ne=D())==null?void 0:ne.id,S.emit()}),F||E(5,I),((U=l.current)==null?void 0:U.value)!==void 0){let ne=B??"";(J=(M=l.current).onValueChange)==null||J.call(M,ne);return}}S.emit()}},emit:()=>{a.current.forEach(T=>T())}}),[]),R=h.useMemo(()=>({value:(T,B,F)=>{var P;B!==((P=i.current.get(T))==null?void 0:P.value)&&(i.current.set(T,{value:B,keywords:F}),r.current.filtered.items.set(T,$(B,F)),E(2,()=>{O(),S.emit()}))},item:(T,B)=>(n.current.add(T),B&&(s.current.has(B)?s.current.get(B).add(T):s.current.set(B,new Set([T]))),E(3,()=>{A(),O(),r.current.value||N(),S.emit()}),()=>{i.current.delete(T),n.current.delete(T),r.current.filtered.items.delete(T);let F=D();E(4,()=>{A(),(F==null?void 0:F.getAttribute("id"))===T&&N(),S.emit()})}),group:T=>(s.current.has(T)||s.current.set(T,new Set),()=>{i.current.delete(T),s.current.delete(T)}),filter:()=>l.current.shouldFilter,label:c||t["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:v,inputId:_,labelId:w,listInnerRef:k}),[]);function $(T,B){var F,P;let U=(P=(F=l.current)==null?void 0:F.filter)!=null?P:JL;return T?U(T,r.current.search,B):0}function O(){if(!r.current.search||l.current.shouldFilter===!1)return;let T=r.current.filtered.items,B=[];r.current.filtered.groups.forEach(P=>{let U=s.current.get(P),M=0;U.forEach(J=>{let ne=T.get(J);M=Math.max(ne,M)}),B.push([P,M])});let F=k.current;W().sort((P,U)=>{var M,J;let ne=P.getAttribute("id"),oe=U.getAttribute("id");return((M=T.get(oe))!=null?M:0)-((J=T.get(ne))!=null?J:0)}).forEach(P=>{let U=P.closest(zf);U?U.appendChild(P.parentElement===U?P:P.closest(`${zf} > *`)):F.appendChild(P.parentElement===F?P:P.closest(`${zf} > *`))}),B.sort((P,U)=>U[1]-P[1]).forEach(P=>{var U;let M=(U=k.current)==null?void 0:U.querySelector(`${uo}[${Ai}="${encodeURIComponent(P[0])}"]`);M==null||M.parentElement.appendChild(M)})}function N(){let T=W().find(F=>F.getAttribute("aria-disabled")!=="true"),B=T==null?void 0:T.getAttribute(Ai);S.setState("value",B||void 0)}function A(){var T,B,F,P;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let U=0;for(let M of n.current){let J=(B=(T=i.current.get(M))==null?void 0:T.value)!=null?B:"",ne=(P=(F=i.current.get(M))==null?void 0:F.keywords)!=null?P:[],oe=$(J,ne);r.current.filtered.items.set(M,oe),oe>0&&U++}for(let[M,J]of s.current)for(let ne of J)if(r.current.filtered.items.get(ne)>0){r.current.filtered.groups.add(M);break}r.current.filtered.count=U}function I(){var T,B,F;let P=D();P&&(((T=P.parentElement)==null?void 0:T.firstChild)===P&&((F=(B=P.closest(uo))==null?void 0:B.querySelector(ZL))==null||F.scrollIntoView({block:"nearest"})),P.scrollIntoView({block:"nearest"}))}function D(){var T;return(T=k.current)==null?void 0:T.querySelector(`${kS}[aria-selected="true"]`)}function W(){var T;return Array.from(((T=k.current)==null?void 0:T.querySelectorAll(Sx))||[])}function V(T){let B=W()[T];B&&S.setState("value",B.getAttribute(Ai))}function Q(T){var B;let F=D(),P=W(),U=P.findIndex(J=>J===F),M=P[U+T];(B=l.current)!=null&&B.loop&&(M=U+T<0?P[P.length-1]:U+T===P.length?P[0]:P[U+T]),M&&S.setState("value",M.getAttribute(Ai))}function C(T){let B=D(),F=B==null?void 0:B.closest(uo),P;for(;F&&!P;)F=T>0?oF(F,uo):lF(F,uo),P=F==null?void 0:F.querySelector(Sx);P?S.setState("value",P.getAttribute(Ai)):Q(T)}let j=()=>V(W().length-1),L=T=>{T.preventDefault(),T.metaKey?j():T.altKey?C(1):Q(1)},q=T=>{T.preventDefault(),T.metaKey?V(0):T.altKey?C(-1):Q(-1)};return h.createElement(ce.div,{ref:e,tabIndex:-1,...y,"cmdk-root":"",onKeyDown:T=>{var B;(B=y.onKeyDown)==null||B.call(y,T);let F=T.nativeEvent.isComposing||T.keyCode===229;if(!(T.defaultPrevented||F))switch(T.key){case"n":case"j":{b&&T.ctrlKey&&L(T);break}case"ArrowDown":{L(T);break}case"p":case"k":{b&&T.ctrlKey&&q(T);break}case"ArrowUp":{q(T);break}case"Home":{T.preventDefault(),V(0);break}case"End":{T.preventDefault(),j();break}case"Enter":{T.preventDefault();let P=D();if(P){let U=new Event(bp);P.dispatchEvent(U)}}}}},h.createElement("label",{"cmdk-label":"",htmlFor:R.inputId,id:R.labelId,style:dF},c),Ad(t,T=>h.createElement(jS.Provider,{value:S},h.createElement(SS.Provider,{value:R},T))))}),XL=h.forwardRef((t,e)=>{var r,n;let s=Tt(),i=h.useRef(null),a=h.useContext(ES),l=Dl(),c=CS(t),u=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:a==null?void 0:a.forceMount;ai(()=>{if(!u)return l.item(s,a==null?void 0:a.id)},[u]);let d=TS(s,i,[t.value,t.children,i],t.keywords),f=ag(),g=fs(E=>E.value&&E.value===d.current),p=fs(E=>u||l.filter()===!1?!0:E.search?E.filtered.items.get(s)>0:!0);h.useEffect(()=>{let E=i.current;if(!(!E||t.disabled))return E.addEventListener(bp,x),()=>E.removeEventListener(bp,x)},[p,t.onSelect,t.disabled]);function x(){var E,S;m(),(S=(E=c.current).onSelect)==null||S.call(E,d.current)}function m(){f.setState("value",d.current,!0)}if(!p)return null;let{disabled:b,value:y,onSelect:v,forceMount:w,keywords:_,...k}=t;return h.createElement(ce.div,{ref:Js(i,e),...k,id:s,"cmdk-item":"",role:"option","aria-disabled":!!b,"aria-selected":!!g,"data-disabled":!!b,"data-selected":!!g,onPointerMove:b||l.getDisablePointerSelection()?void 0:m,onClick:b?void 0:x},t.children)}),eF=h.forwardRef((t,e)=>{let{heading:r,children:n,forceMount:s,...i}=t,a=Tt(),l=h.useRef(null),c=h.useRef(null),u=Tt(),d=Dl(),f=fs(p=>s||d.filter()===!1?!0:p.search?p.filtered.groups.has(a):!0);ai(()=>d.group(a),[]),TS(a,l,[t.value,t.heading,c]);let g=h.useMemo(()=>({id:a,forceMount:s}),[s]);return h.createElement(ce.div,{ref:Js(l,e),...i,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&h.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),Ad(t,p=>h.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},h.createElement(ES.Provider,{value:g},p))))}),tF=h.forwardRef((t,e)=>{let{alwaysRender:r,...n}=t,s=h.useRef(null),i=fs(a=>!a.search);return!r&&!i?null:h.createElement(ce.div,{ref:Js(s,e),...n,"cmdk-separator":"",role:"separator"})}),rF=h.forwardRef((t,e)=>{let{onValueChange:r,...n}=t,s=t.value!=null,i=ag(),a=fs(u=>u.search),l=fs(u=>u.selectedItemId),c=Dl();return h.useEffect(()=>{t.value!=null&&i.setState("search",t.value)},[t.value]),h.createElement(ce.input,{ref:e,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:s?t.value:a,onChange:u=>{s||i.setState("search",u.target.value),r==null||r(u.target.value)}})}),nF=h.forwardRef((t,e)=>{let{children:r,label:n="Suggestions",...s}=t,i=h.useRef(null),a=h.useRef(null),l=fs(u=>u.selectedItemId),c=Dl();return h.useEffect(()=>{if(a.current&&i.current){let u=a.current,d=i.current,f,g=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let p=u.offsetHeight;d.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return g.observe(u),()=>{cancelAnimationFrame(f),g.unobserve(u)}}},[]),h.createElement(ce.div,{ref:Js(i,e),...s,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":n,id:c.listId},Ad(t,u=>h.createElement("div",{ref:Js(a,c.listInnerRef),"cmdk-list-sizer":""},u)))}),sF=h.forwardRef((t,e)=>{let{open:r,onOpenChange:n,overlayClassName:s,contentClassName:i,container:a,...l}=t;return h.createElement(_d,{open:r,onOpenChange:n},h.createElement(kd,{container:a},h.createElement(qa,{"cmdk-overlay":"",className:s}),h.createElement(Ha,{"aria-label":t.label,"cmdk-dialog":"",className:i},h.createElement(NS,{ref:e,...l}))))}),iF=h.forwardRef((t,e)=>fs(r=>r.filtered.count===0)?h.createElement(ce.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),aF=h.forwardRef((t,e)=>{let{progress:r,children:n,label:s="Loading...",...i}=t;return h.createElement(ce.div,{ref:e,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},Ad(t,a=>h.createElement("div",{"aria-hidden":!0},a)))}),Lt=Object.assign(NS,{List:nF,Item:XL,Input:rF,Group:eF,Separator:tF,Dialog:sF,Empty:iF,Loading:aF});function oF(t,e){let r=t.nextElementSibling;for(;r;){if(r.matches(e))return r;r=r.nextElementSibling}}function lF(t,e){let r=t.previousElementSibling;for(;r;){if(r.matches(e))return r;r=r.previousElementSibling}}function CS(t){let e=h.useRef(t);return ai(()=>{e.current=t}),e}var ai=typeof window>"u"?h.useEffect:h.useLayoutEffect;function Oi(t){let e=h.useRef();return e.current===void 0&&(e.current=t()),e}function fs(t){let e=ag(),r=()=>t(e.snapshot());return h.useSyncExternalStore(e.subscribe,r,r)}function TS(t,e,r,n=[]){let s=h.useRef(),i=Dl();return ai(()=>{var a;let l=(()=>{var u;for(let d of r){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():s.current}})(),c=n.map(u=>u.trim());i.value(t,l,c),(a=e.current)==null||a.setAttribute(Ai,l),s.current=l}),s}var cF=()=>{let[t,e]=h.useState(),r=Oi(()=>new Map);return ai(()=>{r.current.forEach(n=>n()),r.current=new Map},[t]),(n,s)=>{r.current.set(n,s),e({})}};function uF(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function Ad({asChild:t,children:e},r){return t&&h.isValidElement(e)?h.cloneElement(uF(e),{ref:e.ref},r(e.props.children)):r(e)}var dF={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const PS=h.forwardRef(({className:t,...e},r)=>o.jsx(Lt,{ref:r,className:Z("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...e}));PS.displayName=Lt.displayName;const RS=h.forwardRef(({className:t,...e},r)=>o.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[o.jsx(rd,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),o.jsx(Lt.Input,{ref:r,className:Z("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...e})]}));RS.displayName=Lt.Input.displayName;const AS=h.forwardRef(({className:t,...e},r)=>o.jsx(Lt.List,{ref:r,className:Z("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...e}));AS.displayName=Lt.List.displayName;const OS=h.forwardRef((t,e)=>o.jsx(Lt.Empty,{ref:e,className:"py-6 text-center text-sm",...t}));OS.displayName=Lt.Empty.displayName;const IS=h.forwardRef(({className:t,...e},r)=>o.jsx(Lt.Group,{ref:r,className:Z("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...e}));IS.displayName=Lt.Group.displayName;const fF=h.forwardRef(({className:t,...e},r)=>o.jsx(Lt.Separator,{ref:r,className:Z("-mx-1 h-px bg-border",t),...e}));fF.displayName=Lt.Separator.displayName;const DS=h.forwardRef(({className:t,...e},r)=>o.jsx(Lt.Item,{ref:r,className:Z("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",t),...e}));DS.displayName=Lt.Item.displayName;var Od="Popover",[MS,GF]=ur(Od,[Fa]),Ml=Fa(),[hF,bs]=MS(Od),$S=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:a=!1}=t,l=Ml(e),c=h.useRef(null),[u,d]=h.useState(!1),[f,g]=Pr({prop:n,defaultProp:s??!1,onChange:i,caller:Od});return o.jsx(i_,{...l,children:o.jsx(hF,{scope:e,contentId:Tt(),triggerRef:c,open:f,onOpenChange:g,onOpenToggle:h.useCallback(()=>g(p=>!p),[g]),hasCustomAnchor:u,onCustomAnchorAdd:h.useCallback(()=>d(!0),[]),onCustomAnchorRemove:h.useCallback(()=>d(!1),[]),modal:a,children:r})})};$S.displayName=Od;var LS="PopoverAnchor",pF=h.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=bs(LS,r),i=Ml(r),{onCustomAnchorAdd:a,onCustomAnchorRemove:l}=s;return h.useEffect(()=>(a(),()=>l()),[a,l]),o.jsx(ad,{...i,...n,ref:e})});pF.displayName=LS;var FS="PopoverTrigger",US=h.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=bs(FS,r),i=Ml(r),a=Pe(e,s.triggerRef),l=o.jsx(ce.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":qS(s.open),...n,ref:a,onClick:ae(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:o.jsx(ad,{asChild:!0,...i,children:l})});US.displayName=FS;var og="PopoverPortal",[mF,gF]=MS(og,{forceMount:void 0}),BS=t=>{const{__scopePopover:e,forceMount:r,children:n,container:s}=t,i=bs(og,e);return o.jsx(mF,{scope:e,forceMount:r,children:o.jsx(Gr,{present:r||i.open,children:o.jsx(El,{asChild:!0,container:s,children:n})})})};BS.displayName=og;var Pa="PopoverContent",zS=h.forwardRef((t,e)=>{const r=gF(Pa,t.__scopePopover),{forceMount:n=r.forceMount,...s}=t,i=bs(Pa,t.__scopePopover);return o.jsx(Gr,{present:n||i.open,children:i.modal?o.jsx(yF,{...s,ref:e}):o.jsx(xF,{...s,ref:e})})});zS.displayName=Pa;var vF=Xs("PopoverContent.RemoveScroll"),yF=h.forwardRef((t,e)=>{const r=bs(Pa,t.__scopePopover),n=h.useRef(null),s=Pe(e,n),i=h.useRef(!1);return h.useEffect(()=>{const a=n.current;if(a)return Gm(a)},[]),o.jsx(wd,{as:vF,allowPinchZoom:!0,children:o.jsx(VS,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ae(t.onCloseAutoFocus,a=>{var l;a.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ae(t.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:ae(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),xF=h.forwardRef((t,e)=>{const r=bs(Pa,t.__scopePopover),n=h.useRef(!1),s=h.useRef(!1);return o.jsx(VS,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=t.onCloseAutoFocus)==null||a.call(t,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),VS=h.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=t,g=bs(Pa,r),p=Ml(r);return Km(),o.jsx(yd,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(Ia,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>g.onOpenChange(!1),children:o.jsx(Am,{"data-state":qS(g.open),role:"dialog",id:g.contentId,...p,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),WS="PopoverClose",wF=h.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=bs(WS,r);return o.jsx(ce.button,{type:"button",...n,ref:e,onClick:ae(t.onClick,()=>s.onOpenChange(!1))})});wF.displayName=WS;var bF="PopoverArrow",_F=h.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=Ml(r);return o.jsx(Om,{...s,...n,ref:e})});_F.displayName=bF;function qS(t){return t?"open":"closed"}var kF=$S,SF=US,jF=BS,HS=zS;const EF=kF,NF=SF,KS=h.forwardRef(({className:t,align:e="center",sideOffset:r=4,...n},s)=>o.jsx(jF,{children:o.jsx(HS,{ref:s,align:e,sideOffset:r,className:Z("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));KS.displayName=HS.displayName;function CF(){var E;const{products:t,batches:e,getProductStock:r,addBatch:n,fetchProducts:s}=fi();jd();const[i,a]=h.useState(!1),[l,c]=h.useState(!1),[u,d]=h.useState(""),[f,g]=h.useState(null),[p,x]=h.useState({productId:"",batchNumber:"",quantity:"",costPrice:"",sellingPrice:"",expiryDate:"",supplier:""});h.useEffect(()=>{const S=setTimeout(()=>{s(u)},500);return()=>clearTimeout(S)},[u,s]);const m=vd(),b=t.find(S=>S.id===p.productId)||((f==null?void 0:f.id)===p.productId?f:void 0),y=t.filter(S=>{var R;if(!S||!S.id)return!1;if(u&&u.trim()!==""){const $=u.toLowerCase().trim(),O=S.name.toLowerCase().startsWith($),N=((R=S.barcode)==null?void 0:R.toLowerCase())===$;return O||N}return!0}),v=S=>{const R=e.filter($=>$.product_id===S.id).sort(($,O)=>new Date(O.purchase_date).getTime()-new Date($.purchase_date).getTime())[0];x({...p,productId:S.id,costPrice:(R==null?void 0:R.cost_price.toString())||"",sellingPrice:(R==null?void 0:R.selling_price.toString())||"",supplier:(R==null?void 0:R.supplier)||""}),g(S),c(!1)},w=async S=>{if(S.preventDefault(),!b){H.error("Please select a product");return}if(!p.batchNumber.trim()){H.error("Batch number is required");return}if(!p.expiryDate){H.error("Expiry date is required");return}const R=tr(p.expiryDate);if(Fr(R,m)){H.error("Cannot add expired stock");return}const $=parseInt(p.quantity),O=parseFloat(p.costPrice),N=parseFloat(p.sellingPrice);if(isNaN($)||$<=0){H.error("Quantity must be a positive number");return}if(isNaN(O)||O<=0){H.error("Cost price must be a positive number");return}if(isNaN(N)||N<=0){H.error("Selling price must be a positive number");return}await n({product_id:p.productId,batch_number:p.batchNumber.trim(),quantity:$,cost_price:O,selling_price:N,expiry_date:p.expiryDate,purchase_date:new Date().toISOString().split("T")[0],supplier:p.supplier||null})&&(H.success("Stock purchase recorded",{description:`Added ${$} units of ${b.name} (Batch: ${p.batchNumber})`}),x({productId:"",batchNumber:"",quantity:"",costPrice:"",sellingPrice:"",expiryDate:"",supplier:""}),g(null),a(!1))},_=[...e].sort((S,R)=>new Date(R.purchase_date).getTime()-new Date(S.purchase_date).getTime()),k=S=>{const R=tr(S),$=Fr(R,m),O=Fr(R,dl(m,30));return $?o.jsx(Ze,{variant:"destructive",children:"Expired"}):O?o.jsx(Ze,{className:"bg-warning text-warning-foreground",children:kt(R,"MMM d, yyyy")}):o.jsx("span",{className:"text-muted-foreground",children:kt(R,"MMM d, yyyy")})};return o.jsx(ri,{children:o.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6 sm:mb-8",children:[o.jsxs("div",{className:"page-header mb-0",children:[o.jsx("h1",{className:"page-title text-2xl sm:text-3xl",children:"Stock Purchases"}),o.jsx("p",{className:"page-subtitle text-sm sm:text-base",children:"Record batch-wise inventory purchases with expiry tracking"})]}),o.jsxs(fe,{onClick:()=>a(!0),className:"shadow-sm w-full sm:w-auto",children:[o.jsx(td,{className:"w-4 h-4 mr-2"}),"Add Purchase"]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-4 sm:mb-6",children:[o.jsx("div",{className:"bg-card rounded-2xl border border-border/60 p-5 shadow-sm",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/10 flex items-center justify-center",children:o.jsx(cu,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold text-foreground",children:e.length}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Batches"})]})]})}),o.jsx("div",{className:"bg-card rounded-2xl border border-border/60 p-5 shadow-sm",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-xl bg-warning/15 flex items-center justify-center",children:o.jsx(_t,{className:"w-5 h-5 text-warning"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold text-foreground",children:e.filter(S=>{const R=tr(S.expiry_date);return S.quantity>0&&!Fr(R,m)&&Fr(R,dl(m,30))}).length}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Expiring in 30 days"})]})]})}),o.jsx("div",{className:"bg-card rounded-2xl border border-border/60 p-5 shadow-sm",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-xl bg-destructive/15 flex items-center justify-center",children:o.jsx(_t,{className:"w-5 h-5 text-destructive"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold text-foreground",children:e.filter(S=>S.quantity>0&&Fr(tr(S.expiry_date),m)).length}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Expired Batches"})]})]})})]}),o.jsx("div",{className:"bg-card rounded-2xl border border-border/60 shadow-sm overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(nr,{children:[o.jsx(sr,{children:o.jsxs(Oe,{className:"table-header",children:[o.jsx(le,{children:"Product"}),o.jsx(le,{children:"Batch No."}),o.jsx(le,{children:"Supplier"}),o.jsx(le,{className:"text-right",children:"Qty"}),o.jsx(le,{className:"text-right",children:"Cost"}),o.jsx(le,{className:"text-right",children:"Total"}),o.jsx(le,{children:"Expiry"}),o.jsx(le,{children:"Date"})]})}),o.jsxs(ir,{children:[_.map(S=>{const R=t.find($=>$.id===S.product_id);return o.jsxs(Oe,{className:"hover:bg-muted/30",children:[o.jsx(te,{children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/10 flex items-center justify-center",children:o.jsx(_t,{className:"w-5 h-5 text-primary"})}),o.jsx("span",{className:"font-medium",children:(R==null?void 0:R.name)||"Unknown Product"})]})}),o.jsx(te,{children:o.jsx(Ze,{variant:"outline",className:"font-mono",children:S.batch_number})}),o.jsx(te,{className:"text-muted-foreground",children:S.supplier||"N/A"}),o.jsx(te,{className:"text-right font-medium",children:S.quantity}),o.jsx(te,{className:"text-right",children:_e(S.cost_price)}),o.jsx(te,{className:"text-right font-semibold text-primary",children:_e(S.quantity*S.cost_price)}),o.jsx(te,{children:k(S.expiry_date)}),o.jsx(te,{className:"text-muted-foreground",children:kt(new Date(S.purchase_date),"MMM d, yyyy")})]},S.id)}),_.length===0&&o.jsx(Oe,{children:o.jsxs(te,{colSpan:8,className:"text-center py-12",children:[o.jsx("div",{className:"w-16 h-16 rounded-2xl bg-muted/50 flex items-center justify-center mx-auto mb-4",children:o.jsx(QC,{className:"w-8 h-8 text-muted-foreground/50"})}),o.jsx("p",{className:"text-muted-foreground font-medium",children:"No stock purchases recorded yet"}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:'Click "Add Purchase" to record your first purchase'})]})})]})]})})}),o.jsx(Hs,{open:i,onOpenChange:a,children:o.jsxs(es,{className:"max-w-lg w-[95vw] sm:w-auto max-h-[90vh] overflow-y-auto",children:[o.jsxs(ts,{children:[o.jsx(rs,{children:"Record Stock Purchase"}),o.jsx(ns,{children:"Add a new stock batch with purchase details, pricing, and expiry information."})]}),o.jsxs("form",{onSubmit:w,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(je,{htmlFor:"product",children:"Product"}),o.jsxs(EF,{open:l,onOpenChange:c,children:[o.jsx(NF,{asChild:!0,children:o.jsxs(fe,{variant:"outline",role:"combobox","aria-expanded":l,className:"w-full justify-between",children:[p.productId?(E=t.find(S=>S.id===p.productId)||f)==null?void 0:E.name:"Select a product...",o.jsx(WC,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(KS,{className:"w-[--radix-popover-trigger-width] p-0",align:"start",children:o.jsxs(PS,{shouldFilter:!1,children:[o.jsx(RS,{placeholder:"Search products by name...",value:u,onValueChange:d}),o.jsxs(AS,{children:[o.jsx(OS,{children:"No product found."}),o.jsx(IS,{children:y.map(S=>o.jsxs(DS,{value:S.id,onSelect:()=>v(S),children:[o.jsx(bm,{className:Z("mr-2 h-4 w-4",p.productId===S.id?"opacity-100":"opacity-0")}),S.name," ",S.strength&&`(${S.strength})`,"  Stock: ",r(S.id)]},S.id))})]})]})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(je,{htmlFor:"batchNumber",children:"Batch Number *"}),o.jsx(Ie,{id:"batchNumber",value:p.batchNumber,onChange:S=>x({...p,batchNumber:S.target.value}),placeholder:"e.g., PCM-2024-001",required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(je,{htmlFor:"expiryDate",children:"Expiry Date *"}),o.jsx(Ie,{id:"expiryDate",type:"date",value:p.expiryDate,onChange:S=>x({...p,expiryDate:S.target.value}),required:!0})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(je,{htmlFor:"quantity",children:"Quantity"}),o.jsx(Ie,{id:"quantity",type:"number",min:"1",value:p.quantity,onChange:S=>x({...p,quantity:S.target.value}),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(je,{htmlFor:"costPrice",children:"Cost (Rs.)"}),o.jsx(Ie,{id:"costPrice",type:"number",step:"0.01",value:p.costPrice,onChange:S=>x({...p,costPrice:S.target.value}),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(je,{htmlFor:"sellingPrice",children:"Sell (Rs.)"}),o.jsx(Ie,{id:"sellingPrice",type:"number",step:"0.01",value:p.sellingPrice,onChange:S=>x({...p,sellingPrice:S.target.value}),required:!0})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(je,{htmlFor:"supplier",children:"Supplier"}),o.jsx(Ie,{id:"supplier",value:p.supplier,onChange:S=>x({...p,supplier:S.target.value}),placeholder:"Leave empty to use default supplier"})]}),p.quantity&&p.costPrice&&o.jsx("div",{className:"p-4 bg-primary/5 rounded-xl border border-primary/20",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-muted-foreground font-medium",children:"Total Cost"}),o.jsx("span",{className:"text-xl font-bold text-primary",children:_e(parseInt(p.quantity)*parseFloat(p.costPrice))})]})}),o.jsxs("div",{className:"flex flex-col-reverse sm:flex-row justify-end gap-3 pt-4",children:[o.jsx(fe,{type:"button",variant:"outline",onClick:()=>a(!1),className:"w-full sm:w-auto",children:"Cancel"}),o.jsx(fe,{type:"submit",className:"w-full sm:w-auto",children:"Record Purchase"})]})]})]})})]})})}var Id="Checkbox",[TF,YF]=ur(Id),[PF,lg]=TF(Id);function RF(t){const{__scopeCheckbox:e,checked:r,children:n,defaultChecked:s,disabled:i,form:a,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=t,[g,p]=Pr({prop:r,defaultProp:s??!1,onChange:c,caller:Id}),[x,m]=h.useState(null),[b,y]=h.useState(null),v=h.useRef(!1),w=x?!!a||!!x.closest("form"):!0,_={checked:g,disabled:i,setChecked:p,control:x,setControl:m,name:l,form:a,value:d,hasConsumerStoppedPropagationRef:v,required:u,defaultChecked:ss(s)?!1:s,isFormControl:w,bubbleInput:b,setBubbleInput:y};return o.jsx(PF,{scope:e,..._,children:AF(f)?f(_):n})}var GS="CheckboxTrigger",YS=h.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:r,...n},s)=>{const{control:i,value:a,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:g,isFormControl:p,bubbleInput:x}=lg(GS,t),m=Pe(s,d),b=h.useRef(c);return h.useEffect(()=>{const y=i==null?void 0:i.form;if(y){const v=()=>f(b.current);return y.addEventListener("reset",v),()=>y.removeEventListener("reset",v)}},[i,f]),o.jsx(ce.button,{type:"button",role:"checkbox","aria-checked":ss(c)?"mixed":c,"aria-required":u,"data-state":ej(c),"data-disabled":l?"":void 0,disabled:l,value:a,...n,ref:m,onKeyDown:ae(e,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:ae(r,y=>{f(v=>ss(v)?!0:!v),x&&p&&(g.current=y.isPropagationStopped(),g.current||y.stopPropagation())})})});YS.displayName=GS;var cg=h.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:i,required:a,disabled:l,value:c,onCheckedChange:u,form:d,...f}=t;return o.jsx(RF,{__scopeCheckbox:r,checked:s,defaultChecked:i,disabled:l,required:a,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:g})=>o.jsxs(o.Fragment,{children:[o.jsx(YS,{...f,ref:e,__scopeCheckbox:r}),g&&o.jsx(XS,{__scopeCheckbox:r})]})})});cg.displayName=Id;var QS="CheckboxIndicator",ZS=h.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...s}=t,i=lg(QS,r);return o.jsx(Gr,{present:n||ss(i.checked)||i.checked===!0,children:o.jsx(ce.span,{"data-state":ej(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});ZS.displayName=QS;var JS="CheckboxBubbleInput",XS=h.forwardRef(({__scopeCheckbox:t,...e},r)=>{const{control:n,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:a,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:g,setBubbleInput:p}=lg(JS,t),x=Pe(r,p),m=Lk(i),b=Yb(n);h.useEffect(()=>{const v=g;if(!v)return;const w=window.HTMLInputElement.prototype,k=Object.getOwnPropertyDescriptor(w,"checked").set,E=!s.current;if(m!==i&&k){const S=new Event("click",{bubbles:E});v.indeterminate=ss(i),k.call(v,ss(i)?!1:i),v.dispatchEvent(S)}},[g,m,i,s]);const y=h.useRef(ss(i)?!1:i);return o.jsx(ce.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??y.current,required:l,disabled:c,name:u,value:d,form:f,...e,tabIndex:-1,ref:x,style:{...e.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});XS.displayName=JS;function AF(t){return typeof t=="function"}function ss(t){return t==="indeterminate"}function ej(t){return ss(t)?"indeterminate":t?"checked":"unchecked"}const tj=h.forwardRef(({className:t,...e},r)=>o.jsx(cg,{ref:r,className:Z("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:o.jsx(ZS,{className:Z("flex items-center justify-center text-current"),children:o.jsx(bm,{className:"h-4 w-4"})})}));tj.displayName=cg.displayName;const rj=h.forwardRef(({className:t,...e},r)=>o.jsx("textarea",{className:Z("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));rj.displayName="Textarea";function OF(){var Q;const{sales:t,loading:e,getSaleByReceipt:r,processReturn:n}=jd(),{batches:s}=fi(),[i,a]=h.useState(""),[l,c]=h.useState(""),[u,d]=h.useState(""),[f,g]=h.useState(null),[p,x]=h.useState({}),[m,b]=h.useState(""),[y,v]=h.useState(!1),[w,_]=h.useState(!1),k=h.useMemo(()=>!t||!Array.isArray(t)?[]:t.filter(C=>{if(!(C!=null&&C.created_at))return!1;const j=new Date(C.created_at);return i&&l?gM(j,{start:hl(tr(i)),end:Vy(tr(l))}):i?j>=hl(tr(i)):l?j<=Vy(tr(l)):!0}).sort((C,j)=>new Date(j.created_at).getTime()-new Date(C.created_at).getTime()),[t,i,l]),E=h.useCallback((C,j)=>{var T;if(!j||!Array.isArray(j)||j.length===0)return 0;const L=(T=j[0])==null?void 0:T.batch_id;if(!L)return 0;const q=s.find(B=>B.id===L);return(q==null?void 0:q.cost_price)||0},[s]),S=h.useCallback(C=>{if(!C)return 0;const j=E(C.product_id,C.batch_deductions);return(C.unit_price-j)*C.quantity},[E]),R=h.useCallback(C=>!(C!=null&&C.items)||!Array.isArray(C.items)?0:C.items.reduce((j,L)=>j+S(L),0),[S]),$=h.useMemo(()=>{let C=k.reduce((B,F)=>B+((F==null?void 0:F.total)||0),0);const j=k.length;let L=k.reduce((B,F)=>{var P;return B+(((P=F==null?void 0:F.items)==null?void 0:P.reduce((U,M)=>U+((M==null?void 0:M.quantity)||0),0))||0)},0),q=k.reduce((B,F)=>B+R(F),0);k.forEach(B=>{B.returns&&Array.isArray(B.returns)&&B.returns.forEach(F=>{F.return_items&&Array.isArray(F.return_items)&&F.return_items.forEach(P=>{var M;const U=(M=B.items)==null?void 0:M.find(J=>J.id===P.sale_item_id);if(U){const J=U.unit_price*P.quantity,ne=E(U.product_id,U.batch_deductions),oe=(U.unit_price-ne)*P.quantity;C-=J,q-=oe,L-=P.quantity}})})});const T=j>0?C/j:0;return{totalRevenue:C,totalTransactions:j,avgTransaction:T,totalItems:L,totalProfit:q}},[k,R,E]),O=h.useMemo(()=>!f||!p?0:Object.entries(p).reduce((C,[j,L])=>{var T;const q=(T=f.items)==null?void 0:T.find(B=>B.id===j);return q?C+q.unit_price*L:C},0),[f,p]),N=async()=>{if(!u.trim()){H.error("Please enter a receipt number");return}g(null),x({}),_(!1);const C=await r(u);if(C){g(C);const j=new Date(C.created_at);gD(new Date,j)>2?(_(!0),H.error("Return period expired (limit: 2 days)")):(_(!1),H.success("Sale record found"))}else H.error("Receipt not found")},A=(C,j)=>{var L;if(j){const q=(L=f==null?void 0:f.items)==null?void 0:L.find(T=>T.id===C);if(q){let T=0;if(f!=null&&f.returns&&f.returns.forEach(F=>{F.return_items.forEach(P=>{P.sale_item_id===C&&(T+=P.quantity)})}),q.quantity-T<=0){H.error("This item has already been fully returned");return}x(F=>({...F,[C]:1}))}}else{const q={...p};delete q[C],x(q)}},I=(C,j)=>{var B;const L=(B=f==null?void 0:f.items)==null?void 0:B.find(F=>F.id===C);if(!L)return;let q=0;f!=null&&f.returns&&f.returns.forEach(F=>{F.return_items.forEach(P=>{P.sale_item_id===C&&(q+=P.quantity)})});const T=L.quantity-q;if(j>T){H.error(`Cannot return more than sold/remaining quantity (${T})`);return}j<1||x(F=>({...F,[C]:j}))},D=async()=>{if(!f)return;if(Object.keys(p).length===0){H.error("Please select items to return");return}if(!m.trim()){H.error("Please enter a reason for return");return}v(!0);const C=Object.entries(p).map(([L,q])=>{var B;const T=(B=f.items)==null?void 0:B.find(F=>F.id===L);if(!T)throw new Error("Item not found");return{sale_item_id:L,product_id:T.product_id,quantity:q,batch_deductions:T.batch_deductions}}),j=await n(f.id,C,m);v(!1),j.success?(H.success("Return processed successfully"),g(null),d(""),x({}),b("")):H.error(j.error||"Failed to process return")},W=()=>{if(k.length===0){H.error("No sales data to download");return}const C=["Sale ID","Date & Time","Product Name","Quantity","Unit Price","Subtotal","Discount","Total","Payment Method"],j=[];k.forEach(F=>{!(F!=null&&F.items)||!Array.isArray(F.items)||F.items.forEach((P,U)=>{var oe;const M=kt(new Date(F.created_at),"yyyy-MM-dd HH:mm:ss"),J=F.discount||0,ne=U===0&&F.items.length===1?F.total:P.total-(U===0?J/F.items.length:0);j.push([F.id,M,P.product_name||"",((oe=P.quantity)==null?void 0:oe.toString())||"0",_e(P.unit_price||0).replace("PKR ",""),_e(P.total||0).replace("PKR ",""),U===0?_e(J).replace("PKR ",""):"0",_e(ne).replace("PKR ",""),F.payment_method||""])})});const L=[C.join(","),...j.map(F=>F.map(P=>`"${P}"`).join(","))].join(`
`),q=new Blob([L],{type:"text/csv;charset=utf-8;"}),T=document.createElement("a"),B=URL.createObjectURL(q);T.setAttribute("href",B),T.setAttribute("download",`sales-report-${i||"all"}-${l||"all"}-${kt(new Date,"yyyyMMdd")}.csv`),T.style.visibility="hidden",document.body.appendChild(T),T.click(),document.body.removeChild(T),H.success("Sales report downloaded successfully")},V=()=>{W(),H.info("Downloaded as CSV (Excel-compatible)")};return o.jsx(ri,{children:o.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[o.jsxs("div",{className:"page-header mb-6 sm:mb-8",children:[o.jsx("h1",{className:"page-title text-2xl sm:text-3xl",children:"Sales Report"}),o.jsx("p",{className:"page-subtitle text-sm sm:text-base",children:"View and analyze your sales data"})]}),o.jsxs(ek,{defaultValue:"report",className:"w-full",children:[o.jsxs(Xm,{className:"grid w-full max-w-md grid-cols-2 mb-8",children:[o.jsx(pl,{value:"report",children:"Sales Report"}),o.jsx(pl,{value:"return",children:"Sales Return"})]}),o.jsxs(ml,{value:"report",className:"space-y-6",children:[o.jsx("div",{className:"bg-card rounded-2xl border border-border/60 p-4 sm:p-5 mb-4 sm:mb-6 shadow-sm",children:o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/10 flex items-center justify-center flex-shrink-0",children:o.jsx(BC,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{className:"flex-1 flex flex-col sm:flex-row items-stretch sm:items-center gap-3 sm:gap-4",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-4 flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(je,{htmlFor:"dateFrom",className:"text-sm text-muted-foreground whitespace-nowrap",children:"From"}),o.jsx(Ie,{id:"dateFrom",type:"date",value:i,onChange:C=>a(C.target.value),className:"w-full sm:w-44 h-10 sm:h-9"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(je,{htmlFor:"dateTo",className:"text-sm text-muted-foreground whitespace-nowrap",children:"To"}),o.jsx(Ie,{id:"dateTo",type:"date",value:l,onChange:C=>c(C.target.value),className:"w-full sm:w-44 h-10 sm:h-9"})]})]}),(i||l)&&o.jsx("button",{onClick:()=>{a(""),c("")},className:"text-sm text-primary hover:underline font-medium whitespace-nowrap",children:"Clear filter"})]})]}),o.jsxs("div",{className:"flex gap-2 flex-wrap",children:[o.jsxs(fe,{onClick:W,variant:"outline",size:"sm",className:"flex-1 sm:flex-initial",children:[o.jsx(Iv,{className:"w-4 h-4 mr-2"}),"Download CSV"]}),o.jsxs(fe,{onClick:V,variant:"outline",size:"sm",className:"flex-1 sm:flex-initial",children:[o.jsx(Iv,{className:"w-4 h-4 mr-2"}),"Download Excel"]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[o.jsx(Bn,{title:"Total Revenue",value:_e($.totalRevenue),icon:o.jsx(lu,{className:"w-6 h-6"}),variant:"success"}),o.jsx(Bn,{title:"Transactions",value:$.totalTransactions,icon:o.jsx(gf,{className:"w-6 h-6"})}),o.jsx(Bn,{title:"Avg. Transaction",value:_e($.avgTransaction),icon:o.jsx(uu,{className:"w-6 h-6"})}),o.jsx(Bn,{title:"Items Sold",value:$.totalItems,icon:o.jsx(_t,{className:"w-6 h-6"})})]}),o.jsx("div",{className:"bg-card rounded-2xl border border-border/60 shadow-sm overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(nr,{children:[o.jsx(sr,{children:o.jsxs(Oe,{className:"table-header",children:[o.jsx(le,{children:"Sale ID"}),o.jsx(le,{children:"Items"}),o.jsx(le,{children:"Payment"}),o.jsx(le,{children:"Date & Time"}),o.jsx(le,{className:"text-right",children:"Total"}),o.jsx(le,{className:"text-right",children:"Profit"})]})}),o.jsxs(ir,{children:[e?o.jsx(Oe,{children:o.jsxs(te,{colSpan:6,className:"text-center py-12",children:[o.jsx("div",{className:"w-16 h-16 rounded-2xl bg-muted/50 flex items-center justify-center mx-auto mb-4",children:o.jsx(gf,{className:"w-8 h-8 text-muted-foreground/50 animate-pulse"})}),o.jsx("p",{className:"text-muted-foreground font-medium",children:"Loading sales..."})]})}):k.map(C=>{var j;return o.jsxs(Oe,{className:"hover:bg-muted/30",children:[o.jsxs(te,{className:"font-mono text-sm",children:["#",C.id]}),o.jsx(te,{children:o.jsx("div",{className:"space-y-1",children:(j=C.items)==null?void 0:j.map((L,q)=>o.jsxs("div",{className:"text-sm",children:[o.jsx("span",{className:"font-medium",children:L.product_name||"Unknown"}),o.jsxs("span",{className:"text-muted-foreground",children:["  ",L.quantity||0]}),o.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["(Profit: ",_e(S(L)),")"]})]},q))})}),o.jsx(te,{children:o.jsx(Ze,{variant:"outline",className:"capitalize",children:C.payment_method||"N/A"})}),o.jsx(te,{className:"text-muted-foreground",children:kt(new Date(C.created_at),"MMM d, yyyy h:mm a")}),o.jsx(te,{className:"text-right font-semibold text-lg text-primary",children:_e(C.total||0)}),o.jsx(te,{className:"text-right font-semibold text-primary",children:_e(R(C))})]},C.id)}),!e&&k.length===0&&o.jsx(Oe,{children:o.jsxs(te,{colSpan:6,className:"text-center py-12",children:[o.jsx("div",{className:"w-16 h-16 rounded-2xl bg-muted/50 flex items-center justify-center mx-auto mb-4",children:o.jsx(gf,{className:"w-8 h-8 text-muted-foreground/50"})}),o.jsx("p",{className:"text-muted-foreground font-medium",children:"No sales found"}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:i||l?"Try adjusting your date filter":"Sales will appear here once you make your first sale"})]})}),!e&&k.length>0&&o.jsxs(Oe,{className:"bg-muted/50 font-semibold border-t-2",children:[o.jsx(te,{colSpan:4,className:"text-right",children:"Total:"}),o.jsx(te,{className:"text-right font-semibold text-lg text-primary",children:_e($.totalRevenue)}),o.jsx(te,{className:"text-right font-semibold text-lg text-primary",children:_e($.totalProfit)})]})]})]})})})]}),o.jsx(ml,{value:"return",className:"space-y-6",children:o.jsx("div",{className:"bg-card rounded-2xl border border-border/60 p-6 shadow-sm",children:o.jsxs("div",{className:"max-w-xl mx-auto space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(je,{children:"Receipt Number"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Ie,{placeholder:"Enter receipt number (e.g. RCP-2024...)",value:u,onChange:C=>d(C.target.value)}),o.jsxs(fe,{onClick:N,children:[o.jsx(rd,{className:"w-4 h-4 mr-2"}),"Search"]})]})]}),f&&o.jsxs("div",{className:"space-y-6 animate-in fade-in-50",children:[o.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"font-semibold",children:["Sale #",f.receipt_number]}),o.jsx("span",{className:"text-muted-foreground text-sm",children:kt(new Date(f.created_at),"PPP p")})]}),o.jsxs("div",{className:"flex justify-between items-center text-sm",children:[o.jsxs("span",{children:["Payment: ",f.payment_method]}),o.jsxs("span",{children:["Total: ",_e(f.total)]})]})]}),w?o.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-lg flex items-center gap-3",children:[o.jsx("div",{className:"h-10 w-10 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx("span",{className:"text-xl",children:""})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-bold",children:"Expired  Return Not Allowed"}),o.jsx("p",{className:"text-sm",children:"This receipt is older than 2 days."})]})]}):o.jsxs("div",{className:"bg-green-50 border border-green-200 text-green-700 p-4 rounded-lg flex items-center gap-3",children:[o.jsx("div",{className:"h-10 w-10 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx("span",{className:"text-xl",children:""})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-bold",children:"Return Available"}),o.jsx("p",{className:"text-sm",children:"This receipt is within the 2-day return policy."})]})]}),f.returns&&f.returns.some(C=>C.return_items&&C.return_items.length>0)&&o.jsxs("div",{className:"space-y-4",children:[o.jsx(je,{children:"Returned Items History"}),o.jsx("div",{className:"border rounded-lg overflow-hidden",children:o.jsxs(nr,{children:[o.jsx(sr,{children:o.jsxs(Oe,{children:[o.jsx(le,{children:"Product"}),o.jsx(le,{children:"Qty Returned"}),o.jsx(le,{children:"Return Receipt"}),o.jsx(le,{children:"Return Date"}),o.jsx(le,{className:"text-right",children:"Amount Deducted"}),o.jsx(le,{className:"text-right",children:"Profit Deducted"})]})}),o.jsx(ir,{children:f.returns.map(C=>C.return_items.map(j=>{var F;const L=(F=f.items)==null?void 0:F.find(P=>P.id===j.sale_item_id),q=L?L.unit_price*j.quantity:0,T=L?E(L.product_id,L.batch_deductions):0,B=L?(L.unit_price-T)*j.quantity:0;return o.jsxs(Oe,{children:[o.jsx(te,{className:"font-medium",children:(L==null?void 0:L.product_name)||"Unknown"}),o.jsx(te,{children:j.quantity}),o.jsx(te,{children:C.receipt_number}),o.jsx(te,{children:kt(new Date(C.created_at),"yyyy-MM-dd")}),o.jsx(te,{className:"text-right",children:_e(q)}),o.jsx(te,{className:"text-right",children:_e(B)})]},j.id)}))})]})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(je,{children:"Select Items to Return"}),o.jsx("div",{className:"border rounded-lg overflow-hidden",children:o.jsxs(nr,{children:[o.jsx(sr,{children:o.jsxs(Oe,{children:[o.jsx(le,{className:"w-[50px]",children:"Select"}),o.jsx(le,{children:"Product"}),o.jsx(le,{className:"text-right",children:"Sold Qty"}),o.jsx(le,{className:"text-right",children:"Return Qty"}),o.jsx(le,{className:"text-right",children:"Refund"})]})}),o.jsx(ir,{children:(Q=f.items)==null?void 0:Q.map(C=>{const j=!!p[C.id],L=p[C.id]||0;let q=0;f.returns&&f.returns.forEach(F=>{F.return_items.forEach(P=>{P.sale_item_id===C.id&&(q+=P.quantity)})});const T=C.quantity-q,B=T<=0;return o.jsxs(Oe,{className:B?"opacity-50 bg-muted/20":"",children:[o.jsx(te,{children:o.jsx(tj,{checked:j,onCheckedChange:F=>A(C.id,F),disabled:B||w})}),o.jsxs(te,{children:[o.jsx("div",{children:C.product_name}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:[_e(C.unit_price)," / unit"]})]}),o.jsxs(te,{className:"text-right",children:[C.quantity,q>0&&o.jsxs("span",{className:"text-xs text-red-500 block",children:["(-",q," returned)"]})]}),o.jsx(te,{className:"text-right",children:j?o.jsx(Ie,{type:"number",min:"1",max:T,value:L,onChange:F=>I(C.id,parseInt(F.target.value)||0),className:"w-20 h-8 ml-auto text-right"}):o.jsx("span",{className:"text-muted-foreground",children:"-"})}),o.jsx(te,{className:"text-right font-medium",children:j?_e(C.unit_price*L):"-"})]},C.id)})})]})})]}),o.jsxs("div",{className:"flex justify-end items-center py-4 border-t",children:[o.jsx("span",{className:"text-lg font-semibold mr-4",children:"Total Refund Amount:"}),o.jsx("span",{className:"text-2xl font-bold text-primary",children:_e(O)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(je,{children:"Reason for Return"}),o.jsx(rj,{placeholder:"Why is this being returned?",value:m,onChange:C=>b(C.target.value)})]}),o.jsx("div",{className:"flex justify-end pt-4",children:o.jsx(fe,{onClick:D,disabled:y||w,variant:"destructive",children:y?o.jsx(o.Fragment,{children:"Processing..."}):o.jsxs(o.Fragment,{children:[o.jsx(XC,{className:"w-4 h-4 mr-2"}),"Confirm Return"]})})})]})]})})})]})]})})}const fo=["#ef4444","#f97316","#eab308","#22c55e","#14b8a6","#3b82f6","#6366f1","#8b5cf6","#ec4899","#f43f5e"];function IF(){const{racks:t,loading:e,addRack:r,updateRack:n,deleteRack:s}=ig(),{products:i}=fi(),{isOwner:a}=Wa(),l=Tl(),[c,u]=h.useState(!1),[d,f]=h.useState(null),[g,p]=h.useState(null),[x,m]=h.useState(""),[b,y]=h.useState(fo[0]),[v,w]=h.useState(""),_=t.find(N=>N.id===g),k=g?i.filter(N=>N&&N.rack_id===g):[],E=async()=>{if(!x.trim()){H.error("Rack name is required");return}await r(x.trim(),b,v.trim()||void 0)&&(u(!1),$())},S=async()=>{if(!d||!x.trim()){H.error("Rack name is required");return}await n(d.id,{name:x.trim(),color:b,description:v.trim()||null})&&(f(null),$())},R=async N=>{confirm("Are you sure you want to delete this rack?")&&await s(N)},$=()=>{m(""),y(fo[0]),w("")},O=N=>{if(!N||!N.id){H.error("Invalid rack data");return}f(N),m(N.name||""),y(N.color||fo[0]),w(N.description||"")};return e?o.jsx(ri,{children:o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx(Xi,{className:"w-8 h-8 animate-spin text-primary"})})}):o.jsx(ri,{children:o.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[o.jsxs("div",{className:"page-header flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6 sm:mb-8",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"page-title text-2xl sm:text-3xl flex items-center gap-2 sm:gap-3",children:[o.jsx(jb,{className:"w-6 h-6 sm:w-8 sm:h-8 text-primary"}),"Rack Management"]}),o.jsx("p",{className:"page-subtitle text-sm sm:text-base",children:"Organize products by physical location"})]}),a&&o.jsxs(Hs,{open:c,onOpenChange:u,children:[o.jsx(H4,{asChild:!0,children:o.jsxs(fe,{onClick:$,className:"w-full sm:w-auto",children:[o.jsx(td,{className:"w-4 h-4 mr-2"}),"Add Rack"]})}),o.jsxs(es,{className:"w-[95vw] sm:w-auto max-h-[90vh] overflow-y-auto",children:[o.jsxs(ts,{children:[o.jsx(rs,{children:"Add New Rack"}),o.jsx(ns,{children:"Create a new rack or section to organize your products."})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(je,{children:"Rack Name"}),o.jsx(Ie,{value:x,onChange:N=>m(N.target.value),placeholder:"e.g., A, B, C or Shelf 1"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(je,{children:"Color"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:fo.map(N=>o.jsx("button",{type:"button",className:`w-8 h-8 rounded-full border-2 transition-all ${b===N?"border-foreground scale-110":"border-transparent"}`,style:{backgroundColor:N},onClick:()=>y(N)},N))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(je,{children:"Description (Optional)"}),o.jsx(Ie,{value:v,onChange:N=>w(N.target.value),placeholder:"e.g., Pain Relief Section"})]}),o.jsxs("div",{className:"flex flex-col-reverse sm:flex-row justify-end gap-3 pt-2",children:[o.jsx(fe,{type:"button",variant:"outline",onClick:()=>u(!1),className:"w-full sm:w-auto",children:"Cancel"}),o.jsx(fe,{onClick:E,className:"w-full sm:w-auto",children:"Add Rack"})]})]})]})]})]}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-3 sm:gap-4 mb-6 sm:mb-8",children:t.map(N=>{const A=i.filter(I=>I.rack_id===N.id).length;return o.jsxs(ka,{className:"relative overflow-hidden group cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>p(N.id),children:[o.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundColor:N.color}}),o.jsx(Sa,{className:"pb-2",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center text-white font-bold text-lg",style:{backgroundColor:N.color},children:N.name}),a&&o.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",onClick:I=>I.stopPropagation(),children:[o.jsx(fe,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:()=>O(N),children:o.jsx(mf,{className:"w-4 h-4"})}),o.jsx(fe,{size:"icon",variant:"ghost",className:"h-8 w-8 text-destructive",onClick:()=>R(N.id),children:o.jsx(wa,{className:"w-4 h-4"})})]})]})}),o.jsxs(ja,{children:[o.jsx("p",{className:"text-sm text-muted-foreground truncate mb-2",children:N.description||"No description"}),o.jsxs(Ze,{variant:"secondary",className:"text-xs",children:[A," product",A!==1?"s":""]})]})]},N.id)})}),o.jsxs(ka,{children:[o.jsx(Sa,{children:o.jsx(Rl,{className:"text-lg sm:text-xl",children:"All Racks"})}),o.jsx(ja,{children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(nr,{children:[o.jsx(sr,{children:o.jsxs(Oe,{children:[o.jsx(le,{className:"table-header",children:"Color"}),o.jsx(le,{className:"table-header",children:"Name"}),o.jsx(le,{className:"table-header",children:"Description"}),o.jsx(le,{className:"table-header",children:"Created"}),a&&o.jsx(le,{className:"table-header",children:"Actions"})]})}),o.jsx(ir,{children:t.map(N=>o.jsxs(Oe,{children:[o.jsx(te,{children:o.jsx("div",{className:"w-8 h-8 rounded-lg",style:{backgroundColor:N.color}})}),o.jsx(te,{className:"font-medium",children:N.name}),o.jsx(te,{className:"text-muted-foreground",children:N.description||"-"}),o.jsx(te,{className:"text-muted-foreground",children:new Date(N.created_at).toLocaleDateString()}),a&&o.jsx(te,{children:o.jsxs("div",{className:"flex gap-1",children:[o.jsx(fe,{size:"icon",variant:"ghost",onClick:()=>O(N),children:o.jsx(mf,{className:"w-4 h-4"})}),o.jsx(fe,{size:"icon",variant:"ghost",className:"text-destructive",onClick:()=>R(N.id),children:o.jsx(wa,{className:"w-4 h-4"})})]})})]},N.id))})]})})})]}),o.jsx(Hs,{open:!!g,onOpenChange:N=>!N&&p(null),children:o.jsxs(es,{className:"max-w-4xl w-[95vw] sm:w-auto max-h-[90vh] overflow-y-auto",children:[o.jsxs(ts,{children:[o.jsxs(rs,{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-6 h-6 rounded-lg flex items-center justify-center text-white font-bold",style:{backgroundColor:_==null?void 0:_.color},children:_==null?void 0:_.name}),"Products in ",_==null?void 0:_.name]}),o.jsx(ns,{children:"View all products assigned to this rack."})]}),o.jsx("div",{className:"overflow-auto max-h-[60vh]",children:k.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(_t,{className:"w-12 h-12 text-muted-foreground/50 mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"No products assigned to this rack"}),o.jsx(fe,{variant:"outline",className:"mt-4",onClick:()=>{p(null),l("/products")},children:"Add Products"})]}):o.jsxs(nr,{children:[o.jsx(sr,{children:o.jsxs(Oe,{children:[o.jsx(le,{children:"Product"}),o.jsx(le,{children:"Barcode"}),o.jsx(le,{children:"Category"}),o.jsx(le,{children:"Actions"})]})}),o.jsx(ir,{children:k.map(N=>o.jsxs(Oe,{children:[o.jsx(te,{children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary/10 flex items-center justify-center",children:o.jsx(_t,{className:"w-4 h-4 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:N.name}),N.strength&&o.jsx("p",{className:"text-xs text-muted-foreground",children:N.strength})]})]})}),o.jsx(te,{className:"font-mono text-sm",children:N.barcode||"N/A"}),o.jsx(te,{children:o.jsx(Ze,{variant:"outline",children:N.category||"Uncategorized"})}),o.jsx(te,{children:o.jsxs(fe,{variant:"ghost",size:"sm",onClick:()=>{p(null),l("/products")},children:[o.jsx(mf,{className:"w-4 h-4 mr-1"}),"Edit"]})})]},N.id))})]})})]})}),o.jsx(Hs,{open:!!d,onOpenChange:()=>f(null),children:o.jsxs(es,{className:"w-[95vw] sm:w-auto max-h-[90vh] overflow-y-auto",children:[o.jsxs(ts,{children:[o.jsx(rs,{children:"Edit Rack"}),o.jsx(ns,{children:"Update rack information below."})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(je,{children:"Rack Name"}),o.jsx(Ie,{value:x,onChange:N=>m(N.target.value),placeholder:"e.g., A, B, C",className:"h-10 sm:h-9"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(je,{children:"Color"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:fo.map(N=>o.jsx("button",{type:"button",className:`w-8 h-8 rounded-full border-2 transition-all ${b===N?"border-foreground scale-110":"border-transparent"}`,style:{backgroundColor:N},onClick:()=>y(N)},N))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(je,{children:"Description"}),o.jsx(Ie,{value:v,onChange:N=>w(N.target.value),placeholder:"e.g., Pain Relief Section",className:"h-10 sm:h-9"})]}),o.jsxs("div",{className:"flex flex-col-reverse sm:flex-row justify-end gap-3 pt-2",children:[o.jsx(fe,{type:"button",variant:"outline",onClick:()=>f(null),className:"w-full sm:w-auto",children:"Cancel"}),o.jsx(fe,{onClick:S,className:"w-full sm:w-auto",children:"Save Changes"})]})]})]})})]})})}const DF=()=>{const t=di(),e=Tl();return h.useEffect(()=>{const r=(t==null?void 0:t.pathname)||"unknown";console.error("404 Error: User attempted to access non-existent route:",r)},[t]),o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:o.jsxs("div",{className:"text-center max-w-md",children:[o.jsx("h1",{className:"mb-4 text-6xl font-bold text-foreground",children:"404"}),o.jsx("p",{className:"mb-2 text-xl font-semibold text-foreground",children:"Page Not Found"}),o.jsx("p",{className:"mb-6 text-muted-foreground",children:"The page you're looking for doesn't exist or has been moved."}),(t==null?void 0:t.pathname)&&o.jsxs("p",{className:"mb-6 text-sm text-muted-foreground font-mono",children:["Attempted path: ",t.pathname]}),o.jsxs("div",{className:"flex gap-3 justify-center",children:[o.jsxs(fe,{onClick:()=>e(-1),variant:"outline",children:[o.jsx(UC,{className:"w-4 h-4 mr-2"}),"Go Back"]}),o.jsxs(fe,{onClick:()=>e("/"),variant:"default",children:[o.jsx(Sb,{className:"w-4 h-4 mr-2"}),"Go Home"]})]})]})})},MF=new jA({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1,staleTime:5*60*1e3},mutations:{retry:1}}}),$F=()=>o.jsx(NA,{client:MF,children:o.jsx(oD,{children:o.jsx(uD,{children:o.jsxs(tA,{children:[o.jsx(FT,{}),o.jsx(vP,{}),o.jsx(kO,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:o.jsxs(gO,{children:[o.jsx(Jr,{path:"/auth",element:o.jsx(_n,{children:o.jsx(F4,{})})}),o.jsx(Jr,{path:"/",element:o.jsx(Ns,{children:o.jsx(_n,{children:o.jsx(K$,{})})})}),o.jsx(Jr,{path:"/pos",element:o.jsx(Ns,{children:o.jsx(_n,{children:o.jsx(oL,{})})})}),o.jsx(Jr,{path:"/products",element:o.jsx(Ns,{children:o.jsx(_n,{children:o.jsx(BL,{})})})}),o.jsx(Jr,{path:"/purchases",element:o.jsx(Ns,{children:o.jsx(_n,{children:o.jsx(CF,{})})})}),o.jsx(Jr,{path:"/sales",element:o.jsx(Ns,{children:o.jsx(_n,{children:o.jsx(OF,{})})})}),o.jsx(Jr,{path:"/racks",element:o.jsx(Ns,{children:o.jsx(_n,{children:o.jsx(IF,{})})})}),o.jsx(Jr,{path:"*",element:o.jsx(Ns,{children:o.jsx(_n,{children:o.jsx(DF,{})})})})]})}),o.jsx(AM,{})]})})})});class LF extends h.Component{constructor(r){super(r);$d(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});$d(this,"handleGoHome",()=>{window.location.href="/"});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error("ErrorBoundary caught an error:",r,n),this.setState({error:r,errorInfo:n})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:o.jsxs(ka,{className:"w-full max-w-2xl",children:[o.jsx(Sa,{children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 rounded-xl bg-destructive/10 flex items-center justify-center",children:o.jsx(Zn,{className:"w-6 h-6 text-destructive"})}),o.jsxs("div",{children:[o.jsx(Rl,{className:"text-2xl",children:"Something went wrong"}),o.jsx(md,{children:"An unexpected error occurred. Please try again or contact support if the problem persists."})]})]})}),o.jsxs(ja,{className:"space-y-4",children:[this.state.error&&o.jsxs(Wm,{variant:"destructive",children:[o.jsx(Zn,{className:"h-4 w-4"}),o.jsx(qm,{children:"Error Details"}),o.jsx(Hm,{className:"mt-2",children:o.jsx("code",{className:"text-xs bg-muted p-2 rounded block overflow-auto",children:this.state.error.toString()})})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(fe,{onClick:this.handleReset,variant:"default",children:[o.jsx(JC,{className:"w-4 h-4 mr-2"}),"Try Again"]}),o.jsxs(fe,{onClick:this.handleGoHome,variant:"outline",children:[o.jsx(Sb,{className:"w-4 h-4 mr-2"}),"Go Home"]})]}),!1]})]})}):this.props.children}}const nj=document.getElementById("root");if(!nj)throw new Error("Root element not found. Make sure there's a div with id='root' in your HTML.");K0(nj).render(o.jsx(LF,{children:o.jsx($F,{})}));
